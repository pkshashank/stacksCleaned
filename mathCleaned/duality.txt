LEM	  Let MATH be a locally Noetherian scheme. Let MATH be an object of MATH. The following are equivalent <CASES> CASE: For every affine open MATH there exists a dualizing complex MATH for MATH such that MATH is isomorphic to the image of MATH by the functor MATH. CASE: There is an affine open covering MATH, MATH such that for each MATH there exists a dualizing complex MATH for MATH such that MATH is isomorphic to the image of MATH by the functor MATH. </CASES>  
DEF	  Let MATH be a locally Noetherian scheme. An object MATH of MATH is called a dualizing complex if MATH satisfies the equivalent conditions of Lemma REF.  
LEM	  Let MATH be a Noetherian ring and let MATH. Let MATH be objects of MATH. If MATH and MATH has finite injective dimension, then MATH in MATH.  
LEM	  Let MATH be a Noetherian scheme. Let MATH.  Then the map MATH of Cohomology, Lemma REF is an isomorphism in the following two cases <CASES> CASE: MATH, MATH, and MATH affine locally has finite injective dimension (see proof), or CASE: MATH and MATH are in MATH, the object MATH has finite tor dimension, and MATH and MATH affine locally have finite injective dimension (in particular MATH and MATH are bounded). </CASES>  
LEM	  Let MATH be a dualizing complex on a locally Noetherian scheme MATH. Then MATH is an object of MATH and MATH induces an anti-equivalence MATH which comes equipped with a canonical isomorphism MATH. If MATH is quasi-compact, then MATH exchanges MATH and MATH and induces an anti-equivalence MATH.  
LEM	  Let MATH be a locally Noetherian scheme. If MATH and MATH are dualizing complexes on MATH, then MATH is isomorphic to MATH for some invertible object MATH of MATH.  
LEM	  Let MATH be a locally Noetherian scheme. Let MATH be a dualizing complex on MATH. Then MATH is universally catenary and the function MATH defined by MATH is a dimension function.  
LEM	  Let MATH be a locally Noetherian scheme. Let MATH be a dualizing complex on MATH with associated dimension function MATH. Let MATH be a coherent MATH-module. Set MATH. Then MATH is a coherent MATH-module and for MATH we have <CASES> CASE: MATH is nonzero only for MATH, CASE: MATH, CASE: MATH is the smallest integer MATH such that MATH, and CASE: we have MATH. </CASES>  
LEM	  REF Let MATH be a morphism between quasi-separated and quasi-compact schemes. The functor MATH has a right adjoint.  
LEM	  Let MATH be a morphism of quasi-compact and quasi-separated schemes. Let MATH be the right adjoint to MATH of Lemma REF. Then MATH maps MATH into MATH. In fact, there exists an integer MATH such that MATH for MATH implies MATH for MATH.  
LEM	  Let MATH be a morphism of quasi-compact and quasi-separated schemes. Let MATH be the right adjoint to MATH. Let MATH and MATH. Then the map (REF) MATH becomes an isomorphism after applying the functor MATH discussed in Derived Categories of Schemes, Section REF.  
LEM	  Let MATH be a morphism of quasi-separated and quasi-compact schemes. For all MATH and MATH (REF) induces an isomorphism MATH of global derived homs.  
LEM	  In diagram (REF) assume that MATH is flat or more generally that MATH and MATH are Tor independent. Then MATH is an isomorphism.  
LEM	  Let MATH be a morphism of quasi-compact and quasi-separated schemes. Let MATH be the right adjoint to MATH. Let MATH be quasi-compact open with inverse image MATH. <CASES> CASE: For every MATH supported on MATH the image MATH is supported on MATH if and only if (REF) is an isomorphism on all MATH in MATH. CASE: For every MATH supported on MATH the image MATH is supported on MATH if and only if (REF) is an isomorphism on all MATH in MATH. CASE: If MATH commutes with direct sums, then the equivalent conditions of (1) imply the equivalent conditions of (2). </CASES>  
LEM	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a proper morphism. If <CASES> CASE: MATH is flat and of finite presentation, or CASE: MATH is Noetherian </CASES> then the equivalent conditions of Lemma REF part (1) hold for all quasi-compact opens MATH of MATH.  
LEM	  Consider a commutative diagram MATH of quasi-compact and quasi-separated schemes where both diagrams are cartesian and where MATH and MATH as well as MATH and MATH are Tor independent. Then the maps (REF) for the two squares compose to give the base change map for the outer rectangle (see proof for a precise statement).  
LEM	  Consider a commutative diagram MATH of quasi-compact and quasi-separated schemes where both diagrams are cartesian and where MATH and MATH as well as MATH and MATH are Tor independent. Then the maps (REF) for the two squares compose to give the base change map for the outer rectangle (see proof for a precise statement).  
LEM	  In diagram (REF) assume <CASES> CASE: MATH is a morphism of affine schemes, CASE: MATH is proper, and CASE: MATH and MATH are Tor independent. </CASES> Then the base change map (REF) induces an isomorphism MATH in the following cases <CASES> CASE: for all MATH if MATH is flat of finite presentation, CASE: for all MATH if MATH is perfect and MATH Noetherian, CASE: for MATH if MATH has finite Tor dimension and MATH Noetherian. </CASES>  
LEM	[Trace map and base change]  Suppose we have a diagram (REF) where MATH and MATH are tor independent. Then the maps MATH and MATH agree via the base change maps MATH (Cohomology, Remark REF) and MATH (REF). More precisely, the diagram MATH of transformations of functors commutes.  
LEM	  Suppose we have a diagram (REF) where MATH and MATH are tor independent. Then the maps MATH and MATH agree via the base change maps MATH (Cohomology, Remark REF) and MATH (REF). More precisely, the diagram MATH of transformations of functors commutes.  
LEM	  Let MATH be a morphism of quasi-compact and quasi-separated schemes. The map MATH defined above for MATH is an isomorphism if MATH is perfect. In particular, (REF) is an isomorphism if MATH is perfect.  
LEM	  Suppose we have a diagram (REF) where MATH and MATH are tor independent. Let MATH. The diagram MATH commutes where the horizontal arrows are the maps (REF) for MATH and MATH and the vertical maps are constructed using Cohomology, Remark REF and (REF).  
LEM	  Let MATH be a proper morphism of Noetherian schemes. Let MATH be an open such that MATH is an isomorphism. Then for MATH the map (REF) restricts to an isomorphism over MATH.  
LEM	  Let MATH and MATH be composable morphisms of quasi-compact and quasi-separated schemes and set MATH. Let MATH be the adjoints of Lemma REF for MATH. For any MATH the diagram MATH is commutative where the arrows are (REF) and we have used MATH and MATH.  
LEM	  With notation as above. The functor MATH is a right adjoint to the functor MATH. For MATH open we have MATH where MATH is an open whose intersection with MATH is MATH.  
LEM	  With notation as above. The functor MATH is the right adjoint of the functor MATH.  
LEM	  With notation as above. We have MATH in MATH for all MATH in MATH.  
LEM	  With notation as above. For MATH we have MATH in MATH for all MATH in MATH.  
LEM	  Let MATH be a pseudo-coherent closed immersion of schemes (any closed immersion if MATH is locally Noetherian). Then <CASES> CASE: MATH maps MATH into MATH, and CASE: if MATH and MATH, then the diagram MATH is commutative. </CASES>  
LEM	  Let MATH be a closed immersion of schemes. Assume MATH is a locally Noetherian. Then MATH maps MATH into MATH.  
LEM	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a pseudo-coherent closed immersion (if MATH is Noetherian, then any closed immersion is pseudo-coherent). Let MATH be the right adjoint to MATH. Then there is a functorial isomorphism MATH for MATH.  
LEM	  In the situation above, the map (REF) is an isomorphism if and only if the base change map MATH of Cohomology, Remark REF is an isomorphism.  
LEM	  In the situation above, assume MATH is flat and MATH pseudo-coherent. Then (REF) is an isomorphism for MATH in MATH.  
LEM	  Let MATH be a pseudo-coherent closed immersion of schemes. Let MATH locally have tor-amplitude in MATH. Let MATH. Then there is a canonical isomorphism MATH in MATH.  
LEM	  With notation as above. The functor MATH is a right adjoint to the restriction functor MATH. For an affine open MATH we have MATH where MATH and MATH.  
LEM	  With notation as above. The functor MATH is the right adjoint of the functor MATH.  
LEM	  With notation as above. The composition MATH is the functor MATH.  
LEM	  Let MATH be a finite pseudo-coherent morphism of schemes (a finite morphism of Noetherian schemes is pseudo-coherent). The functor MATH maps MATH into MATH. If MATH is quasi-compact and quasi-separated, then the diagram MATH is commutative, where MATH is the right adjoint of Lemma REF for MATH and MATH is the equivalence of Derived Categories of Schemes, Lemma REF.  
LEM	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a morphism of schemes which is proper, flat, and of finite presentation. Let MATH be the right adjoint for MATH of Lemma REF. Then MATH commutes with direct sums.  
LEM	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a morphism of schemes which is proper, flat, and of finite presentation. Let MATH be the right adjoint for MATH of Lemma REF. Then <CASES> CASE: for every closed MATH if MATH is supported on MATH, then MATH is supported on MATH, CASE: for every open MATH and any MATH the map (REF) is an isomorphism, and </CASES>  
LEM	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a morphism of schemes which is proper, flat, and of finite presentation. The map (REF) is an isomorphism for every object MATH of MATH.  
LEM	  Let MATH be a morphism of quasi-compact and quasi-separated schemes. Let MATH be a proper, flat morphism of finite presentation. Then the base change map (REF) is an isomorphism for all MATH.  
LEM	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a morphism of schemes which is proper, flat, and of finite presentation with relative dualizing complex MATH (Remark REF). Then <CASES> CASE: MATH is a MATH-perfect object of MATH, CASE: MATH has vanishing cohomology sheaves in positive degrees, CASE: MATH is an isomorphism. </CASES>  
LEM	[Rigidity]  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a proper, flat morphism of finite presentation with relative dualizing complex MATH (Remark REF). There is a canonical isomorphism MATH and a canonical isomorphism MATH where MATH is the right adjoint of Lemma REF for the diagonal MATH.  
LEM	  Let MATH be a perfect proper morphism of Noetherian schemes. Let MATH be the right adjoint for MATH of Lemma REF. Then MATH commutes with direct sums.  
LEM	  Let MATH be a perfect proper morphism of Noetherian schemes. Let MATH be the right adjoint for MATH of Lemma REF. Then <CASES> CASE: for every closed MATH if MATH is supported on MATH, then MATH is supported on MATH, CASE: for every open MATH and any MATH the map (REF) is an isomorphism, and </CASES>  
LEM	  Let MATH be a perfect proper morphism of Noetherian schemes. The map (REF) is an isomorphism for every object MATH of MATH.  
LEM	  Let MATH be a perfect proper morphism of Noetherian schemes. Let MATH be a morphism with MATH Noetherian. If MATH and MATH are tor independent over MATH, then the base change map (REF) is an isomorphism for all MATH.  
LEM	  As above, let MATH be a scheme and let MATH be an effective Cartier divisor. There is a canonical isomorphism MATH in MATH.  
LEM	  As above, let MATH be a scheme and let MATH be an effective Cartier divisor. Then (REF) combined with Lemma REF defines an isomorphism MATH functorial in MATH in MATH.  
LEM	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a finite locally free MATH-module of rank MATH with determinant MATH. Let MATH be the projection. Let MATH be the right adjoint for MATH of Lemma REF. Then there is an isomorphism MATH In particular, if MATH, then MATH and we obtain MATH.  
LEM	  Let MATH be a ringed space. Let MATH be a sheaf of ideals. Set MATH and MATH. There is a canonical isomorphism MATH.  
LEM	  Let MATH be a ringed space. Let MATH be a sheaf of ideals. Set MATH. If MATH is Koszul-regular (Divisors, Definition REF) then composition on MATH defines isomorphisms MATH for all MATH.  
LEM	  Let MATH be a ringed space. Let MATH be a sheaf of ideals. Set MATH and MATH. If MATH is Koszul-regular (Divisors, Definition REF) then MATH where MATH sends MATH to the minimal number of generators of MATH needed in a neighbourhood of MATH.  
LEM	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a Koszul-regular closed immersion. Let MATH be the right adjoint of MATH of Lemma REF. Then there is an isomorphism MATH where MATH is the normal sheaf of MATH (Morphisms, Section REF) and MATH is its rank viewed as a locally constant function on MATH.  
LEM	  Let MATH be a Noetherian scheme. Let MATH be a smooth proper morphism of relative dimension MATH. Let MATH be the right adjoint of MATH as in Lemma REF. Then there is an isomorphism MATH in MATH.  
LEM	  In Situation REF let MATH be a morphism of MATH. The functor MATH is, up to canonical isomorphism, independent of the choice of the compactification.  
LEM	  In Situation REF let MATH and MATH be composable morphisms of MATH. Then there is a canonical isomorphism MATH.  
LEM	  In Situation REF the constructions of Lemmas REF and REF define a pseudo functor from the category MATH into the MATH-category of categories (see Categories, Definition REF).  
LEM	  In Situation REF let MATH be a morphism of MATH. There are canonical maps MATH functorial in MATH in MATH. If MATH is another morphism of MATH, then the diagram MATH commutes for all MATH.  
LEM	  In Situation REF let MATH be an object of MATH and let MATH be an open immersion. Then there is a canonical isomorphism MATH of functors.  
LEM	  In Situation REF let MATH be a commutative diagram of MATH where MATH and MATH are open immersions. Then MATH as functors MATH.  
LEM	  In Situation REF let MATH be an object of MATH and let MATH be the projection. Then there is a (noncanonical) isomorphism MATH of functors.  
LEM	  In Situation REF let MATH be an object of MATH and let MATH be a closed immersion. Then there is a canonical isomorphism MATH of functors.  
LEM	  In Situation REF let MATH be a morphism of MATH. Then MATH maps MATH into MATH.  
LEM	  In Situation REF let MATH be a morphism of MATH. If MATH is a dualizing complex for MATH, then MATH is a dualizing complex for MATH.  
LEM	  In Situation REF let MATH be a morphism of MATH. Let MATH be a dualizing complex on MATH. Set MATH for MATH and MATH for MATH. Then there is a canonical isomorphism MATH for MATH.  
LEM	  In Situation REF let MATH be a morphism of MATH. Assume MATH is perfect (e.g., flat). Then <CASES> CASE: MATH is in MATH, CASE: MATH has finite tor dimension in MATH, CASE: MATH is an isomorphism, CASE: MATH maps MATH into MATH, CASE: the map MATH of Lemma REF is an isomorphism for all MATH. </CASES>  
LEM	  In Situation REF let MATH be a morphism of MATH. If MATH is flat, then MATH is a MATH-perfect object of MATH and MATH is an isomorphism.  
LEM	  In Situation REF let MATH be a morphism of MATH. Assume MATH is a local complete intersection morphism. Then <CASES> CASE: MATH is an invertible object of MATH, and CASE: MATH maps perfect complexes to perfect complexes. </CASES>  
LEM	  In Situation REF let MATH be a cartesian diagram of MATH with MATH flat. Then there is an isomorphism MATH on MATH.  
LEM	  In Situation REF let MATH be an etale morphism of MATH. Then MATH as functors on MATH.  
LEM	[Makeshift base change]  In Situation REF let MATH be a cartesian diagram of MATH. Let MATH be an object such that MATH is in MATH. If MATH is flat, then MATH and MATH restrict to isomorphic objects of MATH for MATH affine open mapping into affine opens of MATH, MATH, and MATH.  
LEM	  In Situation REF let MATH be a morphism of MATH. Assume MATH is flat. Set MATH in MATH. Let MATH and MATH the projection. Then MATH is a dualizing complex on MATH.  
LEM	  In Situation REF let MATH be a scheme of finite type over MATH and let MATH be a finite open covering of MATH by schemes separated over MATH. If there exists a dualizing complex normalized relative to MATH and MATH, then it is unique up to unique isomorphism.  
LEM	  In Situation REF let MATH be a scheme of finite type over MATH and let MATH, MATH be two finite open coverings of MATH by schemes separated over MATH. If there exists a dualizing complex normalized relative to MATH and MATH, then there exists a dualizing complex normalized relative to MATH and MATH and these complexes are canonically isomorphic.  
LEM	  In Situation REF let MATH be a scheme of finite type over MATH and let MATH be a finite open covering of MATH by schemes separated over MATH. Then there exists a dualizing complex normalized relative to MATH and MATH.  
DEF	  Let MATH be a Noetherian scheme and let MATH be a dualizing complex on MATH. Let MATH be a scheme of finite type over MATH. The complex MATH constructed above is called the dualizing complex normalized relative to MATH and is denoted MATH.  
LEM	  Let MATH be as in Situation REF. Let MATH be a morphism of finite type schemes over MATH. Let MATH and MATH be dualizing complexes normalized relative to MATH. Then MATH is a dualizing complex normalized relative to MATH.  
LEM	  Let MATH be as in Situation REF. Let MATH be an open immersion of schemes of finite type over MATH. Let MATH and MATH be dualizing complexes normalized relative to MATH. Then there is a canonical isomorphism MATH.  
LEM	  Let MATH be as in Situation REF. Let MATH be a proper morphism of schemes of finite type over MATH. Let MATH and MATH be dualizing complexes normalized relative to MATH. Let MATH be the right adjoint of Lemma REF for MATH. Then there is a canonical isomorphism MATH.  
LEM	  Let MATH be as in Situation REF. With MATH and MATH defined for all (morphisms of) schemes of finite type over MATH as above: <CASES> CASE: the functors MATH and the arrows MATH turn MATH into a pseudo functor from the category of schemes of finite type over MATH into the MATH-category of categories, CASE: MATH, CASE: the functor MATH defines an involution of MATH switching MATH and MATH and fixing MATH, CASE: MATH for MATH a morphism of finite type schemes over MATH, CASE: MATH for MATH, and CASE: if in addition MATH is proper, then MATH is isomorphic to the restriction of the right adjoint of MATH to MATH and there is a canonical isomorphism MATH for MATH and MATH, and MATH for MATH and </CASES> If MATH is separated over MATH, then MATH is canonically isomorphic to MATH and if MATH is a morphism between schemes separated over MATH, then there is a canonical isomorphism MATH for MATH in MATH.  
LEM	  Let MATH be a Noetherian scheme and let MATH be a dualizing complex. Let MATH be a scheme of finite type over MATH and let MATH be the dualizing complex normalized relative to MATH. If MATH is a closed point lying over a closed point MATH of MATH, then MATH is a normalized dualizing complex over MATH provided that MATH is a normalized dualizing complex over MATH.  
LEM	  Let MATH be a Noetherian scheme and let MATH be a dualizing complex. Let MATH be of finite type and let MATH be the dualizing complex normalized relative to MATH. For all MATH we have MATH where MATH, resp.\ MATH is the dimension function of MATH, resp.\ MATH, see Lemma REF.  
LEM	  In Situation REF let MATH be a morphism of MATH. Let MATH with image MATH. Then MATH  
LEM	  In Situation REF let MATH be a morphism of MATH. Let MATH with image MATH. If MATH is flat, then MATH In fact, if all fibres of MATH have dimension MATH, then MATH has tor-amplitude in MATH as an object of MATH.  
LEM	  In Situation REF let MATH be a morphism of MATH. Let MATH with image MATH. Assume <CASES> CASE: MATH is Cohen-Macaulay, and CASE: MATH for any generic point MATH of an irreducible component of MATH containing MATH. </CASES> Then MATH and the stalk MATH is MATH as an MATH-module.  
LEM	  In Situation REF let MATH be a morphism of MATH. If MATH is flat and quasi-finite, then MATH for some coherent MATH-module MATH flat over MATH.  
LEM	  In Situation REF let MATH be a morphism of MATH. If MATH is Cohen-Macaulay (More on Morphisms, Definition REF), then MATH for some coherent MATH-module MATH flat over MATH where MATH is the locally constant function on MATH which gives the relative dimension of MATH over MATH.  
LEM	  Let MATH be a connected Noetherian scheme and let MATH be a dualizing module on MATH. The support of MATH is the union of the irreducible components of maximal dimension with respect to any dimension function and MATH is a coherent MATH-module having property MATH.  
LEM	  Let MATH with MATH and MATH be as in Example REF. Then <CASES> CASE: MATH, CASE: the dimension of the support of MATH is at most MATH, CASE: MATH is the union of the components of dimension MATH, and CASE: MATH has property MATH. </CASES>  
LEM	  Let MATH with dualizing module MATH be as in Example REF. Let MATH be the dimension of the closed fibre. If MATH, then the dualizing module MATH represents the functor MATH on the category of coherent MATH-modules.  
LEM	  Let MATH be a locally Noetherian scheme with dualizing complex MATH. <CASES> CASE: MATH is Cohen-Macaulay MATH MATH locally has a unique nonzero cohomology sheaf, CASE: MATH is Cohen-Macaulay MATH MATH has a unique nonzero cohomology, CASE: MATH is open and Cohen-Macaulay. </CASES> If MATH is connected and Cohen-Macaulay, then there is an integer MATH and a coherent Cohen-Macaulay MATH-module MATH such that MATH.  
LEM	  Let MATH be a locally Noetherian scheme. If there exists a coherent sheaf MATH such that MATH is a dualizing complex on MATH, then MATH is a Cohen-Macaulay scheme.  
LEM	  In Situation REF let MATH be a morphism of MATH. Let MATH. If MATH is flat, then the following are equivalent <CASES> CASE: MATH is Cohen-Macaulay at MATH, CASE: MATH has a unique nonzero cohomology sheaf in a neighbourhood of MATH. </CASES>  
DEF	  Let MATH be a scheme. We say MATH is Gorenstein if MATH is locally Noetherian and MATH is Gorenstein for all MATH.  
LEM	  A Gorenstein scheme is Cohen-Macaulay.  
LEM	  A regular scheme is Gorenstein.  
LEM	  Let MATH be a locally Noetherian scheme. <CASES> CASE: If MATH has a dualizing complex MATH, then <CASES> CASE: MATH is Gorenstein MATH MATH is an invertible object of MATH, CASE: MATH is Gorenstein MATH MATH is an invertible object of MATH, CASE: MATH is an open Gorenstein subscheme. </CASES> CASE: If MATH is Gorenstein, then MATH has a dualizing complex if and only if MATH is a dualizing complex. </CASES>  
LEM	  If MATH is a local complete intersection morphism with MATH a Gorenstein scheme, then MATH is Gorenstein.  
LEM	  The property MATH``MATH is Gorenstein'' is local in the syntomic topology.  
LEM	  Let MATH be a locally Noetherian scheme over the field MATH. Let MATH be a finitely generated field extension. Let MATH be a point, and let MATH be a point lying over MATH. Then we have MATH If MATH is locally of finite type over MATH, the same holds for any field extension MATH.  
DEF	  Let MATH be a morphism of schemes. Assume that all the fibres MATH are locally Noetherian schemes. <CASES> CASE: Let MATH, and MATH. We say that MATH is Gorenstein at MATH if MATH is flat at MATH, and the local ring of the scheme MATH at MATH is Gorenstein. CASE: We say MATH is a Gorenstein morphism if MATH is Gorenstein at every point of MATH. </CASES>  
LEM	  Let MATH be a morphism of schemes. Assume all fibres of MATH are locally Noetherian. The following are equivalent <CASES> CASE: MATH is Gorenstein, and CASE: MATH is flat and its fibres are Gorenstein schemes. </CASES>  
LEM	  A Gorenstein morphism is Cohen-Macaulay.  
LEM	  A syntomic morphism is Gorenstein. Equivalently a flat local complete intersection morphism is Gorenstein.  
LEM	  Let MATH and MATH be morphisms. Assume that the fibres MATH, MATH and MATH of MATH, MATH, and MATH are locally Noetherian. <CASES> CASE: If MATH is Gorenstein at MATH and MATH is Gorenstein at MATH, then MATH is Gorenstein at MATH. CASE: If MATH and MATH are Gorenstein, then MATH is Gorenstein. CASE: If MATH is Gorenstein at MATH and MATH is flat at MATH, then MATH is Gorenstein at MATH and MATH is Gorenstein at MATH. CASE: If MATH is Gorenstein and MATH is flat, then MATH is Gorenstein and MATH is Gorenstein at every point in the image of MATH. </CASES>  
LEM	  [ Gorensteinnes of the total space of a flat fibration implies same for base and fibres ] Let MATH be a flat morphism of locally Noetherian schemes. If MATH is Gorenstein, then MATH is Gorenstein and MATH is Gorenstein for all MATH.  
LEM	  Let MATH be a morphism of schemes. Assume that all the fibres MATH are locally Noetherian schemes. Let MATH be locally of finite type. Let MATH be the base change of MATH. Let MATH be a point with image MATH. <CASES> CASE: If MATH is Gorenstein at MATH, then MATH is Gorenstein at MATH. CASE: If MATH is flat at MATH and MATH is Gorenstein at MATH, then MATH is Gorenstein at MATH. CASE: If MATH is flat at MATH and MATH is Gorenstein at MATH, then MATH is Gorenstein at MATH. </CASES>  
LEM	  Let MATH be a morphism of schemes which is flat and locally of finite type. Then formation of the set MATH commutes with arbitrary base change.  
LEM	  In Situation REF let MATH be a morphism of MATH. Let MATH. If MATH is flat, then the following are equivalent <CASES> CASE: MATH is Gorenstein at MATH, CASE: MATH is isomorphic to an invertible object in a neighbourhood of MATH. </CASES> In particular, the set of points where MATH is Gorenstein is open in MATH.  
LEM	  Let MATH be a morphism of schemes which is flat and locally of finite presentation. Let MATH with image MATH. Set MATH. The following are equivalent <CASES> CASE: MATH is Gorenstein at MATH, CASE: there exists an open neighbourhood MATH of MATH and a locally quasi-finite morphism MATH over MATH which is Gorenstein at MATH, CASE: there exists an open neighbourhood MATH of MATH and a locally quasi-finite Gorenstein morphism MATH over MATH, CASE: for any MATH-morphism MATH of an open neighbourhood MATH of MATH we have: MATH is quasi-finite at MATH MATH MATH is Gorenstein at MATH. </CASES> In particular, the set of points where MATH is Gorenstein is open in MATH.  
LEM	  The property MATH``the fibres of MATH are locally Noetherian and MATH is Gorenstein'' is local in the fppf topology on the target and local in the syntomic topology on the source.  
LEM	  Let MATH be a morphism of locally Noetherian schemes. Assume <CASES> CASE: MATH is syntomic and surjective, or CASE: MATH is a surjective flat local complete intersection morphism, or CASE: MATH is a surjective Gorenstein morphism of finite type. </CASES> Then MATH is a dualizing complex on MATH if and only if MATH is a dualizing complex on MATH.  
LEM	  Let MATH be a proper scheme over a field MATH. There exists a dualizing complex MATH with the following properties <CASES> CASE: MATH is nonzero only for MATH, CASE: MATH is a coherent MATH-module whose support is the irreducible components of dimension MATH, CASE: the dimension of the support of MATH is at most MATH, CASE: for MATH closed the module MATH is nonzero if and only if MATH, CASE: for MATH there are functorial isomorphisms MATH compatible with shifts and distinguished triangles, CASE: there are functorial isomorphisms MATH for MATH quasi-coherent on MATH, and CASE: if MATH is smooth of relative dimension MATH, then MATH and MATH. </CASES>  
LEM	  Let MATH, MATH, and MATH be as in Lemma REF. Let MATH be as in Remark REF. Let MATH be perfect. Then the pairings MATH are perfect for all MATH. Here MATH denotes the cupproduct of Cohomology, Section REF and MATH is as in Cohomology, Example REF.  
LEM	  Let MATH be a proper scheme over a field MATH which is Cohen-Macaulay and equidimensional of dimension MATH. The module MATH of Lemma REF has the following properties <CASES> CASE: MATH is a dualizing module on MATH (Section REF), CASE: MATH is a coherent Cohen-Macaulay module whose support is MATH, CASE: there are functorial isomorphisms MATH compatible with shifts and distinguished triangles for MATH, CASE: there are functorial isomorphisms MATH for MATH quasi-coherent on MATH. </CASES>  
LEM	  Let MATH be a proper scheme over a field MATH. Let MATH and MATH be as in Lemma REF. <CASES> CASE: If MATH factors as MATH for some field MATH, then MATH and MATH are as in Lemma REF for the morphism MATH. CASE: If MATH is a field extension, then the pullback of MATH and MATH to the base change MATH are as in  Lemma REF for the morphism MATH. </CASES>  
DEF	  Let MATH be a morphism of schemes which is flat and locally of finite presentation. Let MATH be any open such that the diagonal MATH factors through a closed immersion MATH. A relative dualizing complex is a pair MATH consisting of an object MATH and a map MATH in MATH such that <CASES> CASE: MATH is MATH-perfect (Derived Categories of Schemes, Definition REF), and CASE: MATH defines an isomorphism of MATH with MATH. </CASES>  
LEM	  Let MATH be a morphism of schemes which is flat and locally of finite presentation. Let MATH be a relative dualizing complex. Then for any commutative diagram MATH whose horizontal arrows are open immersions, the restriction of MATH to MATH corresponds via Derived Categories of Schemes, Lemma REF to a relative dualizing complex for MATH in the sense of Dualizing Complexes, Definition REF.  
LEM	  Let MATH be a morphism of schemes which is flat and locally of finite presentation. Let MATH be a relative dualizing complex. Then MATH is an isomorphism.  
LEM	  Let MATH be a morphism of schemes which is flat and locally of finite presentation. If MATH and MATH are two relative dualizing complexes on MATH, then there is a unique isomorphism MATH sending MATH to MATH.  
LEM	  Let MATH be a morphism of schemes which is flat and locally of finite presentation. There exists a relative dualizing complex MATH.  
LEM	  Consider a cartesian square MATH of schemes. Assume MATH is flat and locally of finite presentation. Let MATH be a relative dualizing complex for MATH. Set MATH. Let MATH be the derived base change of MATH (see proof). Then MATH is a relative dualizing complex for MATH.  
LEM	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a proper, flat morphism of finite presentation. The relative dualizing complex MATH of Remark REF together with (REF) is a relative dualizing complex in the sense of Definition REF.  
LEM	  In Situation REF let MATH be a morphism of MATH. If MATH is flat, then MATH is (the first component of) a relative dualizing complex for MATH over MATH in the sense of Definition REF.  
LEM	  Let MATH and MATH be morphisms of schemes which are flat and of finite presentation. Let MATH and MATH be a relative dualizing complex for MATH and MATH. Set MATH. Then MATH is a relative dualizing complex for MATH for a suitable MATH.  
LEM	  Let MATH be a locally ringed space. Let MATH be a short exact sequence of MATH-modules. Assume MATH and MATH are locally free of ranks MATH. Then there is a canonical map MATH which is an isomorphism on the stalk at MATH if and only if MATH is locally free of rank MATH in an open neighbourhood of MATH.  
LEM	  Let MATH be a Noetherian scheme. Let MATH be a local complete intersection morphism which factors as an immersion MATH followed by a proper smooth morphism MATH. Let MATH be the locally constant function on MATH such that MATH is the unique nonzero cohomology sheaf of MATH, see Lemma REF. Then there is a map MATH which is an isomorphism on the stalk at a point MATH if and only if MATH is smooth at MATH.  
LEM	  Let MATH be a morphism of schemes. Let MATH. Assume <CASES> CASE: MATH is Cohen-Macaulay (Properties, Definition REF), CASE: MATH factors as MATH where the first morphism is an immersion and the second is smooth and proper, CASE: if MATH and MATH, then MATH is Koszul at MATH (More on Morphisms, Definition REF), and CASE: if MATH is a generic point of an irreducible component of MATH, then we have MATH. </CASES> Then with MATH there is a map MATH which is an isomorphism on the locus where MATH is smooth.  
LEM	  Let MATH be an open immersion of Noetherian schemes. Let MATH be a Deligne system and denote MATH the value of the constant system MATH. Let MATH be an object of MATH. Then MATH.  
LEM	  The result of Lemma REF holds even for MATH.  
LEM	  Let MATH be an open immersion of Noetherian schemes. <CASES> CASE: Let MATH and MATH be Deligne systems. Let MATH and MATH be the values of the constant systems MATH and MATH. Given a morphism MATH of MATH there is a unique morphism of pro-systems MATH of MATH whose restriction to MATH is MATH. CASE: Given MATH there exists a Deligne system MATH such that MATH is constant with value MATH. CASE: The pro-object MATH of MATH of (2) is unique up to unique isomorphism (as a pro-object). </CASES>  
LEM	  Let MATH be an open immersion of Noetherian schemes. Let MATH be a distinguished triangle of MATH. Then there exists an inverse system of distinguished triangles MATH in MATH such that MATH, MATH, MATH are Deligne systems and such that the restriction of these distinguished triangles to MATH is isomorphic to the distinguished triangle we started out with.  
LEM	  Let MATH be an open immersion of Noetherian schemes. Let MATH be an inverse system of distinguished triangles in MATH. If MATH and MATH are pro-isomorphic to Deligne systems, then so is MATH.  
LEM	  Let MATH be a Noetherian scheme. Let MATH be a quasi-coherent sheaf of ideals. Let MATH be a complex of coherent MATH-modules. Let MATH. Set MATH and MATH. Then there are canonical MATH-module maps MATH There exists a MATH such that for MATH the image of MATH is contained in MATH and there is a canonical MATH-module map MATH such that the compositions MATH are the canonical ones. In particular, the inverse systems MATH and MATH are isomorphic as pro-objects of MATH.  
LEM	  Let MATH be an open immersion of Noetherian schemes. Let MATH be integers. Let MATH be an inverse system of MATH such that MATH for MATH. The following are equivalent <CASES> CASE: MATH is pro-isomorphic to a Deligne system, CASE: for every MATH there exists a coherent MATH-module MATH such that the pro-systems MATH and MATH are pro-isomorphic. </CASES>  
LEM	  Let MATH be an open immersion of Noetherian schemes. Let MATH be an inverse system in MATH. Let MATH be an open covering. The following are equivalent <CASES> CASE: MATH is pro-isomorphic to a Deligne system, CASE: for each MATH the restriction MATH is pro-isomorphic to a Deligne system with respect to the open immersion MATH. </CASES>  
LEM	  Let MATH be an open immersion of Noetherian schemes. Let MATH be a quasi-coherent sheaf of ideals with MATH. Let MATH be in MATH. Then MATH is pro-isomorphic to a Deligne system with constant value MATH over MATH.  
LEM	  Let MATH be a proper morphism of Noetherian schemes. Let MATH be an open subscheme and set MATH. Picture MATH Then we have a canonical isomorphism MATH of functors MATH where MATH and MATH are as in Remark REF.  
LEM	  Let MATH be an open immersion of Noetherian schemes. Let MATH be a compactification of MATH over MATH (see proof) and denote MATH the structure morphism. Then we have a canonical isomorphism MATH of functors MATH where MATH and MATH are as in Remark REF.  
LEM	  The functor MATH is, up to isomorphism, independent of the choice of the compactification.  
PRP	  In Situation REF let MATH be a morphism of MATH. Then the functors MATH and MATH are adjoint in the following sense: for all MATH and MATH we have MATH bifunctorially in MATH and MATH.  
LEM	  In Situation REF let MATH be a morphism of MATH. Let MATH be a distinguished triangle of MATH. Then there exists an inverse system of distinguished triangles MATH in MATH such that the pro-systems MATH, MATH, and MATH give MATH, MATH, and MATH.  
LEM	  In Situation REF let MATH and MATH be composable morphisms of MATH. With notation as in Remark REF we have MATH.  
LEM	  Let MATH be separated of finite type where MATH is a field. Let MATH. There are canonical isomorphisms MATH of topological MATH-vector spaces functorial for MATH in MATH.  
LEM	  With notation as in Lemma REF suppose MATH is an open subscheme. Then the diagram MATH is commutative. Here the horizontal arrows are the isomorphisms of Lemma REF, the vertical arrow on the left is the contragredient to the restriction map MATH, and the right vertical arrow is Remark REF (see discussion before the lemma).  
LEM	  Let MATH be a proper scheme over a field MATH. Let MATH with MATH for MATH. Set MATH. Let MATH be closed with complement MATH. Then MATH is given by those global sections of MATH which vanish in an open neighbourhood of MATH.  
LEM	  Let MATH be a variety. Let MATH be a coherent MATH-module. If MATH is nonzero, then MATH and if equality holds, then MATH is proper.  
THM	  Let MATH be a nonempty separated scheme of finite type over a field MATH. Let MATH. The following are equivalent <CASES> CASE: MATH for all coherent MATH-modules MATH on MATH, CASE: MATH for all quasi-coherent MATH-modules MATH on MATH, and CASE: no irreducible component MATH of dimension MATH is proper over MATH. </CASES>  
