DEFNN	  Let MATH be a Noetherian ring and let MATH be a finite ring map where MATH is a field. We define MATH to be the category with <CASES> CASE: objects are pairs MATH where MATH is an Artinian local MATH-algebra and where MATH is a MATH-algebra isomorphism, and CASE: morphisms MATH are local MATH-algebra homomorphisms such that MATH. </CASES> We say we are in the classical case if MATH is a Noetherian complete local ring and MATH is its residue field.  
DEFNN	  Let MATH be a ring map in MATH.  We say MATH is a small extension if it is surjective and MATH is a nonzero principal ideal which is annihilated by MATH.  
LEMMA	  Let MATH be a surjective ring map in MATH. Then MATH can be factored as a composition of small extensions.  
LEMMA	  Let MATH be a local MATH-algebra with residue field MATH. Let MATH be an MATH-module. Then MATH. In the classical case we have MATH.  
LEMMA	  Let MATH be a ring map in MATH. The following are equivalent <CASES> CASE: MATH is surjective, CASE: MATH is surjective, and CASE: MATH is surjective. </CASES>  
DEFNN	  Let MATH be a local homomorphism of local rings. The relative cotangent space of MATH over MATH is the MATH-vector space MATH.  
LEMMA	  Let MATH and MATH be ring maps in MATH. Then: <CASES> CASE: If MATH or MATH is surjective, then MATH is in MATH. CASE: If MATH is a small extension, then so is MATH. CASE: If the field extension MATH is separable, then MATH is in MATH. </CASES>  
DEFNN	  Let MATH be a ring map in MATH.  We say MATH is an essential surjection if it has the following properties: <CASES> CASE: MATH is surjective. CASE: If MATH is a ring map in MATH such that MATH is surjective, then MATH is surjective. </CASES>  
LEMMA	  Let MATH be a ring map in MATH. The following are equivalent <CASES> CASE: MATH is an essential surjection, CASE: the map MATH is an essential surjection, and CASE: the map MATH is an essential surjection. </CASES>  
LEMMA	  There is a canonical map MATH If MATH is separable (for example if the characteristic of MATH is zero), then this map induces an isomorphism MATH. If MATH (for example in the classical case), then MATH. The composition MATH comes from the canonical map MATH.  
LEMMA	  Let MATH be a ring map in MATH. Notation as in (REF). <CASES> CASE: The equivalent conditions of Lemma REF characterizing when MATH is surjective are also equivalent to <CASES> CASE: MATH is surjective, and CASE: the map MATH is surjective. </CASES> CASE: The following are equivalent <CASES> CASE: MATH is an essential surjection (see Lemma REF), CASE: the map MATH is an isomorphism, and CASE: the map MATH is an isomorphism. </CASES> CASE: If MATH is separable, then MATH is an essential surjection if and only if the map MATH is an isomorphism. CASE: If MATH is a small extension, then MATH is not essential if and only if MATH has a section MATH in MATH with MATH. </CASES>  
DEFNN	  Let MATH be a Noetherian ring and let MATH be a finite ring map where MATH is a field. We define MATH to be the category with <CASES> CASE: objects are pairs MATH where MATH is a Noetherian complete local MATH-algebra and where MATH is a MATH-algebra isomorphism, and CASE: morphisms MATH are local MATH-algebra homomorphisms such that MATH. </CASES>  
LEMMA	  Let MATH be a ring map in MATH. The following are equivalent <CASES> CASE: MATH is surjective, CASE: the map MATH is surjective, and CASE: the map MATH is surjective. </CASES>  
LEMMA	  The category MATH admits pushouts.  
LEMMA	  The category MATH admits coproducts of pairs of objects.  
LEMMA	  Let MATH be an object of MATH. Then MATH.  
LEMMA	  Let MATH be a morphism of MATH. If MATH is injective, then MATH is surjective.  
LEMMA	  Let MATH be an object of MATH. Let MATH be a decreasing sequence of ideals such that MATH. Set MATH. Then the sequence MATH defines the MATH-adic topology on MATH.  
LEMMA	  Let MATH be a sequence of surjective ring maps in MATH. If MATH is bounded, then MATH is an object in MATH and the ideals MATH define the MATH-adic topology on MATH.  
LEMMA	  Let MATH. Suppose that MATH for some ideal MATH of MATH. Let MATH map to a basis of MATH. Set MATH and consider the MATH-algebra map MATH mapping MATH to MATH. Assume that for every MATH the map MATH has a left inverse in MATH. Then MATH is an isomorphism.  
DEFNN	  Let MATH be a category.  A category cofibered in groupoids over MATH is a category MATH equipped with a functor MATH such that MATH is a category fibered in groupoids over MATH via MATH.  
DEFNN	  Let MATH be a functor. We say MATH is prorepresentable if there exists an isomorphism MATH of functors for some MATH.  
DEFNN	  A predeformation category MATH is a category cofibered in groupoids over MATH such that MATH is equivalent to a category with a single object and a single morphism, i.e., MATH contains at least one object and there is a unique morphism between any two objects. A morphism of predeformation categories is a morphism of categories cofibered in groupoids over MATH.  
DEFNN	  Let MATH be a category cofibered in groupoids over MATH. The category MATH of formal objects of  MATH is the category with the following objects and morphisms. <CASES> CASE: A formal object MATH of MATH consists of an object MATH of MATH, and a collection indexed by MATH of objects MATH of MATH and morphisms MATH lying over the projection MATH. CASE: Let MATH and MATH be formal objects of MATH.  A morphism MATH of formal objects consists of a map MATH in MATH and a collection MATH of morphisms of MATH lying over MATH, such that for every MATH the diagram MATH commutes. </CASES>  
LEMMA	  Let MATH be a category cofibered in groupoids. Then MATH is a category cofibered in groupoids.  
DEFNN	  Let MATH be a category cofibered in groupoids. The category cofibered in groupoids MATH is called the completion of MATH.  
LEMMA	  In the situation above, MATH is equivalent to the category MATH.  
DEFNN	  Let MATH be a morphism of categories cofibered in groupoids over MATH.  We say  MATH is smooth if it satisfies the following condition: Let MATH be a surjective ring map in MATH.  Let MATH, and MATH be a morphism lying over MATH.  Then there exists MATH, a morphism MATH lying over MATH, and a morphism MATH lying over MATH, such that the diagram MATH commutes.  
LEMMA	  Let MATH be a morphism of categories cofibered in groupoids over MATH.  Then MATH is smooth if the condition in Definition REF is assumed to hold only for small extensions MATH.  
LEMMA	  Let MATH be a ring map in MATH. Then the induced morphism MATH is smooth if and only if MATH is a power series ring over MATH.  
LEMMA	  Let MATH and MATH be morphisms of categories cofibered in groupoids over MATH. <CASES> CASE: If MATH and MATH are smooth, then MATH is smooth. CASE: If MATH is essentially surjective and MATH is smooth, then MATH is smooth. CASE: If MATH is a morphism of categories cofibered in groupoids and MATH is smooth, then MATH is smooth. </CASES>  
LEMMA	  Let MATH be a smooth morphism of categories cofibered in groupoids over MATH.  Assume MATH is essentially surjective. Then MATH and MATH are essentially surjective.  
DEFNN	  Let MATH be a category cofibered in groupoids.  Let MATH be a formal object of MATH lying over MATH. We say MATH is versal if the corresponding morphism MATH of Remark REF is smooth.  
LEMMA	  Let MATH be a predeformation category. Let MATH be a versal formal object of MATH. For any formal object MATH of MATH, there exists a morphism MATH.  
DEFNN	  Let MATH be a category cofibered in groupoids. We say MATH is smooth or unobstructed if its structure morphism MATH is smooth in the sense of Definition REF.  
LEMMA	  Let MATH. The following are equivalent <CASES> CASE: MATH is smooth, CASE: MATH is formally smooth in the MATH-adic topology, CASE: MATH is flat and MATH is geometrically regular over MATH, and CASE: MATH is flat and MATH is formally smooth in the MATH-adic topology. </CASES> In the classical case, these are also equivalent to <CASES> CASE: MATH is isomorphic to MATH for some MATH. </CASES>  
LEMMA	  Let MATH be a predeformation category. Let MATH be a versal formal object of MATH lying over MATH. The following are equivalent <CASES> CASE: MATH is unobstructed, and CASE: MATH is formally smooth in the MATH-adic topology. </CASES> In the classical case these are also equivalent to <CASES> CASE: MATH for some MATH.\ </CASES>  
LEMMA	  There exists an MATH such that the equivalent conditions of Lemma REF hold and moreover MATH and MATH.  
DEFNN	  Let MATH be a category cofibered in groupoids over MATH. We define conditions (S1) and (S2) on MATH as follows: <CASES> CASE: Every diagram in MATH MATH in MATH with MATH surjective can be completed to a commutative diagram MATH CASE: The condition of (S1) holds for diagrams in MATH lying over a diagram in MATH of the form MATH Moreover, if we have two commutative diagrams in MATH MATH then there exists a morphism MATH in MATH such that MATH. </CASES>  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH. Then MATH satisfies (S1) if the condition of (S1) is assumed to hold only when MATH is a small extension.  
LEMMA	  Let MATH be a category cofibred in groupoids over MATH. If MATH satisfies (S2), then the condition of (S2) also holds when MATH is replaced by MATH for any finite dimensional MATH-vector space MATH.  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH. <CASES> CASE: If MATH satisfies (S1), then so does MATH. CASE: If MATH satisfies (S2), then so does MATH provided at least one of the following conditions is satisfied <CASES> CASE: MATH is a predeformation category, CASE: the category MATH is a set or a setoid, or CASE: for any morphism MATH of MATH lying over MATH the pushforward map MATH is surjective. </CASES> </CASES>  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH. Let MATH. Let MATH be the category cofibred in groupoids over MATH constructed in Remark REF. <CASES> CASE: If MATH satisfies (S1), then so does MATH. CASE: If MATH satisfies (S2), then so does MATH. </CASES>  
LEMMA	  Let MATH be a category cofibered in groupoids. Consider a diagram of MATH MATH in MATH. Assume MATH satisfies (S2). Then there exists a morphism MATH with MATH if and only if there exists a morphism MATH with MATH.  
LEMMA	  Consider a commutative diagram in a predeformation category MATH MATH in MATH where MATH is a small extension. Assume there is a map MATH such that MATH. Let MATH. Consider the ring map MATH Choose a pushforward MATH. Assume MATH satisfies (S2). If there exists a morphism MATH, then there exists a morphism MATH such that MATH.  
DEFNN	  Let MATH, resp.\ MATH be a functor.  We say that MATH is MATH-linear if for every pair of objects MATH of MATH, resp.\ MATH the map MATH is a map of MATH-modules.  
LEMMA	  Let MATH, resp.\ MATH be a functor.  Suppose MATH is a one element set and MATH preserves finite products.  Then there exists a unique MATH-linear functor MATH, resp.\  MATH, such that MATH commutes.  
LEMMA	  Let MATH be functors that take MATH to a one element set and preserve finite products. Let MATH be a morphism of functors. Then MATH induces a morphism MATH between the functors guaranteed by Lemma REF, which is given simply by MATH for each MATH. In other words, MATH is a map of MATH-modules.  
LEMMA	  Let MATH be a field. Let MATH be a MATH-linear functor.  Then MATH is isomorphic to the functor MATH.  
LEMMA	  Let MATH be an MATH-algebra. Then the functor MATH described above preserves finite products.  
LEMMA	  Let MATH be an MATH-algebra, and let MATH be a strictly full subcategory of MATH containing MATH for all MATH. Let MATH be a functor. Suppose that MATH is a one element set and that for any MATH, the induced map MATH is a bijection. Then MATH has a natural MATH-module structure for any MATH.  
DEFNN	  Let MATH be a category as in Lemma REF. Let MATH be a functor such that MATH is a one element set. The tangent space MATH of MATH is MATH.  
LEMMA	  Let MATH be functors satisfying the hypotheses of Lemma REF. Let MATH be a morphism of functors. For any MATH, the map MATH is a map of MATH-modules, where MATH and MATH are given the MATH-module structure from Lemma REF. In particular, MATH is a map of MATH-modules.  
LEMMA	  Let MATH be a functor satisfying the hypotheses of Lemma REF. Assume MATH is a field. Then MATH for any finite dimensional MATH-vector space MATH.  
DEFNN	  Let MATH be a predeformation category. The tangent space MATH of MATH is the set MATH of isomorphism classes of objects in the fiber category MATH.  
LEMMA	  Let MATH be a predeformation category such that MATH satisfies (S2). Then MATH has a natural MATH-vector space structure. For any finite dimensional vector space MATH we have MATH functorially in MATH.  
DEFNN	  Let MATH be a morphism predeformation categories. The differential MATH of MATH is the map obtained by evaluating the morphism of functors MATH at MATH.  
LEMMA	  Let MATH be a morphism of predeformation categories. Assume MATH and MATH both satisfy (S2). Then MATH is MATH-linear.  
LEMMA	  Let MATH be a predeformation category over MATH. If MATH has (S2) then the maps MATH are MATH-linear and we have MATH.  
LEMMA	  Let MATH be a predeformation category. Assume MATH has a versal formal object. Then MATH satisfies (S1).  
LEMMA	  Let MATH be a predeformation category satisfying (S1) and (S2). Let MATH be a formal object of MATH corresponding to MATH, see Remark REF. Then MATH is versal if and only if the following two conditions hold: <CASES> CASE: the map MATH on tangent spaces is surjective, and CASE: given a diagram in MATH MATH in MATH with MATH a small extension of Artinian rings, then there exists a ring map MATH such that MATH commutes. </CASES>  
LEMMA	  Let MATH be a category cofibred in groupoids over MATH which has (S1). Let MATH be a surjection in MATH with kernel MATH annihilated by MATH. Let MATH. The set of ideals MATH has a smallest element.  
LEMMA	  Let MATH be a category cofibred in groupoids over MATH. Assume the following conditions hold: <CASES> CASE: MATH is a predeformation category. CASE: MATH satisfies (S1). CASE: MATH satisfies (S2). CASE: MATH is finite. </CASES> Then MATH has a versal formal object.  
LEMMA	  Let MATH be a category cofibred in groupoids over MATH which has (S1). <CASES> CASE: For MATH in MATH a minimal object in MATH maps to a minimal object of MATH. CASE: For MATH in MATH lying over a surjection MATH in MATH every minimal object of MATH is the image of a minimal object of MATH. </CASES>  
LEMMA	  Let MATH be a category cofibred in groupoids over MATH which has (S1). Let MATH be a versal formal object of MATH lying over MATH. There exists a morphism MATH lying over MATH with the following minimality properties <CASES> CASE: for every MATH with MATH the pushforwards MATH produce a minimal object MATH of MATH, and CASE: for any morphism of formal objects MATH the corresponding morphism MATH is surjective. </CASES>  
LEMMA	  Let MATH be a category cofibred in groupoids over MATH which has (S1). Let MATH be a versal formal object of MATH lying over MATH. Let MATH be a morphism of formal objects lying over MATH as constructed in Lemma REF. Then MATH is a power series ring over MATH. Moreover, MATH is a versal formal object too.  
DEFNN	  Let MATH be a predeformation category. We say a versal formal object MATH of MATH is minimal if for any morphism of formal objects MATH the underlying map on rings is surjective. Sometimes a minimal versal formal object is called miniversal.  
LEMMA	  Let MATH be a predeformation category which has a versal formal object. Then <CASES> CASE: MATH has a minimal versal formal object, CASE: minimal versal objects are unique up to isomorphism, and CASE: any versal object is the pushforward of a minimal versal object along a power series ring extension. </CASES>  
LEMMA	  Let MATH be a predeformation category. Let MATH be a versal formal object of MATH such that (REF) holds. Then MATH is a minimal versal formal object. In particular, such MATH are unique up to isomorphism.  
LEMMA	  Let MATH be a predeformation category. Let MATH be a versal formal object of MATH such that (REF) holds. Then <CASES> CASE: MATH satisfies (S1). CASE: MATH satisfies (S2). CASE: MATH is finite. </CASES>  
LEMMA	  Let MATH be a predeformation category satisfying (S2) which has a versal formal object. Then its minimal versal formal object satisfies (REF).  
THEOM	  Let MATH be a predeformation category. Consider the following conditions <CASES> CASE: MATH has a minimal versal formal object satisfying (REF), CASE: MATH has a minimal versal formal object satisfying (REF), CASE: the following conditions hold: <CASES> CASE: MATH satisfies (S1). CASE: MATH satisfies (S2). CASE: MATH is finite. </CASES> </CASES> We always have MATH If MATH is separable, then all three are equivalent.  
DEFNN	  Let MATH be a category cofibered in groupoids over MATH.  We say that MATH satisfies condition (RS) if for every diagram in MATH MATH in MATH with MATH surjective, there exists a fiber product MATH in MATH such that the diagram MATH  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH satisfying (RS). Given a commutative diagram in MATH MATH with MATH surjective, then it is a fiber square.  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH. Then MATH satisfies (RS) if the condition in Definition REF is assumed to hold only when MATH is a small extension.  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH. The following are equivalent <CASES> CASE: MATH satisfies (RS), CASE: the functor MATH see (REF) is an equivalence of categories whenever MATH is surjective, and CASE: same as in (2) whenever MATH is a small extension. </CASES>  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH. The condition (RS) for MATH implies both (S1) and (S2) for MATH.  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH satisfying (RS). The following conditions are equivalent: <CASES> CASE: MATH satisfies (RS). CASE: Let MATH and MATH be ring maps in MATH with MATH surjective. The induced map of sets of isomorphism classes MATH is injective. CASE: For every morphism MATH in MATH lying over a surjective ring map MATH, the map MATH is surjective. CASE: For every morphism MATH in MATH lying over a small extension MATH, the map MATH is surjective. </CASES>  
DEFNN	  A deformation category is a predeformation category MATH satisfying (RS). A morphism of deformation categories is a morphism of categories over MATH.  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH. Let MATH. Let MATH be the category cofibred in groupoids over MATH constructed in Remark REF. If MATH satisfies (RS), then so does MATH. In particular, MATH is a deformation category.  
LEMMA	  Let MATH be MATH-fibre product of categories cofibered in groupoids over MATH. If MATH all satisfy (RS), then MATH satisfies (RS).  
DEFNN	  Let MATH be a category cofibered in groupoids over MATH. Let MATH be a map in MATH. Let MATH. The category MATH of lifts of MATH along MATH is the category with the following objects and morphisms. <CASES> CASE: Objects: A lift of MATH along MATH is a morphism MATH lying over MATH. CASE: Morphisms: A morphism of lifts from MATH to MATH is a morphism MATH in MATH such that MATH. </CASES> The set MATH of lifts of MATH along MATH is the set of isomorphism classes of MATH.  
LEMMA	  Let MATH be a deformation category. Let MATH be a surjective ring map in MATH whose kernel MATH is annihilated by MATH. Let MATH. If MATH is nonempty, then there is a free and transitive action of MATH on MATH.  
LEMMA	  Let MATH be deformation functors. Let MATH be a smooth morphism which induces an isomorphism MATH of tangent spaces. Then MATH is an isomorphism.  
THEOM	  Let MATH be a functor. Then MATH is prorepresentable if and only if (a) MATH is a deformation functor, (b) MATH is finite, and (c) MATH is injective.  
DEFNN	  Let MATH be a category cofibered in groupoids over MATH. Let MATH be a morphism in MATH lying over MATH. The kernel MATH is the group of infinitesimal automorphisms of MATH over MATH.  
DEFNN	  Let MATH be a category cofibered in groupoids over MATH. Let MATH. Assume a choice of pushforward MATH of MATH along the map MATH has been made. Then there is a unique map MATH such that MATH is the identity on MATH. Then MATH is the group of infinitesimal automorphisms of MATH  
DEFNN	  Let MATH be a category cofibered in groupoids over an arbitrary base category MATH. Assume a choice of pushforwards has been made. Let MATH and let MATH. Let MATH denote the category of objects under MATH. The automorphism functor of MATH is the functor MATH sending an object MATH to MATH and sending a morphism MATH to the homomorphism MATH coming from the unique morphism MATH lying over MATH and compatible with MATH and MATH.  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH satisfying (RS). Let MATH. Then MATH satisfies (RS).  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH satisfying (RS). Let MATH. Let MATH be a pushforward of MATH to MATH. <CASES> CASE: MATH has a natural MATH-vector space structure such that addition agrees with composition in MATH. In particular, composition in MATH is commutative. CASE: There is a canonical isomorphism MATH of MATH-vector spaces. </CASES>  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH satisfying (RS). Let MATH. Then MATH is equal as a set to MATH, and so has a natural MATH-vector space structure such that addition agrees with composition of automorphisms.  
LEMMA	  Let MATH be a morphism of categories cofibred in groupoids over MATH satisfying (RS). Let MATH. Then MATH induces a MATH-linear map MATH.  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH satisfying (RS). Let MATH be a morphism lying over a surjective ring map MATH with kernel MATH annihilated by MATH. Let MATH be a pushforward of MATH to MATH. Then MATH has a free and transitive action by MATH.  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH satisfying (RS). Let MATH be a morphism in MATH lying over a surjective ring map. Let MATH be a pushforward of MATH to MATH. If MATH then MATH.  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH satisfying (RS). Let MATH. Then MATH if and only if the natural morphism MATH of categories cofibered in groupoids is an equivalence.  
LEMMA	  Let MATH and MATH be MATH-morphisms of deformation categories. Then <CASES> CASE: MATH is a deformation category, and CASE: we have a MATH-term exact sequence of vector spaces MATH </CASES>  
LEMMA	  Let MATH, MATH, and MATH be maps of categories cofibred in groupoids over MATH. Assume <CASES> CASE: MATH and MATH are deformation categories, CASE: MATH is injective, and CASE: MATH is surjective. </CASES> Then MATH is smooth.  
LEMMA	  Let MATH be a map of deformation categories. Let MATH with image MATH. If <CASES> CASE: the map MATH is surjective, and CASE: for every small extension MATH in MATH and MATH with image MATH if there is a lift of MATH to MATH, then there is a lift of MATH to MATH, </CASES> then MATH is smooth (and vice versa).  
LEMMA	  Let MATH be maps of categories cofibred in groupoids over MATH. If <CASES> CASE: MATH, MATH are deformation categories CASE: the map MATH is surjective, and CASE: MATH is smooth. </CASES> Then MATH is smooth.  
DEFNN	  Let MATH be a category. The category of groupoids in functors on MATH is the category with the following objects and morphisms. <CASES> CASE: Objects: A groupoid in functors on MATH is a quintuple MATH where MATH are functors and MATH and MATH are morphisms with the following property: For any object MATH of MATH, the quintuple MATH is a groupoid category. CASE: Morphisms: A morphism MATH of groupoids in functors on MATH consists of morphisms MATH and MATH with the following property: For any object MATH of MATH, the induced maps MATH and MATH define a functor between groupoid categories MATH </CASES>  
DEFNN	  Let MATH be a category. A groupoid in functors on MATH is representable if it is isomorphic to one of the form MATH where MATH and MATH are objects of MATH and the pushout MATH exists.  
DEFNN	  Let MATH be a groupoid in functors on a category MATH. Let MATH be a subcategory of MATH. The restriction MATH of MATH to MATH is the groupoid in functors on MATH given by MATH.  
DEFNN	  Let MATH be a groupoid in functors on a category MATH. <CASES> CASE: The assignment MATH determines a functor MATH. The quotient category cofibered in groupoids MATH is the category cofibered in groupoids over MATH associated to this functor (as in Remarks REF (REF)). CASE: The quotient morphism MATH is the morphism of categories cofibered in groupoids over MATH defined by the rules <CASES> CASE: MATH maps to the object MATH, and CASE: MATH and MATH give rise to the morphism MATH lying over MATH. </CASES> </CASES>  
DEFNN	  A groupoid in functors on MATH is prorepresentable if it is isomorphic to MATH for some representable groupoid in functors MATH on the category MATH.  
DEFNN	  Let MATH be a groupoid in functors on MATH. The completion MATH of MATH is the groupoid in functors MATH on MATH described above.  
LEMMA	  Let MATH be a groupoid in functors on MATH. <CASES> CASE: MATH is prorepresentable if and only if its completion is representable as a groupoid in functors on MATH. CASE: MATH is prorepresentable if and only if MATH and MATH are prorepresentable. </CASES>  
DEFNN	  Let MATH be a groupoid in functors on MATH. We say MATH is smooth if MATH are smooth.  
LEMMA	  Let MATH be a groupoid in functors on MATH. The following are equivalent: <CASES> CASE: The groupoid in functors MATH is smooth. CASE: The morphism MATH is smooth. CASE: The morphism MATH is smooth. CASE: The quotient morphism MATH is smooth. </CASES>  
LEMMA	  Let MATH be a smooth groupoid in functors on MATH. Assume MATH and MATH satisfy (RS). Then MATH satisfies (RS).  
LEMMA	  Let MATH be a smooth groupoid in functors on MATH. Assume MATH and MATH are deformation functors. Then: <CASES> CASE: The quotient MATH is a deformation category. CASE: The tangent space of MATH is MATH CASE: The space of infinitesimal automorphisms of MATH is MATH </CASES>  
DEFNN	  Let MATH be a category cofibered in groupoids over a category MATH. Let MATH be a groupoid in functors on MATH. A presentation of MATH by MATH is an equivalence MATH of categories cofibered in groupoids over MATH.  
LEMMA	  Let MATH be category cofibered in groupoids over a category MATH. Let MATH be a functor. Let MATH be a morphism of categories cofibered in groupoids over MATH. Define MATH as follows: <CASES> CASE: MATH is the functor MATH. CASE: MATH are the first and second projections, respectively. CASE: MATH is the morphism given by projection onto the first and last factors of MATH under the canonical isomorphism MATH. </CASES> Then MATH is a groupoid in functors on MATH.  
LEMMA	  Let MATH be category cofibered in groupoids over a category MATH. Let MATH be a functor. Let MATH be a morphism of categories cofibered in groupoids over MATH. Let MATH be the groupoid in functors on MATH constructed from MATH in Lemma REF. Then there is a natural morphism MATH such that: <CASES> CASE: MATH is fully faithful. CASE: MATH is an equivalence if and only if MATH is essentially surjective. </CASES>  
LEMMA	  Let MATH be a category cofibered in groupoids over MATH. Let MATH be a functor. Let MATH be a smooth morphism of categories cofibered in groupoids. Then: <CASES> CASE: If MATH is the groupoid in functors on MATH constructed from MATH in Lemma REF, then MATH is smooth. CASE: If MATH is essentially surjective, then the morphism MATH of Lemma REF is an equivalence. </CASES>  
LEMMA	  Let MATH be a deformation category. Let MATH be a deformation functor. Let MATH be a morphism of categories cofibered in groupoids. Then MATH is a deformation functor with tangent space fitting into an exact sequence of MATH-vector spaces MATH  
LEMMA	  Let MATH be a deformation category. Let MATH be a prorepresentable functor. Let MATH be a morphism of categories cofibered in groupoids. Let MATH be the groupoid in functors on MATH constructed from MATH in Lemma REF. If MATH, then MATH is prorepresentable.  
THEOM	  Let MATH be a category cofibered in groupoids over MATH. Then MATH admits a presentation by a smooth prorepresentable groupoid in functors on MATH if and only if the following conditions hold: <CASES> CASE: MATH is a deformation category. CASE: MATH is finite. CASE: MATH is finite. </CASES>  
DEFNN	  Let MATH be a smooth prorepresentable groupoid in functors on MATH. <CASES> CASE: We say MATH is normalized if the groupoid MATH is totally disconnected, i.e., there are no morphisms between distinct objects. CASE: We say MATH is minimal if the MATH is given by a minimal versal formal object of MATH. </CASES>  
LEMMA	  Let MATH be a smooth prorepresentable groupoid in functors on MATH. <CASES> CASE: MATH is normalized if and only if the morphism MATH induces an isomorphism on tangent spaces, and CASE: MATH is minimal if and only if the kernel of MATH is contained in the image of MATH. </CASES>  
LEMMA	  Let MATH be a prorepresentable functor. Let MATH be a morphism such that MATH is an isomorphism.  Then MATH is an isomorphism.  
LEMMA	  Let MATH be a minimal smooth prorepresentable groupoid in functors on MATH. If MATH is an equivalence of categories cofibered in groupoids, then MATH is an isomorphism.  
LEMMA	  Let MATH and MATH be minimal smooth prorepresentable groupoids in functors on MATH. If MATH is an equivalence of categories cofibered in groupoids, then MATH is an isomorphism.  
LEMMA	  Let MATH be a deformation category such that MATH and MATH. Then there exists a minimal versal formal object MATH of MATH. Say MATH lies over MATH. Let MATH. Let MATH be the associated morphism. Let MATH be the groupoid in functors on MATH constructed from MATH in Lemma REF. Then MATH is a minimal smooth prorepresentable groupoid in functors on MATH and there is an equivalence MATH.  
LEMMA	  Let MATH be category cofibered in groupoids over MATH. Assume there exist presentations of MATH by minimal smooth prorepresentable groupoids in functors MATH and MATH. Then MATH and MATH are isomorphic.  
THEOM	  Let MATH be a category cofibered in groupoids over MATH. Consider the following conditions <CASES> CASE: MATH admits a presentation by a normalized smooth prorepresentable groupoid in functors on MATH, CASE: MATH admits a presentation by a smooth prorepresentable groupoid in functors on MATH, CASE: MATH admits a presentation by a minimal smooth prorepresentable groupoid in functors on MATH, and CASE: MATH satisfies the following conditions <CASES> CASE: MATH is a deformation category. CASE: MATH is finite. CASE: MATH is finite. </CASES> </CASES> Then (2), (3), (4) are equivalent and are implied by (1). If MATH is separable, then (1), (2), (3), (4) are all equivalent. Furthermore, the minimal smooth prorepresentable groupoids in functors which provide a presentation of MATH are unique up to isomorphism.  
LEMMA	  Being formally homotopic is an equivalence relation on sets of morphisms in MATH.  
LEMMA	  In the category MATH, if MATH are formally homotopic and MATH is a morphism, then MATH and MATH are formally homotopic.  
LEMMA	  Let MATH be a deformation category over MATH with MATH and MATH. Let MATH be a versal formal object lying over MATH. Let MATH be a formal object lying over MATH. Then any two maps MATH such that MATH are formally homotopic.  
LEMMA	  In the category MATH, if MATH are formally homotopic and MATH is a minimal prime ideal, then MATH as ideals.  
LEMMA	  With notation and assumptions as in Situation REF. <CASES> CASE: We have MATH. CASE: If MATH is a predeformation category, then MATH is a predeformation category. CASE: If MATH satisfies (S1), then MATH satisfies (S1). CASE: If MATH satisfies (S2), then MATH satisfies (S2). CASE: If MATH satisfies (RS), then MATH satisfies (RS). </CASES>  
LEMMA	  With notation and assumptions as in Situation REF. Assume MATH is a predeformation category and MATH satisfies (S2). Then there is a canonical MATH-vector space isomorphism MATH of tangent spaces.  
LEMMA	  With notation and assumptions as in Situation REF. Assume MATH is a deformation category. Then there is a canonical MATH-vector space isomorphism MATH of infinitesimal automorphism spaces.  
LEMMA	  With notation and assumptions as in Situation REF. If MATH is a smooth morphism of categories cofibred in groupoids over MATH, then MATH is a smooth morphism of categories cofibred in groupoids over MATH.  
LEMMA	  With notation and assumptions as in Situation REF. Let MATH be a versal formal object for MATH lying over MATH. Then there exist <CASES> CASE: an MATH and a local MATH-algebra homomorphism MATH which is formally smooth in the MATH-adic topology and induces the given field extension MATH on residue fields, and CASE: a versal formal object of MATH lying over MATH. </CASES>  
