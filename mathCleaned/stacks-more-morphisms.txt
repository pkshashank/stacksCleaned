DEF	  Thickenings. <CASES> CASE: We say an algebraic stack MATH is a thickening of an algebraic stack MATH if MATH is a closed substack of MATH and the associated topological spaces are equal. CASE: Given two thickenings MATH and MATH a morphism of thickenings is a morphism MATH of algebraic stacks such that MATH factors through the closed substack MATH. In this situation we set MATH and we say that MATH is a morphism of thickenings. CASE: Let MATH be an algebraic stack. We similarly define thickenings over MATH and morphisms of thickenings over MATH. This means that the algebraic stacks MATH and MATH are endowed with a structure morphism to MATH and that MATH fits into a suitable MATH-commutative diagram of algebraic stacks. </CASES>  
LEM	  Let MATH be a morphism of algebraic stacks. The following are equivalent <CASES> CASE: MATH is a thickening of algebraic stacks (abuse of language as above), and CASE: MATH is representable by algebraic spaces and is a thickening in the sense of Properties of Stacks, Section REF. </CASES> In this case MATH is a closed immersion and a universal homeomorphism.  
DEF	  We say an algebraic stack MATH is a first order thickening of an algebraic stack MATH if MATH is a closed substack of MATH and MATH is a first order thickening in the sense of Properties of Stacks, Section REF.  
LEM	  Let MATH be a thickening of algebraic stacks. Let MATH be a morphism of algebraic stacks and set MATH. Then MATH is a morphism of thickenings. If MATH is a first order thickening, then MATH is a first order thickening.  
LEM	  If MATH and MATH are thickenings of algebraic stacks, then so is MATH.  
LEM	  Let MATH be a morphism of thickenings of algebraic stacks. Then MATH is a thickening and the canonical diagram MATH is cartesian.  
LEM	  Let MATH be a morphism of thickenings of algebraic stacks. Let MATH and MATH be the corresponding diagonal morphisms. Then each property from the following list is satisfied by MATH if and only if it is satisfied by MATH: (a) representable by schemes, (b) affine, (c) surjective, (d) quasi-compact, (e) universally closed, (f) integral, (g) quasi-separated, (h) separated, (i) universally injective, (j) universally open, (k) locally quasi-finite, (l) finite, (m) unramified, (n) monomorphism, (o) immersion, (p) closed immersion, and (q) proper.  
LEM	  REF Let MATH be a thickening of algebraic stacks. Then <CASES> CASE: MATH is an algebraic space if and only if MATH is an algebraic space, CASE: MATH is a scheme if and only if MATH is a scheme, CASE: MATH is DM if and only if MATH is DM, CASE: MATH is quasi-DM if and only if MATH is quasi-DM, CASE: MATH is separated if and only if MATH is separated, CASE: MATH is quasi-separated if and only if MATH is quasi-separated, and CASE: add more here. </CASES>  
LEM	  Let MATH be a morphism of thickenings of algebraic stacks. Then <CASES> CASE: MATH is an affine morphism if and only if MATH is an affine morphism, CASE: MATH is a surjective morphism if and only if MATH is a surjective morphism, CASE: MATH is quasi-compact if and only if MATH quasi-compact, CASE: MATH is universally closed if and only if MATH is universally closed, CASE: MATH is integral if and only if MATH is integral, CASE: MATH is universally injective if and only if MATH is universally injective, CASE: MATH is universally open if and only if MATH is universally open, CASE: MATH is quasi-DM if and only if MATH is quasi-DM, CASE: MATH is DM if and only if MATH is DM, CASE: MATH is (quasi-)separated if and only if MATH is (quasi-)separated, CASE: MATH is representable if and only if MATH is representable, CASE: MATH is representable by algebraic spaces if and only if MATH is representable by algebraic spaces, CASE: add more here. </CASES>  
LEM	  Consider a commutative diagram MATH of thickenings of algebraic stacks. Assume <CASES> CASE: MATH is locally of finite type, CASE: MATH is flat and locally of finite presentation, CASE: MATH is flat, and CASE: MATH and MATH. </CASES> Then MATH is flat and for all MATH in the image of MATH the morphism MATH is flat at MATH.  
LEM	  Consider a commutative diagram MATH of thickenings of algebraic stacks. Assume MATH locally of finite type, MATH flat and locally of finite presentation, MATH, and MATH. Then <CASES> CASE: MATH is flat if and only if MATH is flat,  CASE: MATH is an isomorphism if and only if MATH is an isomorphism,  CASE: MATH is an open immersion if and only if MATH is an open immersion,  CASE: MATH is a monomorphism if and only if MATH is a monomorphism,  CASE: MATH is locally quasi-finite if and only if MATH is locally quasi-finite,  CASE: MATH is syntomic if and only if MATH is syntomic,  CASE: MATH is smooth if and only if MATH is smooth,  CASE: MATH is unramified if and only if MATH is unramified,  CASE: MATH is etale if and only if MATH is etale,  CASE: MATH is finite if and only if MATH is finite, and  CASE: add more here. </CASES>  
LEM	  For any morphism (REF) the map MATH is etale.  
LEM	  The category MATH constructed in Remark REF is fibred in groupoids.  
LEM	  The category MATH constructed in Remark REF is a stack in groupoids.  
LEM	  Let MATH be a thickening of algebraic stacks. Let MATH be an algebraic space and let MATH be a smooth morphism. There exists an etale covering MATH and for each MATH a cartesian diagram MATH with MATH smooth.  
LEM	  Let MATH be a thickening of algebraic stacks. Consider a commutative diagram MATH with cartesian squares where MATH are algebraic spaces and the vertical arrows are smooth. Then there exist <CASES> CASE: an etale covering MATH, CASE: etale morphisms MATH, and CASE: MATH-morphisms MATH </CASES> such that (a) MATH, (b) MATH, and (c) pulling back MATH to the closed subscheme of (a) agrees with the MATH-morphism given by the commutativity of the initial diagram over MATH.  
LEM	  The category MATH constructed in Remark REF is a gerbe.  
LEM	  In Remark REF assume MATH is a first order thickening. Then <CASES> CASE: the automorphism sheaves of objects of the gerbe MATH constructed in Remark REF are abelian, and CASE: the sheaf of groups MATH constructed in Stacks, Lemma REF is a quasi-coherent MATH-module. </CASES>  
PRP	[Emerton]  REF Let MATH be a first order thickening of algebraic stacks. Let MATH be an affine scheme and let MATH be a smooth morphism. Then there exists a cartesian diagram MATH with MATH smooth and MATH affine.  
LEM	  Let MATH be an algebraic stack over a scheme MATH. Assume MATH is locally of finite presentation. Let MATH be a flat MATH-algebra homomorphism. Let MATH be an object of MATH over MATH and set MATH. Then MATH.  
LEM	  Let MATH be an algebraic stack over a base scheme MATH. Assume MATH is locally of finite presentation. Let MATH be a deformation situation. Then the functor MATH is a sheaf on the site MATH of Topologies, Definition REF.  
LEM	  Let MATH be an algebraic stack over a scheme MATH whose structure morphism MATH is locally of finite presentation. Let MATH be a flat MATH-algebra homomorphism. Let MATH be an object of MATH over MATH. Then MATH.  
LEM	  Let MATH be an algebraic stack over a scheme MATH whose structure morphism MATH is locally of finite presentation. Let MATH be a deformation situation. If there exists a faithfully flat finitely presented MATH-algebra MATH and an object MATH of MATH over MATH lifting MATH, then there exists an object MATH over MATH lifting MATH.  
DEF	  A morphism MATH of algebraic stacks is said to be formally smooth if it is formally smooth on objects as a MATH-morphism in categories fibred in groupoids as explained in Criteria for Representability, Section REF.  
LEM	  A morphism MATH of algebraic stacks is formally smooth (Definition REF) if and only if for every diagram (REF) and MATH the category of dotted arrows is nonempty.  
LEM	  The base change of a formally smooth morphism of algebraic stacks by any morphism of algebraic stacks is formally smooth.  
LEM	  The composition of formally smooth morphisms of algebraic stacks is formally smooth.  
LEM	  Let MATH be a morphism of algebraic stacks which is representable by algebraic spaces. Then the following are equivalent <CASES> CASE: MATH is formally smooth, CASE: for every scheme MATH and morphism MATH the morphism MATH is formally smooth as a morphism of algebraic spaces. </CASES>  
LEM	  Let MATH be a first order thickening of affine schemes. Let MATH be an algebraic stack over MATH whose structure morphism MATH is smooth. Let MATH be a morphism over MATH. Then there exists a morphsm MATH over MATH with MATH.  
LEM	[Infinitesimal lifting criterion]  Let MATH be a morphism of algebraic stacks. The following are equivalent: <CASES> CASE: The morphism MATH is smooth. CASE: The morphism MATH is locally of finite presentation and formally smooth. </CASES>  
LEM	  Let MATH be a morphism from an algebraic stack to an algebraic space. Let MATH be an open subspace. Assume <CASES> CASE: MATH is quasi-compact and quasi-separated, CASE: MATH is of finite type and quasi-separated, CASE: MATH is quasi-compact, and CASE: MATH is flat and locally of finite presentation over MATH. </CASES> Then there exists a MATH-admissible blowup MATH and a closed substack MATH with MATH such that MATH is flat and of finite presentation.  
LEM	  Let MATH be a quasi-compact and quasi-separated algebraic space. Let MATH be a quasi-compact open. Let MATH be surjective, flat, and locally of finite presentation. Then there exists a finite surjective morphism MATH such that MATH factors Zariski locally through MATH.  
LEM	  Let MATH be a morphism from an algebraic stack to an algebraic space. Let MATH be an open subspace. Assume <CASES> CASE: MATH is separated and of finite type, CASE: MATH is quasi-compact and quasi-separated, CASE: MATH is quasi-compact, and CASE: MATH is a gerbe over MATH. </CASES> Then there exists a commutative diagram MATH with MATH an open immersion, MATH and MATH proper, and such that MATH is contained in the image of MATH.  
THM	[Chow's lemma]  REF Let MATH be a morphism from an algebraic stack to an algebraic space. Assume <CASES> CASE: MATH is quasi-compact and quasi-separated, CASE: MATH is separated of finite type. </CASES> Then there exists a commutative diagram MATH where MATH is proper surjective, MATH is an open immersion, and MATH is proper morphism of algebraic spaces.  
LEM	  Let MATH be a morphism of algebraic stacks. Assume MATH finite type and MATH locally Noetherian. Let MATH be a point in the closure of the image of MATH. Then there exists a commutative diagram MATH of algebraic stacks where MATH is a discrete valuation ring and MATH is its field of fractions mapping the closed point of MATH to MATH.  
LEM	  Let MATH be a morphism of algebraic stacks. Assume <CASES> CASE: MATH is locally Noetherian, CASE: MATH is locally of finite type and quasi-separated, CASE: for every commutative diagram MATH where MATH is a discrete valuation ring and MATH its fraction field and any MATH-arrow MATH the category of dotted arrows (Morphisms of Stacks, Definition REF) is either empty or a setoid with exactly one isomorphism class. </CASES> Then MATH is separated.  
LEM	  Let MATH and MATH be morphisms of algebraic stacks. Assume that MATH is locally Noetherian, that MATH and MATH are of finite type, that MATH is separated, and that the image of MATH is dense in MATH. If given any MATH-commutative diagram MATH where MATH is a discrete valuation ring with field of fractions MATH and MATH there exist an extension MATH of fields, a valuation ring MATH dominating MATH such that the category of dotted arrows for the induced diagram MATH with induced MATH-arrow MATH is nonempty (Morphisms of Stacks, Definition REF), then MATH is proper.  
LEM	  Let MATH and MATH be morphisms of algebraic stacks. Assume that MATH is locally Noetherian, that MATH is locally of finite type and quasi-separated, that MATH is of finite type, and that the image of MATH is dense in MATH. If given any MATH-commutative diagram MATH where MATH is a discrete valuation ring with field of fractions MATH and MATH, the category of dotted arrows is either empty or a setoid with exactly one isomorphism class, then MATH is separated.  
LEM	  Let MATH be a morphism of algebraic stacks. Assume that MATH is locally Noetherian and that MATH is of finite type. If given any MATH-commutative diagram MATH where MATH is a discrete valuation ring with field of fractions MATH and MATH there exist an extension MATH of fields, a valuation ring MATH dominating MATH such that the category of dotted arrows for the induced diagram MATH with induced MATH-arrow MATH is nonempty (Morphisms of Stacks, Definition REF), then MATH is universally closed.  
DEF	  Let MATH be an algebraic stack. Let MATH be a morphism to an algebraic space MATH. <CASES> CASE: We say MATH is a categorical moduli space if any morphism MATH to an algebraic space MATH factors uniquely through MATH. CASE: We say MATH is a uniform categorical moduli space if for any flat morphism MATH of algebraic spaces the base change MATH is a categorical moduli space. </CASES> Let MATH be a full subcategory of the category of algebraic spaces. <CASES> CASE: We say MATH is a categorical moduli space in MATH if MATH and any morphism MATH with MATH factors uniquely through MATH. CASE: We say is a uniform categorical moduli space in MATH if MATH and for every flat morphism MATH in MATH the base change MATH is a categorical moduli space in MATH. </CASES>  
LEM	  Let MATH be a groupoid in algebraic spaces with MATH flat and locally of finite presentation. Consider the algebraic stack MATH. Given an algebraic space MATH there is a MATH-to-MATH correspondence between morphisms MATH and MATH-invariant morphisms MATH.  
LEM	  With assumption and notation as in Lemma REF. Then MATH is a (uniform) categorical moduli space if and only if MATH is a (uniform) categorical quotient. Similarly for moduli spaces in a full subcategory.  
LEM	  Let MATH be a morphism from an algebraic stack to an algebraic space. If for every affine scheme MATH and flat morphism MATH the base change MATH is a categorical moduli space, then MATH is a uniform categorical moduli space.  
DEF	  Let MATH be an algebraic stack. We say MATH is well-nigh affine if there exists an affine scheme MATH and a surjective, flat, finite, and finitely presented morphism MATH.  
LEM	  Let MATH be an algebraic stack. The following are equivalent <CASES> CASE: MATH is well-nigh affine, and CASE: there exists a groupoid scheme MATH with MATH and MATH affine and MATH finite locally free such that MATH. </CASES> If true then MATH is quasi-compact, quasi-DM, and separated.  
LEM	  Let the algebraic stack MATH be well-nigh affine. <CASES> CASE: If MATH is an algebraic space, then it is affine. CASE: If MATH is an affine morphism of algebraic stacks, then MATH is well-nigh affine. </CASES>  
LEM	  Let the algebraic stack MATH be well-nigh affine. There exists a uniform categorical moduli space MATH in the category of affine schemes. Moreover MATH is separated, quasi-compact, and a universal homeomorphism.  
LEM	  Let MATH be a morphism of algebraic stacks. Assume MATH and MATH are well-nigh affine, MATH is etale, and MATH induces isomorphisms on automorphism groups (Morphisms of Stacks, Remark REF). Then there exists a cartesian diagram MATH where MATH is etale and the vertical arrows are the moduli spaces constructed in Lemma REF.  
LEM	  Let the algebraic stack MATH be well-nigh affine. The morphism MATH of Lemma REF is a uniform categorical moduli space.  
LEM	  Let MATH be a morphism of algebraic stacks. Assume MATH is well-nigh affine, MATH is etale, MATH is separated, and MATH induces isomorphisms on automorphism groups (Morphisms of Stacks, Remark REF). Then there exists a cartesian diagram MATH where MATH is a separated etale morphism of schemes and MATH is the moduli space constructed in Lemma REF.  
LEM	  Let MATH be an algebraic stack. Assume MATH is finite. Then there exist a set MATH and for MATH a morphism of algebraic stacks MATH with the following properties <CASES> CASE: MATH, CASE: MATH is well-nigh affine, CASE: MATH is an isomorphism, and CASE: MATH is representable by algebraic spaces, separated, and etale, </CASES>  
THM	[Keel-Mori]  Let MATH be an algebraic stack. Assume MATH is finite. Then there exists a uniform categorical moduli space MATH and MATH is separated, quasi-compact, and a universal homeomorphism.  
LEM	  Let MATH be a morphism of algebraic stacks. Assume <CASES> CASE: MATH is finite, CASE: MATH is etale, separated, and induces isomorphisms on automorphism groups (Morphisms of Stacks, Remark REF). </CASES> Then there exists a cartesian diagram MATH where MATH is a separated etale morphism of algebraic spaces and the vertical arrows are the moduli spaces constructed in Theorem REF.  
LEM	  Let MATH be a morphism of an algebraic stack to an algebraic space. Assume <CASES> CASE: MATH is finite, CASE: MATH is locally Noetherian, and CASE: MATH is locally of finite type. </CASES> Let MATH be the moduli space constructed in Theorem REF. Then MATH is locally of finite type.  
LEM	  Let MATH be an algebraic stack. Assume MATH is finite. Let MATH be the moduli space constructed in Theorem REF. <CASES> CASE: If MATH is quasi-separated, then MATH is quasi-separated. CASE: If MATH is separated, then MATH is separated. CASE: Add more here, for example relative versions of the above. </CASES>  
LEM	  Let MATH be a morphism from an algebraic stack to an algebraic space. Assume <CASES> CASE: MATH is finite, CASE: MATH is proper, and CASE: MATH is locally Noetherian. </CASES> Let MATH be the moduli space constructed in Theorem REF. Then MATH is proper.  
PRP	  REF Let MATH be an algebraic stack with quasi-affine diagonal. Then MATH satisfies descent for fpqc coverings.  
LEM	  Let MATH and MATH be Noetherian algebraic stacks. Any right exact tensor functor MATH extends uniquely to a right exact tensor functor MATH commuting with all colimits.  
LEM	  Let MATH be an algebraic stack with affine diagonal. Let MATH be a ring. Let MATH be a right exact tensor functor which commutes with direct sums. Let MATH be a morphism with MATH affine. Then <CASES> CASE: MATH is a commutative MATH-algebra and CASE: there is a ring map MATH </CASES> such that MATH sends MATH to MATH seen as MATH-module.  
LEM	  Notation as in Lemma REF. Assume MATH is Noetherian and MATH is surjective and flat. Then MATH is universally injective.  
LEM	  Let MATH be a ring map. If <CASES> CASE: the coprojections MATH are flat and CASE: MATH is universally injective, </CASES> then MATH is faithfully flat.  
LEM	  Let MATH and MATH be representable by schemes, quasi-compact, quasi-separated, and flat. Then MATH where MATH is the obvious morphism.  
LEM	  Let MATH be an algebraic stack with affine diagonal. Let MATH be a ring. Let MATH, MATH be two morphisms. Let MATH be an isomorphism of the tensor functors MATH. Then there is a MATH-arrow MATH inducing MATH.  
LEM	  Let MATH be a Noetherian algebraic stack with affine diagonal. Let MATH be a ring. Let MATH be a right exact tensor functor which commutes with direct sums. Then MATH comes from a unique morphism MATH.  
THM	  Let MATH be a Noetherian algebraic stack with affine diagonal. Let MATH be a Noetherian ring. Let MATH be a right exact tensor functor. Then MATH comes from a unique morphism MATH.  
