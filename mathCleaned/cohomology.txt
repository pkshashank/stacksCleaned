DEFNN	  Let MATH be a topological space. Let MATH be a sheaf of (possibly non-commutative) groups on MATH. A torsor, or more precisely a MATH-torsor, is a sheaf of sets MATH on MATH endowed with an action MATH such that <CASES> CASE: whenever MATH is nonempty the action MATH is simply transitive, and CASE: for every MATH the stalk MATH is nonempty. </CASES> A morphism of MATH-torsors MATH is simply a morphism of sheaves of sets compatible with the MATH-actions. The trivial MATH-torsor is the sheaf MATH endowed with the obvious left MATH-action.  
LEMMA	  Let MATH be a topological space. Let MATH be a sheaf of (possibly non-commutative) groups on MATH. A MATH-torsor MATH is trivial if and only if MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be an abelian sheaf on MATH. There is a canonical bijection between the set of isomorphism classes of MATH-torsors and MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. There is a canonical bijection MATH which associates to the extension MATH the image of MATH in MATH.  
LEMMA	  Let MATH be a ringed space. If all stalks MATH are local rings, then there is a canonical isomorphism MATH of abelian groups.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open subspace. <CASES> CASE: If MATH is an injective MATH-module then MATH is an injective MATH-module. CASE: For any sheaf of MATH-modules MATH we have MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. Let MATH be an open subspace. Let MATH and let MATH. Then there exists an open covering MATH such that MATH for all MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be a MATH-module. The sheaves MATH are the sheaves associated to the presheaves MATH with restriction mappings as in Equation (REF). There is a similar statement for MATH applied to a bounded below complex MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be an MATH-module. Let MATH be an open subspace. Denote MATH the restriction of MATH. Then we have MATH There is a similar statement for the derived image MATH where MATH is a bounded below complex of MATH-modules.  
LEMMA	  [ Injectives are flasque. ] Let MATH be a ringed space. Let MATH be open subspaces. For any injective MATH-module MATH the restriction mapping MATH is surjective.  
LEMMA	[Mayer-Vietoris]  Let MATH be a ringed space. Suppose that MATH is a union of two open subsets. For every MATH-module MATH there exists a long exact cohomology sequence MATH This long exact sequence is functorial in MATH.  
LEMMA	[Relative Mayer-Vietoris]  Let MATH be a morphism of ringed spaces. Suppose that MATH is a union of two open subsets. Denote MATH, MATH, and MATH. For every MATH-module MATH there exists a long exact sequence MATH This long exact sequence is functorial in MATH.  
DEFNN	  Let MATH be a topological space. Let MATH be an open covering. Let MATH be an abelian presheaf on MATH. The complex MATH is the Cech complex associated to MATH and the open covering MATH. Its cohomology groups MATH are called the Cech cohomology groups associated to MATH and the covering MATH. They are denoted MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be an abelian presheaf on MATH. The following are equivalent <CASES> CASE: MATH is an abelian sheaf and CASE: for every open covering MATH the natural map MATH is bijective. </CASES>  
LEMMA	  Let MATH be a topological space. Let MATH be an abelian presheaf on MATH. Let MATH be an open covering. If MATH for some MATH, then the extended Cech complex MATH obtained by putting MATH in degree MATH with differential given by the canonical map of MATH into MATH is homotopy equivalent to MATH.  
LEMMA	  The functor given by Equation (REF) is an exact functor (see Homology, Lemma REF).  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering. The functors MATH form a MATH-functor from the abelian category of presheaves of MATH-modules to the category of MATH-modules (see Homology, Definition REF).  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering. Denote MATH the open immersion. Consider the chain complex MATH of presheaves of MATH-modules MATH where the last nonzero term is placed in degree MATH and where the map MATH is given by MATH times the canonical map. Then there is an isomorphism MATH functorial in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering. Let MATH be the image presheaf of the map MATH. The chain complex MATH of presheaves of Lemma REF above has homology presheaves MATH  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering of MATH. The Cech cohomology functors MATH are canonically isomorphic as a MATH-functor to the right derived functors of the functor MATH Moreover, there is a functorial quasi-isomorphism MATH where the right hand side indicates the right derived functor MATH of the left exact functor MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering. Let MATH be an injective MATH-module. Then MATH  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering. There is a transformation MATH of functors MATH. In particular this provides canonical maps MATH for MATH ranging over MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be an abelian sheaf on MATH. Let MATH be an open covering. The map MATH is injective and identifies MATH via the bijection of Lemma REF with the set of isomorphism classes of MATH-torsors which restrict to trivial torsors over each MATH.  
LEMMA	  Let MATH be a ringed space. Consider the functor MATH. It is a left exact functor with right derived functors given by MATH see discussion in Section REF.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering. For any sheaf of MATH-modules MATH there is a spectral sequence MATH with MATH converging to MATH. This spectral sequence is functorial in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering. Let MATH be an MATH-module. Assume that MATH for all MATH, all MATH and all MATH. Then MATH as MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be a short exact sequence of MATH-modules. Let MATH be an open subset. If there exists a cofinal system of open coverings MATH of MATH such that MATH, then the map MATH is surjective.  
LEMMA	  [ If higher Cech cohomology of an abelian sheaf vanishes for all open covers, then higher cohomology vanishes. ] Let MATH be a ringed space. Let MATH be an MATH-module such that MATH for all MATH and any open covering MATH of an open of MATH. Then MATH for all MATH and any open MATH.  
LEMMA	  (Variant of Lemma REF.) Let MATH be a ringed space. Let MATH be a basis for the topology on MATH. Let MATH be an MATH-module. Assume there exists a set of open coverings MATH with the following properties: <CASES> CASE: For every MATH with MATH we have MATH and every MATH. CASE: For every MATH the open coverings of MATH occurring in MATH is a cofinal system of open coverings of MATH. CASE: For every MATH we have MATH for all MATH. </CASES> Then MATH for all MATH and any MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be an injective MATH-module. Then <CASES> CASE: MATH for all MATH and any open covering MATH of MATH. CASE: MATH for all MATH and every open MATH. </CASES> In other words, MATH is right acyclic for MATH (see Derived Categories, Definition REF) for any MATH open.  
LEMMA	  Let MATH be a morphism of ringed spaces. Assume MATH is flat. Then MATH is an injective MATH-module for any injective MATH-module MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a set. For MATH let  MATH be an MATH-module. Let MATH be open. The canonical map MATH is an isomorphism for MATH and injective for MATH.  
DEFNN	  Let MATH be a topological space. We say a presheaf of sets MATH is flasque or flabby if for every MATH open in MATH the restriction map MATH is surjective.  
LEMMA	  Let MATH be a ringed space. Then any injective MATH-module is flasque.  
LEMMA	  Let MATH be a ringed space. Any flasque MATH-module is acyclic for MATH as well as MATH for any open MATH of MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. Let MATH be an open covering. If MATH is flasque, then MATH for MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be a sheaf of MATH-modules. If MATH is flasque, then MATH for MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be an abelian sheaf on MATH. Let MATH be an open covering. Assume the restriction mappings MATH are surjective for MATH an arbitrary union of opens of the form MATH. Then MATH vanishes for MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. There is a commutative diagram MATH More generally for any MATH open and MATH there is a commutative diagram MATH See also Remark REF for more explanation.  
LEMMA	  Let MATH be a ringed space. Let MATH be an MATH-module. <CASES> CASE: The cohomology groups MATH for MATH open of MATH computed as an MATH-module, or computed as an abelian sheaf are identical. CASE: Let MATH be a morphism of ringed spaces. The higher direct images MATH of MATH computed as an MATH-module, or computed as an abelian sheaf are identical. </CASES> There are similar statements in the case of bounded below complexes of MATH-modules.  
LEMMA	[Leray spectral sequence]  Let MATH be a morphism of ringed spaces. Let MATH be a bounded below complex of MATH-modules. There is a spectral sequence MATH converging to MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be an MATH-module. <CASES> CASE: If MATH for MATH, then MATH for all MATH. CASE: If MATH for all MATH and MATH, then MATH for all MATH. </CASES>  
LEMMA	  [ The total derived functor of a composition is the composition of the total derived functors. ] Let MATH and MATH be morphisms of ringed spaces. In this case MATH as functors from MATH.  
LEMMA	[Relative Leray spectral sequence]  Let MATH and MATH be morphisms of ringed spaces. Let MATH be an MATH-module. There is a spectral sequence with MATH converging to MATH. This spectral sequence is functorial in MATH, and there is a version for bounded below complexes of MATH-modules.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH, resp.\ MATH be a bounded below complex of MATH-modules, resp.\ MATH-modules. Let MATH be a morphism of complexes. There is a canonical morphism MATH in MATH. Moreover this construction is functorial in the triple MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be an MATH-map from an MATH-module MATH to an MATH-module MATH. Let MATH and MATH be open coverings. Assume that MATH is a refinement of MATH. In this case there exists a commutative diagram MATH in MATH with horizontal arrows given by Lemma REF and right vertical arrow by (REF). In particular we get commutative diagrams of cohomology groups MATH where the right vertical arrow is (REF)  
LEMMA	  Let MATH be a topological space. Let MATH be an abelian sheaf. Then the map MATH defined in (REF) is an isomorphism.  
LEMMA	  Let MATH be a Hausdorff and quasi-compact topological space. Let MATH be an abelian sheaf on MATH. Then the map MATH defined in (REF) is an isomorphism for all MATH.  
LEMMA	  REF Let MATH be a topological space. Let MATH be a quasi-compact subset such that any two points of MATH have disjoint open neighbourhoods in MATH. For every abelian sheaf MATH on MATH the canonical map MATH where the colimit is over open neighbourhoods MATH of MATH in MATH is an isomorphism.  
LEMMA	  Let MATH be a commutative diagram of ringed spaces. Let MATH be a bounded below complex of MATH-modules. Assume both MATH and MATH are flat. Then there exists a canonical base change map MATH in MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH. Assume that <CASES> CASE: MATH is closed, CASE: MATH is separated, and CASE: MATH is quasi-compact. </CASES> Then for MATH in MATH we have MATH in MATH.  
THEOM	[Proper base change]  REF Consider a cartesian square of topological spaces MATH Assume that MATH is proper. Let MATH be an object of MATH. Then the base change map MATH of Lemma REF is an isomorphism in MATH.  
LEMMA	[Proper base change for sheaves of sets]  Consider a cartesian square of topological spaces MATH Assume that MATH is proper. Then MATH for any sheaf of sets MATH on MATH.  
LEMMA	  Let MATH be a ringed space. Assume that the underlying topological space of MATH has the following properties: <CASES> CASE: there exists a basis of quasi-compact open subsets, and CASE: the intersection of any two quasi-compact opens is quasi-compact. </CASES> Then for any directed system MATH of sheaves of MATH-modules and for any quasi-compact open MATH the canonical map MATH is an isomorphism for every MATH.  
LEMMA	  Let MATH be a continuous map of topological spaces. Let MATH be a system of abelian sheaves on MATH. Set MATH. Let MATH be an integer. Assume the set of opens MATH such that MATH is a basis for the topology on MATH. Then MATH.  
LEMMA	  In the situation discussed above. Let MATH and let MATH be quasi-compact open. Then MATH for all MATH. In particular we have MATH.  
LEMMA	  Let MATH be a closed immersion of topological spaces. For any abelian sheaf MATH on MATH we have MATH.  
LEMMA	  Let MATH be an irreducible topological space. Then MATH for all MATH and any abelian group MATH.  
LEMMA	  REF Let MATH be a topological space such that the intersection of any two quasi-compact opens is quasi-compact. Let MATH be a subsheaf generated by finitely many sections over quasi-compact opens. Then there exists a finite filtration MATH by abelian subsheaves such that for each MATH there exists a short exact sequence MATH with MATH and MATH the inclusion of quasi-compact opens into MATH.  
LEMMA	  REF Let MATH be a topological space. Let MATH be an integer. Assume <CASES> CASE: MATH is quasi-compact, CASE: the quasi-compact opens form a basis for MATH, and CASE: the intersection of two quasi-compact opens is quasi-compact. CASE: MATH for all MATH and any quasi-compact open MATH. </CASES> Then MATH for all MATH and any abelian sheaf MATH on MATH.  
LEMMA	  Let MATH be an irreducible topological space. Let MATH be an abelian subsheaf of the constant sheaf. Then there exists a nonempty open MATH such that MATH for some MATH.  
PROPN	[Grothendieck]  REF Let MATH be a Noetherian topological space. If MATH, then MATH for all MATH and any abelian sheaf MATH on MATH.  
LEMMA	  Let MATH be the inclusion of a closed subset. Let MATH be an injective abelian sheaf on MATH. Then MATH is an injective abelian sheaf on MATH.  
LEMMA	  Let MATH be a spectral space. Let MATH be an abelian sheaf on MATH. Let MATH be a quasi-compact subset. Let MATH be the set of points of MATH which specialize to a point of MATH. <CASES> CASE: MATH where the colimit is over quasi-compact open neighbourhoods of MATH, CASE: MATH if MATH is a constructible subset. </CASES>  
LEMMA	  Let MATH be a spectral map of spectral spaces. Let MATH. Let MATH be the set of points specializing to MATH. Let MATH be an abelian sheaf on MATH. Then MATH.  
LEMMA	  Let MATH be a profinite topological space. Then MATH for all MATH and all abelian sheaves MATH.  
PROPN	  REF Let MATH be a spectral space of Krull dimension MATH. Let MATH be an abelian sheaf on MATH. <CASES> CASE: MATH for MATH, CASE: MATH is surjective for every quasi-compact open MATH, CASE: MATH for MATH and any constructible closed subset MATH. </CASES>  
DEFNN	  Let MATH be a topological space. Let MATH be an open covering. Let MATH be an abelian presheaf on MATH. The complex MATH is the alternating Cech complex associated to MATH and the open covering MATH.  
DEFNN	  Let MATH be a topological space. Let MATH be an open covering. Assume given a total ordering on MATH. Let MATH be an abelian presheaf on MATH. The complex MATH is the ordered Cech complex associated to MATH, the open covering MATH and the given total ordering on MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be an open covering. Assume MATH comes equipped with a total ordering. The map MATH is a morphism of complexes. In fact it induces an isomorphism MATH of complexes.  
LEMMA	  Let MATH be a topological space. Let MATH be an open covering. Assume MATH comes equipped with a total ordering. The map MATH is a morphism of complexes. It induces an isomorphism MATH of complexes which is a left inverse to the morphism MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be an open covering. Assume MATH comes equipped with a total ordering. The map MATH is homotopic to the identity on MATH. In particular the inclusion map MATH is a homotopy equivalence.  
LEMMA	  Let MATH be a topological space. Let MATH be an abelian presheaf on MATH. Let MATH be an open covering. If MATH for some MATH, then the extended alternating Cech complex MATH obtained by putting MATH in degree MATH with differential given by the canonical map of MATH into MATH is homotopy equivalent to MATH. Similarly, for any total ordering on MATH the extended ordered Cech complex MATH is homotopy equivalent to MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering of MATH. Let MATH be an MATH-module. Denote MATH the restriction of MATH to MATH. There exists a complex MATH of MATH-modules with MATH and differential MATH as in Equation (REF). Moreover, there exists a canonical map MATH which is a quasi-isomorphism, i.e., MATH is a resolution of MATH.  
DEFNN	  Let MATH be a topological space. An open covering MATH is said to be locally finite if for every MATH there exists an open neighbourhood MATH of MATH such that MATH is finite.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering. For a bounded below complex MATH of MATH-modules there is a canonical map MATH functorial in MATH and compatible with (REF) and (REF). There is a spectral sequence MATH with MATH converging to MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open covering. Let MATH be a bounded below complex of MATH-modules. If MATH for all MATH and all MATH, then the map MATH of Lemma REF is an isomorphism.  
LEMMA	  In the situation above, assume Cech cohomology agrees with cohomology for the sheaves MATH and MATH. Let MATH and MATH. Then we have MATH in MATH where MATH indicates the boundary map on cohomology associated to the short exact sequences of complexes above.  
LEMMA	  Let MATH be a topological space. Let MATH be a surjection of sheaves of rings whose kernel MATH has square zero. Then MATH is a MATH-module and the boundary map MATH associated to the short exact sequence MATH is a derivation (Algebra, Definition REF).  
LEMMA	  Let MATH be a ringed space. Let MATH be a complex of MATH-modules. The functors MATH and MATH are exact functors of triangulated categories.  
DEFNN	  Let MATH be a ringed space. A complex MATH of MATH-modules is called K-flat if for every acyclic complex MATH of MATH-modules the complex MATH is acyclic.  
LEMMA	  Let MATH be a ringed space. Let MATH be a K-flat complex. Then the functor MATH transforms quasi-isomorphisms into quasi-isomorphisms.  
LEMMA	  Let MATH be a ringed space. Let MATH be a complex of MATH-modules. Then MATH is K-flat if and only if for all MATH the complex MATH of MATH-modules is K-flat (More on Algebra, Definition REF).  
LEMMA	  Let MATH be a ringed space. If MATH, MATH are K-flat complexes of MATH-modules, then MATH is a K-flat complex of MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be a distinguished triangle in MATH. If two out of three of MATH are K-flat, so is the third.  
LEMMA	  Let MATH be a ringed space. Let MATH be a short exact sequence of complexes such that the terms of MATH are flat MATH-modules. If two out of three of MATH are K-flat, so is the third.  
LEMMA	  Let MATH be a morphism of ringed spaces. The pullback of a K-flat complex of MATH-modules is a K-flat complex of MATH-modules.  
LEMMA	  Let MATH be a ringed space. A bounded above complex of flat MATH-modules is K-flat.  
LEMMA	  Let MATH be a ringed space. Let MATH be a system of K-flat complexes. Then MATH is K-flat.  
LEMMA	  Let MATH be a ringed space. For any complex MATH of MATH-modules there exists a commutative diagram of complexes of MATH-modules MATH with the following properties: (1) the vertical arrows are quasi-isomorphisms and termwise surjective, (2) each MATH is a bounded above complex whose terms are direct sums of MATH-modules of the form MATH, and (3) the maps MATH are termwise split injections whose cokernels are direct sums of MATH-modules of the form MATH. Moreover, the map MATH is a quasi-isomorphism.  
LEMMA	  Let MATH be a ringed space. For any complex MATH there exists a MATH-flat complex MATH whose terms are flat MATH-modules and a quasi-isomorphism MATH which is termwise surjective.  
LEMMA	  Let MATH be a ringed space. Let MATH be a quasi-isomorphism of K-flat complexes of MATH-modules. For every complex MATH of MATH-modules the induced map MATH is a quasi-isomorphism.  
DEFNN	  Let MATH be a ringed space. Let MATH be an object of MATH. The derived tensor product MATH is the exact functor of triangulated categories described above.  
DEFNN	  Let MATH be a ringed space. Let MATH, MATH be MATH-modules. The Tor's of MATH and MATH are define by the formula MATH with derived tensor product as defined above.  
LEMMA	  [ Tor measures the deviation of flatness. ] Let MATH be a ringed space. Let MATH be an MATH-module. The following are equivalent <CASES> CASE: MATH is a flat MATH-module, and CASE: MATH for every MATH-module MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be a map of complexes of MATH-modules. If MATH is K-flat, then there exist a complex MATH and maps of complexes MATH and MATH such that <CASES> CASE: MATH is K-flat, CASE: MATH is a quasi-isomorphism, CASE: MATH is homotopic to MATH. </CASES> If the terms of MATH are flat, then we may choose MATH, MATH, and MATH such that the same is true for MATH.  
LEMMA	  The construction above is independent of choices and defines an exact functor of triangulated categories MATH.  
LEMMA	  Let MATH and MATH be morphisms of ringed spaces. Then MATH as functors MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. There is a canonical bifunctorial isomorphism MATH for MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. There is a canonical bifunctorial isomorphism MATH for MATH in MATH and MATH in MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH and MATH be complexes of MATH-modules. The diagram MATH commutes.  
LEMMA	  Let MATH be a morphism of ringed spaces. The functor MATH defined above and the functor MATH defined in Lemma REF are adjoint: MATH bifunctorially in MATH and MATH.  
LEMMA	  Let MATH and MATH be morphisms of ringed spaces. Then MATH as functors MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be a complex of MATH-modules. The diagram MATH coming from MATH on complexes, MATH on complexes, and adjunction MATH commutes in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a filtered complex of MATH-modules. There exists a canonical spectral sequence MATH of bigraded MATH-modules with MATH of bidegree MATH and MATH If for every MATH we have MATH then the spectral sequence is bounded and converges to MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be a filtered complex of MATH-modules. There exists a canonical spectral sequence MATH of bigraded MATH-modules with MATH of bidegree MATH and MATH If for every MATH we have MATH then the spectral sequence is bounded and converges to MATH.  
LEMMA	  Let MATH be a ringed space. For every sheaf of MATH-modules MATH there is a resolution MATH functorial in MATH such that each term MATH is a flasque MATH-module and such that for all MATH the map MATH is a homotopy equivalence in the category of complexes of MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be a bounded below complex of MATH-modules. There exists a quasi-isomorphism MATH where MATH be a bounded below complex of flasque MATH-modules and for all MATH the map MATH is a homotopy equivalence in the category of complexes of MATH-modules.  
LEMMA	  This construction gives the cup product.  
LEMMA	  In the situation above the following diagram commutes MATH  
LEMMA	  Let MATH be a ringed space. Let MATH and MATH be bounded below complexes of MATH-modules. Let MATH be an open covering Then MATH where the horizontal arrows are the ones in Lemma REF commutes in MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. The relative cup product of Remark REF is associative in the sense that the diagram MATH is commutative in MATH for all MATH in MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. The relative cup product of Remark REF is commutative in the sense that the diagram MATH is commutative in MATH for all MATH in MATH. Here MATH is the commutativity constraint on the derived category (Lemma REF).  
LEMMA	  Let MATH and MATH be morphisms of ringed spaces. The relative cup product of Remark REF is compatible with compositions in the sense that the diagram MATH is commutative in MATH for all MATH in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open subspace. The restriction of a K-injective complex of MATH-modules to MATH is a K-injective complex of MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open subspace. For MATH in MATH we have MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. The sheafification of MATH is the MATHth cohomology sheaf MATH of MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Given an open subspace MATH, set MATH and denote MATH the induced morphism. Then MATH for MATH in MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Then MATH as functors MATH. More generally for MATH open and MATH we have MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be in MATH. Then MATH is the sheaf associated to the presheaf MATH  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH and denote MATH its image in MATH. <CASES> CASE: For any open MATH there is a canonical map MATH which is an isomorphism in MATH. CASE: Let MATH be a morphism of ringed spaces. There is a canonical map MATH which is an isomorphism in MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be an open subset. Denote MATH the corresponding open immersion. The restriction functor MATH is a right adjoint to extension by zero MATH.  
LEMMA	  Let MATH be a flat morphism of ringed spaces. If MATH is a K-injective complex of MATH-modules, then MATH is K-injective as a complex of MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be the union of two open subspaces. For any object MATH of MATH we have a distinguished triangle MATH in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be the union of two open subspaces. For any object MATH of MATH we have a distinguished triangle MATH in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be the union of two open subspaces of MATH. For objects MATH, MATH of MATH we have a Mayer-Vietoris sequence MATH where the subscripts denote restrictions to the relevant opens and the MATH's and MATH's are taken in the relevant derived categories.  
LEMMA	  Let MATH be a ringed space. Suppose that MATH is a union of two open subsets. For an object MATH of MATH we have a distinguished triangle MATH and in particular a long exact cohomology sequence MATH The construction of the distinguished triangle and the long exact sequence is functorial in MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Suppose that MATH is a union of two open subsets. Denote MATH, MATH, and MATH. For every object MATH of MATH there exists a distinguished triangle MATH This triangle is functorial in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open subspace. Let MATH be a closed subset contained in MATH. <CASES> CASE: If MATH is an object of MATH whose cohomology sheaves are supported on MATH, then MATH is an isomorphism. CASE: If MATH is an object of MATH whose cohomology sheaves are supported on MATH, then MATH is an isomorphism. </CASES>  
LEMMA	  Let MATH be a ringed space. Set MATH. Suppose that MATH is a union of two open subsets. For objects MATH and MATH of MATH we have a map of distinguished triangles MATH where <CASES> CASE: the horizontal arrows are given by cup product, CASE: on the right hand side we have the distinguished triangle of Lemma REF for MATH, and CASE: on the left hand side we have the exact functor MATH applied to the distinguished triangle of Lemma REF for MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be the inclusion of a closed subset. <CASES> CASE: MATH is right adjoint to MATH. CASE: For MATH in MATH we have MATH. CASE: Let MATH be a sheaf of MATH-modules on MATH. Then MATH for MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be the inclusion of a closed subset. <CASES> CASE: For MATH in MATH we have MATH in MATH. CASE: The functor MATH is an equivalence with quasi-inverse MATH. CASE: The functor MATH is right adjoint to the inclusion functor MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be the inclusion of a closed subset. If MATH is a K-injective complex of MATH-modules, then MATH is K-injective complex of MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be the inclusion of a closed subset. Then MATH as functors MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be the inclusion of a closed subset. Let MATH. There is a distinguished triangle MATH in MATH functorial for MATH in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be the inclusion of a closed subset. Denote MATH the inclusion of the complement. There is a distinguished triangle MATH in MATH functorial for MATH in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a closed subset. Let MATH be the inclusion of an open subset with MATH. Then MATH for all MATH in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a closed subset. Let MATH be an object of MATH and denote MATH its image in MATH. <CASES> CASE: There is a canonical map MATH which is an isomorphism in MATH. CASE: There is a canonical map MATH which is an isomorphism in MATH. </CASES>  
LEMMA	  With notation as in Remark REF the diagram MATH commutes where the top horizontal arrow is the cup product of Remark REF.  
LEMMA	  With notation and assumptions as in Remark REF the diagram MATH commutes. Here the top horizontal arrow comes from the identifications MATH and MATH, the pullback map MATH, and the map constructed in Remark REF.  
LEMMA	  Let MATH be an ideal of a ring MATH. Let MATH be a topological space. Let MATH be an inverse system of sheaves of MATH-modules on MATH such that MATH. Let MATH. Assume MATH satisfies the ascending chain condition as a graded MATH-module. Then the inverse system MATH satisfies the Mittag-Leffler condition.  
LEMMA	  Let MATH be an ideal of a ring MATH. Let MATH be a topological space. Let MATH be an inverse system of MATH-modules on MATH such that MATH. Let MATH. Given MATH define MATH If MATH satisfies the ascending chain condition as a graded MATH-module, then the inverse system MATH satisfies the Mittag-Leffler condition.  
LEMMA	  Let MATH be an ideal of a ring MATH. Let MATH be a topological space. Let MATH be an inverse system of sheaves of MATH-modules on MATH such that MATH. Let MATH. Assume MATH satisfies the ascending chain condition as a graded MATH-module. Then the limit topology on MATH is the MATH-adic topology.  
LEMMA	  Let MATH be an ideal of a ring MATH. Let MATH be a topological space. Let MATH be an inverse system of sheaves of MATH-modules on MATH such that MATH. Let MATH. Given MATH define MATH If MATH satisfies the ascending chain condition as a graded MATH-module, then the limit topology on MATH is the MATH-adic topology.  
LEMMA	  Let MATH be a ringed space. Let MATH. Let MATH be inverse system of MATH-modules. Consider the conditions <CASES> CASE: for all MATH the map MATH factors through MATH to give a short exact sequence MATH, CASE: for all MATH the map MATH factors through MATH to give a short exact sequence MATH CASE: there exists an MATH-module MATH which is MATH-divisible such that MATH, and CASE: there exists an MATH-module MATH which is MATH-torsion free such that MATH. </CASES> Then (4) MATH (3) MATH (2) MATH (1).  
LEMMA	  Suppose MATH, MATH, MATH satisfy condition (1) of Lemma REF. Let MATH and set MATH. Then MATH is the kernel of MATH for all MATH. Thus the limit topology on MATH is the MATH-adic topology.  
LEMMA	  Let MATH be a Noetherian ring complete with respect to a principal ideal MATH. Let MATH be a topological space. Let MATH be an inverse system of sheaves of MATH-modules. Assume <CASES> CASE: MATH is a finite MATH-module, CASE: MATH, MATH, MATH satisfy condition (1) of Lemma REF. </CASES> Then MATH is a finite MATH-module, MATH is a nonzerodivisor on MATH, and MATH is the image of MATH in MATH.  
LEMMA	  Let MATH be a ring. Let MATH. Let MATH be a topological space. Let MATH be an inverse system of sheaves of MATH-modules. Let MATH. Assume <CASES> CASE: either MATH is an MATH-module of finite length or MATH is Noetherian and MATH is a finite MATH-module, CASE: MATH, MATH, MATH satisfy condition (1) of Lemma REF. </CASES> Then the inverse system MATH satisfies the Mittag-Leffler condition.  
LEMMA	  Let MATH be a ring. Let MATH. Let MATH be a topological space. Let MATH be an inverse system of sheaves of MATH-modules. Let MATH. Assume <CASES> CASE: either there is an MATH such that the image of MATH is an MATH-module of finite length or MATH is Noetherian and the intersection of the images of MATH is a finite MATH-module, CASE: MATH, MATH, MATH satisfy condition (1) of Lemma REF. </CASES> Then the inverse system MATH satisfies the Mittag-Leffler condition.  
LEMMA	  Let MATH be a ringed space. For MATH open the functor MATH commutes with MATH. Moreover, there are short exact sequences MATH for any inverse system MATH in MATH and any MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Then MATH commutes with MATH, i.e., MATH commutes with derived limits.  
LEMMA	  Let MATH be a ringed space. Let MATH be an inverse system of MATH-modules. Let MATH be a set of opens of MATH. Assume <CASES> CASE: every open of MATH has a covering whose members are elements of MATH, CASE: MATH for MATH and MATH, CASE: the inverse system MATH has vanishing MATH for MATH. </CASES> Then MATH and we have MATH for MATH and MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an inverse system in MATH. Let MATH and MATH. Assume there exist an integer MATH and a fundamental system MATH of open neighbourhoods of MATH such that for MATH <CASES> CASE: MATH, and CASE: MATH is injective for MATH. </CASES> Then the map on stalks MATH is injective.  
LEMMA	  Let MATH be a ringed space. Let MATH. Assume that for every MATH there exist a function MATH and a fundamental system MATH of open neighbourhoods of MATH such that MATH Then the map MATH of Derived Categories, Remark REF is an isomorphism in MATH.  
LEMMA	  REF Let MATH be a ringed space. Let MATH. Assume that for every MATH there exist an integer MATH and a fundamental system MATH of open neighbourhoods of MATH such that MATH Then the map MATH of Derived Categories, Remark REF is an isomorphism in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH. Assume there exist a function MATH and a set MATH of opens of MATH such that <CASES> CASE: every open in MATH has a covering whose members are elements of MATH, and CASE: MATH for MATH and MATH. </CASES> Then the map MATH of Derived Categories, Remark REF is an isomorphism in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH. Assume there exist an integer MATH and a basis MATH for the topology of MATH such that MATH Then the map MATH of Derived Categories, Remark REF is an isomorphism in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. Let MATH be a set of opens of MATH. Assume <CASES> CASE: every open of MATH has a covering whose members are elements of MATH, CASE: MATH for all MATH, MATH, and MATH. </CASES> Then MATH for MATH and MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an inverse system of objects of MATH. Let MATH be a set of opens of MATH. Assume <CASES> CASE: every open of MATH has a covering whose members are elements of MATH, CASE: for all MATH and all MATH we have <CASES> CASE: MATH for MATH, CASE: the inverse system MATH has vanishing MATH. </CASES> </CASES> Then MATH for MATH.  
LEMMA	  In the situation described above. Denote MATH the MATHth cohomology sheaf. Let MATH be a set of open subsets of MATH. Let MATH. Assume <CASES> CASE: every open in MATH has a covering whose members are elements of MATH, CASE: for every MATH we have MATH for MATH and MATH. </CASES> Then (REF) is a quasi-isomorphism.  
LEMMA	  Let MATH be a ringed space. Let MATH be an inverse system of complexes of MATH-modules. Let MATH. Assume there exist a set MATH of open subsets of MATH and an integer MATH such that <CASES> CASE: every open in MATH has a covering whose members are elements of MATH, CASE: for every MATH <CASES> CASE: the systems of abelian groups MATH and MATH have vanishing MATH (for example these have the Mittag-Leffler condition), CASE: the system of abelian groups MATH has vanishing MATH (for example it has the Mittag-Leffler condition), and CASE: we have MATH for all MATH. </CASES> </CASES> Then the maps MATH are isomorphisms of sheaves where MATH is the termwise inverse limit.  
LEMMA	  Let MATH be a ringed space. Let MATH be a ring map and let MATH. Let MATH be an object of MATH. Denote MATH and set MATH. For MATH is a canonical commutative diagram MATH with exact rows and columns where MATH is the usual MATH-adic completion, MATH is the derived MATH-adic completion, and MATH is the MATH-adic Tate module, see More on Algebra, Example REF. Finally, we have MATH.  
LEMMA	  Let MATH be an abelian category. Let MATH be a morphism of MATH. If MATH stabilizes, then the inverse systems MATH are pro-isomorphic in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a finite open covering. For a complex MATH of MATH-modules there is a canonical map MATH functorial in MATH and compatible with (REF).  
LEMMA	  Let MATH be a ringed space. Let MATH be a finite open covering. Let MATH be a complex of MATH-modules. Let MATH be a set of open subsets of MATH. Assume <CASES> CASE: every open in MATH has a covering whose members are elements of MATH, CASE: we have MATH for all MATH, CASE: for every MATH and MATH we have <CASES> CASE: MATH, CASE: MATH, and CASE: MATH. </CASES> </CASES> Then the map MATH of Lemma REF is an isomorphism in MATH.  
LEMMA	  Let MATH be a ringed space. Given complexes MATH of MATH-modules there is an isomorphism MATH of complexes of MATH-modules functorial in MATH.  
LEMMA	  Let MATH be a ringed space. Given complexes MATH of MATH-modules there is a canonical morphism MATH of complexes of MATH-modules.  
LEMMA	  Let MATH be a ringed space. Given complexes MATH of MATH-modules there is a canonical morphism MATH of complexes of MATH-modules functorial in all three complexes.  
LEMMA	  Let MATH be a ringed space. Given complexes MATH of MATH-modules there is a canonical morphism MATH of complexes of MATH-modules functorial in both complexes.  
LEMMA	  Let MATH be a ringed space. Given complexes MATH of MATH-modules there is a canonical morphism MATH of complexes of MATH-modules functorial in all three complexes.  
LEMMA	  Let MATH be a ringed space. Let MATH and MATH be objects of MATH. Let MATH be a K-injective complex of MATH-modules representing MATH. Let MATH be a complex of MATH-modules representing MATH. Then MATH for all MATH open.  
LEMMA	  Let MATH be a ringed space. Let MATH be a quasi-isomorphism of K-injective complexes of MATH-modules. Let MATH be a quasi-isomorphism of complexes of MATH-modules. Then MATH is a quasi-isomorphism.  
LEMMA	  Let MATH be a ringed space. Let MATH be a K-injective complex of MATH-modules. Let MATH be a K-flat complex of MATH-modules. Then MATH is a K-injective complex of MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be objects of MATH. For every open MATH we have MATH and in particular MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be objects of MATH. With the construction as described above there is a canonical isomorphism MATH in MATH functorial in MATH which recovers (REF) by taking MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be objects of MATH. The construction of MATH commutes with restrictions to opens, i.e., for every open MATH we have MATH.  
LEMMA	  Let MATH be a ringed space. The bifunctor MATH transforms distinguished triangles into distinguished triangles in both variables.  
LEMMA	  Let MATH be a ringed space. Given MATH in MATH there is a canonical morphism MATH in MATH functorial in MATH.  
LEMMA	  Let MATH be a ringed space. Given MATH in MATH there is a canonical morphism MATH in MATH functorial in MATH.  
LEMMA	  Let MATH be a ringed space. Given MATH in MATH there is a canonical morphism MATH in MATH functorial in both MATH and MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. Set MATH. For MATH in MATH there is a canonical map MATH which induces a canonical map MATH functorial in MATH in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be objects of MATH. There is a canonical morphism MATH in MATH functorial in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be the union of two open subspaces of MATH. Suppose given <CASES> CASE: an object MATH of MATH, CASE: an object MATH of MATH, and CASE: an isomorphism MATH. </CASES> Then there exists an object MATH of MATH and isomorphisms MATH, MATH such that MATH. Moreover, given <CASES> CASE: an object MATH of MATH, CASE: a morphism MATH of MATH, CASE: a morphism MATH of MATH,  </CASES> such that MATH Then there exists a morphism MATH in MATH whose restriction to MATH is MATH and whose restriction to MATH is MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be a basis for the topology on MATH. <CASES> CASE: Assume MATH is in MATH such that for MATH we have MATH for MATH. Then MATH has vanishing cohomology sheaves in negative degrees, MATH for MATH for all opens MATH, and the rule MATH is a sheaf on MATH. CASE: Assume MATH are in MATH such that for MATH we have MATH for MATH. Then MATH for MATH for all opens MATH and the rule MATH is a sheaf on MATH. </CASES>  
LEMMA	  In Situation REF assume <CASES> CASE: MATH and for MATH we have MATH, CASE: for any MATH we have MATH for MATH. </CASES> If a solution MATH exists, then it is unique up to unique isomorphism and moreover MATH for MATH.  
LEMMA	  In Situation REF assume <CASES> CASE: MATH with MATH, CASE: for MATH we have MATH, CASE: for any MATH we have MATH for MATH. </CASES> Then a solution exists and is unique up to unique isomorphism.  
LEMMA	  Let MATH be a ringed space. Let MATH be a well ordered set and let MATH be an open covering with MATH and MATH if MATH is not a successor. Let MATH be an object of MATH with MATH for MATH. Assume given isomorphisms MATH in MATH for all MATH with MATH for MATH. Then there exists an object MATH in MATH and isomorphisms MATH for MATH compatible with the isomorphisms MATH.  
THEOM	[BBD gluing lemma]  REF In Situation REF assume <CASES> CASE: MATH, CASE: for MATH we have MATH, CASE: for any MATH we have MATH for MATH. </CASES> Then there exists an object MATH of MATH and isomorphisms MATH in MATH for MATH such that MATH for all MATH with MATH. The pair MATH is unique up to unique isomorphism.  
DEFNN	  Let MATH be a ringed space. Let MATH be a complex of MATH-modules. We say MATH is strictly perfect if MATH is zero for all but finitely many MATH and MATH is a direct summand of a finite free MATH-module for all MATH.  
LEMMA	  The cone on a morphism of strictly perfect complexes is strictly perfect.  
LEMMA	  The total complex associated to the tensor product of two strictly perfect complexes is strictly perfect.  
LEMMA	  Let MATH be a morphism of ringed spaces. If MATH is a strictly perfect complex of MATH-modules, then MATH is a strictly perfect complex of MATH-modules.  
LEMMA	  Let MATH be a ringed space. Given a solid diagram of MATH-modules MATH with MATH a direct summand of a finite free MATH-module and MATH surjective, then a dotted arrow making the diagram commute exists locally on MATH.  
LEMMA	  Let MATH be a ringed space. <CASES> CASE: Let MATH be a morphism of complexes of MATH-modules with MATH strictly perfect and MATH acyclic. Then MATH is locally on MATH homotopic to zero. CASE: Let MATH be a morphism of complexes of MATH-modules with MATH strictly perfect, MATH for MATH, and MATH for MATH. Then MATH is locally on MATH homotopic to zero. </CASES>  
LEMMA	  Let MATH be a ringed space. Given a solid diagram of complexes of MATH-modules MATH with MATH strictly perfect, MATH for MATH and MATH an isomorphism for MATH and surjective for MATH, then a dotted arrow making the diagram commute up to homotopy exists locally on MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH, MATH be complexes of MATH-modules with MATH strictly perfect. <CASES> CASE: For any element MATH there exists an open covering MATH such that MATH is given by a morphism of complexes MATH. CASE: Given a morphism of complexes MATH whose image in the group MATH is zero, there exists an open covering MATH such that MATH is homotopic to zero. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH, MATH be complexes of MATH-modules with MATH strictly perfect. Then the internal hom MATH is represented by the complex MATH with terms MATH and differential as described in Section REF.  
LEMMA	  In the situation of Lemma REF if MATH is K-flat, then MATH is K-flat.  
LEMMA	  Let MATH be a ringed space. Let MATH, MATH be complexes of MATH-modules with <CASES> CASE: MATH for MATH, CASE: MATH for MATH, and CASE: MATH isomorphic to a direct summand of a finite free MATH-module. </CASES> Then the internal hom MATH is represented by the complex MATH with terms MATH and differential as described in Section REF.  
DEFNN	  Let MATH be a ringed space. Let MATH be a complex of MATH-modules. Let MATH. <CASES> CASE: We say MATH is MATH-pseudo-coherent if there exists an open covering MATH and for each MATH a morphism of complexes MATH where MATH is strictly perfect on MATH and MATH is an isomorphism for MATH and MATH is surjective. CASE: We say MATH is pseudo-coherent if it is MATH-pseudo-coherent for all MATH. CASE: We say an object MATH of MATH is MATH-pseudo-coherent (resp.\ pseudo-coherent) if and only if it can be represented by a MATH-pseudo-coherent (resp.\ pseudo-coherent) complex of MATH-modules. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. <CASES> CASE: If there exists an open covering MATH, strictly perfect complexes MATH on MATH, and maps MATH in MATH with MATH an isomorphism for MATH and MATH surjective, then MATH is MATH-pseudo-coherent. CASE: If MATH is MATH-pseudo-coherent, then any complex representing MATH is MATH-pseudo-coherent. </CASES>  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be an object of MATH. If MATH is MATH-pseudo-coherent, then MATH is MATH-pseudo-coherent.  
LEMMA	  Let MATH be a ringed space and MATH. Let MATH be a distinguished triangle in MATH. <CASES> CASE: If MATH is MATH-pseudo-coherent and MATH is MATH-pseudo-coherent then MATH is MATH-pseudo-coherent. CASE: If MATH and MATH are MATH-pseudo-coherent, then MATH is MATH-pseudo-coherent. CASE: If MATH is MATH-pseudo-coherent and MATH is MATH-pseudo-coherent, then MATH is MATH-pseudo-coherent. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be objects of MATH. <CASES> CASE: If MATH is MATH-pseudo-coherent and MATH for MATH and MATH is MATH-pseudo-coherent and MATH for MATH, then MATH is MATH-pseudo-coherent with MATH. CASE: If MATH and MATH are pseudo-coherent, then MATH is pseudo-coherent. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH. If MATH is MATH-pseudo-coherent (resp.\ pseudo-coherent) in MATH so are MATH and MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH. Let MATH be a (locally) bounded above complex of MATH-modules such that MATH is MATH-pseudo-coherent for all MATH. Then MATH is MATH-pseudo-coherent.  
LEMMA	  Let MATH be a ringed space. Let MATH. Let MATH be an object of MATH. If MATH is (locally) bounded above and MATH is MATH-pseudo-coherent for all MATH, then MATH is MATH-pseudo-coherent.  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. Let MATH. <CASES> CASE: If MATH is MATH-pseudo-coherent and MATH for MATH, then MATH is a finite type MATH-module. CASE: If MATH is MATH-pseudo-coherent and MATH for MATH, then MATH is a finitely presented MATH-module. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. <CASES> CASE: MATH viewed as an object of MATH is MATH-pseudo-coherent if and only if MATH is a finite type MATH-module, and CASE: MATH viewed as an object of MATH is MATH-pseudo-coherent if and only if MATH is an MATH-module of finite presentation. </CASES>  
DEFNN	  Let MATH be a ringed space. Let MATH be an object of MATH. Let MATH with MATH. <CASES> CASE: We say MATH has tor-amplitude in MATH if MATH for all MATH-modules MATH and all MATH. CASE: We say MATH has finite tor dimension if it has tor-amplitude in MATH for some MATH. CASE: We say MATH locally has finite tor dimension if there exists an open covering MATH such that MATH has finite tor dimension for all MATH. </CASES> An MATH-module MATH has tor dimension MATH if MATH viewed as an object of MATH has tor-amplitude in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a bounded above complex of flat MATH-modules with tor-amplitude in MATH. Then MATH is a flat MATH-module.  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. Let MATH with MATH. The following are equivalent <CASES> CASE: MATH has tor-amplitude in MATH. CASE: MATH is represented by a complex MATH of flat MATH-modules with MATH for MATH. </CASES>  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be an object of MATH. If MATH has tor amplitude in MATH, then MATH has tor amplitude in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. Let MATH with MATH. The following are equivalent <CASES> CASE: MATH has tor-amplitude in MATH. CASE: for every MATH the object MATH of MATH has tor-amplitude in MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be a distinguished triangle in MATH. Let MATH. <CASES> CASE: If MATH has tor-amplitude in MATH and MATH has tor-amplitude in MATH then MATH has tor-amplitude in MATH. CASE: If MATH and MATH have tor-amplitude in MATH, then MATH has tor-amplitude in MATH. CASE: If MATH has tor-amplitude in MATH and MATH has tor-amplitude in MATH, then MATH has tor-amplitude in MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be objects of MATH. If MATH has tor-amplitude in MATH and MATH has tor-amplitude in MATH then MATH has tor amplitude in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH. For MATH, MATH objects of MATH if MATH has tor amplitude in MATH so do MATH and MATH.  
DEFNN	  Let MATH be a ringed space. Let MATH be a complex of MATH-modules. We say MATH is perfect if there exists an open covering MATH such that for each MATH there exists a morphism of complexes MATH which is a quasi-isomorphism with MATH a strictly perfect complex of MATH-modules. An object MATH of MATH is perfect if it can be represented by a perfect complex of MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. <CASES> CASE: If there exists an open covering MATH and strictly perfect complexes MATH on MATH such that MATH represents MATH in MATH, then MATH is perfect. CASE: If MATH is perfect, then any complex representing MATH is perfect. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. Assume that all stalks MATH are local rings. Then the following are equivalent <CASES> CASE: MATH is perfect, CASE: there exists an open covering MATH such that MATH can be represented by a finite complex of finite locally free MATH-modules, and CASE: there exists an open covering MATH such that MATH can be represented by a finite complex of finite free MATH-modules. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. Let MATH be integers. If MATH has tor amplitude in MATH and is MATH-pseudo-coherent, then MATH is perfect.  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. The following are equivalent <CASES> CASE: MATH is perfect, and CASE: MATH is pseudo-coherent and locally has finite tor dimension. </CASES>  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be an object of MATH. If MATH is perfect in MATH, then MATH is perfect in MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a distinguished triangle in MATH. If two out of three of MATH are perfect then the third is also perfect.  
LEMMA	  Let MATH be a ringed space. If MATH are perfect objects of MATH, then so is MATH.  
LEMMA	  Let MATH be a ringed space. If MATH is a perfect object of MATH, then so are MATH and MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an open subspace. Let MATH be a perfect object of MATH whose cohomology sheaves are supported on a closed subset MATH with MATH closed in MATH. Then MATH is a perfect object of MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH in MATH be perfect. Assume that all stalks MATH are local rings. Then the set MATH is open in MATH and is the maximal open set MATH such that MATH is finite locally free for all MATH.  
LEMMA	  Let MATH be a ringed space. The category of complexes of MATH-modules with tensor product defined by MATH is a symmetric monoidal category (for sign rules, see More on Algebra, Section REF).  
LEMMA	  Let MATH be a ringed space. Let MATH be a complex of MATH-modules. If MATH has a left dual in the monoidal category of complexes of MATH-modules (Categories, Definition REF) then MATH is a locally bounded complex whose terms are locally direct summands of finite free MATH-modules and the left dual is as constructed in Example REF.  
LEMMA	  Let MATH be a ringed space. Let MATH. If MATH is perfect, then the map MATH of Lemma REF is an isomorphism.  
LEMMA	  Let MATH be a ringed space. Let MATH be a perfect object of MATH. Then MATH is a perfect object too and MATH. There are functorial isomorphisms MATH and MATH for MATH in MATH.  
LEMMA	  Let MATH be a ringed space. The derived category MATH is a symmetric monoidal category with tensor product given by derived tensor product with usual associativity and commutativity constraints (for sign rules, see More on Algebra, Section REF).  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. If MATH has a left dual in the monoidal category MATH (Categories, Definition REF) then MATH is perfect and the left dual is as constructed in Example REF.  
LEMMA	  Let MATH be a ringed space. Let MATH be a system of perfect objects of MATH. Let MATH be the derived colimit (Derived Categories, Definition REF). Then for any object MATH of MATH we have MATH where MATH is the inverse system of dual perfect complexes.  
LEMMA	  Let MATH be a ringed space. Let MATH and MATH be objects of MATH with MATH perfect. The diagram MATH commutes where the top horizontal arrow is the cup product, the right vertical arrow uses MATH (Example REF), the left vertical arrow uses Lemma REF, and the bottom horizontal arrow is the obvious one.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be objects of MATH. The canonical map MATH of Remark REF is an isomorphism in the following cases <CASES> CASE: MATH is perfect, CASE: MATH is flat, MATH is pseudo-coherent, and MATH is (locally) bounded below, CASE: MATH has finite tor dimension over MATH, MATH is pseudo-coherent, and MATH is (locally) bounded below, </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be objects of MATH. Let MATH. The canonical map MATH is an isomorphism in the following cases <CASES> CASE: MATH is perfect, CASE: MATH is pseudo-coherent and MATH is (locally) bounded below. </CASES>  
LEMMA	  Let MATH be a ringed space. Set MATH. The category of MATH-modules which are summands of finite free MATH-modules is equivalent to the category of finite projective MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be an object of MATH. The following are equivalent <CASES> CASE: MATH is invertible in MATH, see Categories, Definition REF, and CASE: there is a locally finite direct product decomposition MATH and for each MATH there is an invertible MATH-module MATH (Modules, Definition REF) and MATH in MATH. </CASES> If (1) and (2) hold, then MATH is a perfect object of MATH. If MATH is a local ring for all MATH these condition are also equivalent to <CASES> CASE: there exists an open covering MATH and for each MATH an integer MATH such that MATH is represented by an invertible MATH-module placed in degree MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be the inclusion of an open. The MATH-module MATH is a compact object of MATH if there exists an integer MATH such that <CASES> CASE: MATH for all MATH, and CASE: the functors MATH commute with direct sums. </CASES>  
LEMMA	  Let MATH be a ringed space. Assume that the underlying topological space of MATH has the following properties: <CASES> CASE: MATH is quasi-compact, CASE: there exists a basis of quasi-compact open subsets, and CASE: the intersection of any two quasi-compact opens is quasi-compact. </CASES> Let MATH be a perfect object of MATH. Then <CASES> CASE: MATH is a compact object of MATH in the following sense: if MATH is bounded below, then MATH. CASE: If MATH has finite cohomological dimension, i.e., if there exists a MATH such that MATH for MATH, then MATH is a compact object of MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be an injective MATH-module. Let MATH be an MATH-module. Assume MATH is finite locally free on MATH, see Modules, Definition REF. Then MATH is an injective MATH-module.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be an MATH-module. Let MATH be an MATH-module. Assume MATH is finite locally free on MATH, see Modules, Definition REF. Then there exist isomorphisms MATH for all MATH. In fact there exists an isomorphism MATH in MATH functorial in MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH and MATH. If MATH is perfect, then MATH in MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces such that MATH is a homeomorphism onto a closed subset. Then (REF) is an isomorphism always.  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of ideals. Consider the following two conditions <CASES> CASE: for every MATH there exists an open neighbourhood MATH of MATH and MATH such that MATH and MATH is injective, and CASE: MATH is invertible as an MATH-module. </CASES> Then (1) implies (2) and the converse is true if all stalks MATH of the structure sheaf are local rings.  
LEMMA	  In Situation REF let MATH be an MATH-module. The following are equivalent <CASES> CASE: the subsheaf MATH of sections annihilated by MATH is zero, CASE: the subsheaf MATH is zero for all MATH, CASE: the multiplication map MATH is injective, CASE: for every open MATH such that MATH for some MATH the map MATH is injective, CASE: for every MATH and generator MATH of the ideal MATH the element MATH is a nonzerodivisor on the stalk MATH. </CASES>  
LEMMA	  In Situation REF let MATH be a complex of MATH-torsion free MATH-modules. For MATH choose a generator MATH. Then the stalk MATH is canonically isomorphic to the complex MATH constructed in More on Algebra, Section REF.  
LEMMA	  In Situation REF let MATH be a complex of MATH-torsion free MATH-modules. There is a canonical isomorphism MATH of cohomology sheaves.  
LEMMA	  In Situation REF let MATH be a map of complexes of MATH-torsion free MATH-modules. Then the induced map MATH is a quasi-isomorphism too.  
LEMMA	  In Situation REF there is an additive functor MATH such that if MATH in MATH is represented by a complex MATH of MATH-torsion free MATH-modules, then MATH. Similarly for morphisms.  
LEMMA	  In Situation REF let MATH be an object of MATH. There is a canonical isomorphism MATH in MATH where the right hand side is the complex (REF).  
LEMMA	  In Situation REF let MATH be a complex of MATH-torsion free MATH-modules. Let MATH be an invertible MATH-module. Then MATH.  
LEMMA	  In Situation REF let MATH be an object of MATH. Let MATH with MATH nonzero. If MATH is finite free over MATH, then MATH is finite free over MATH of the same rank.  
