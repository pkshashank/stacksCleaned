DEFNN	  Let MATH be a scheme. Let MATH be a quasi-coherent sheaf on MATH. <CASES> CASE: We say MATH is associated to MATH if the maximal ideal MATH is associated to the MATH-module MATH. CASE: We denote MATH or MATH the set of associated points of MATH. CASE: The associated points of MATH are the associated points of MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent sheaf on MATH. Let MATH be an affine open, and set MATH. Let MATH, and let MATH be the corresponding prime. <CASES> CASE: If MATH is associated to MATH, then MATH is associated to MATH. CASE: If MATH is finitely generated, then the converse holds as well. </CASES> In particular, if MATH is locally Noetherian, then the equivalence MATH holds for all pairs MATH as above.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent MATH-module. Then MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a short exact sequence of quasi-coherent sheaves on MATH. Then MATH and MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a coherent MATH-module. Then MATH is finite for every quasi-compact open MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a quasi-coherent MATH-module. Then MATH  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a quasi-coherent MATH-module. If MATH is open and MATH, then MATH is injective.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a quasi-coherent MATH-module. Let MATH be a point in the support of MATH which is not a specialization of another point of MATH. Then MATH. In particular, any generic point of an irreducible component of MATH is an associated point of MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a map of quasi-coherent MATH-modules. Assume that for every MATH at least one of the following happens <CASES> CASE: MATH is injective, or CASE: MATH. </CASES> Then MATH is injective.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a map of quasi-coherent MATH-modules. Assume MATH is coherent and that for every MATH one of the following happens <CASES> CASE: MATH is an isomorphism, or CASE: MATH and MATH. </CASES> Then MATH is an isomorphism.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a quasi-coherent sheaf on MATH which is flat over MATH. Let MATH be a quasi-coherent sheaf on MATH. Then we have MATH and equality holds if MATH is locally Noetherian (for the notation MATH see above).  
DEFNN	  Let MATH be a scheme. Let MATH be a quasi-coherent sheaf on MATH. <CASES> CASE: An embedded associated point of MATH is an associated point which is not maximal among the associated points of MATH, i.e., it is the specialization of another associated point of MATH. CASE: A point MATH of MATH is called an embedded point if MATH is an embedded associated point of MATH. CASE: An embedded component of MATH is an irreducible closed subset MATH where MATH is an embedded point of MATH. </CASES>  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a coherent MATH-module. Then <CASES> CASE: the generic points of irreducible components of MATH are associated points of MATH, and CASE: an associated point of MATH is embedded if and only if it is not a generic point of an irreducible component of MATH. </CASES> In particular an embedded point of MATH is an associated point of MATH which is not a generic point of an irreducible component of MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a coherent sheaf on MATH. Then the following are equivalent: <CASES> CASE: MATH has no embedded associated points, and CASE: MATH has property MATH. </CASES>  
LEMMA	  Let MATH be a locally Noetherian scheme of dimension MATH. The following are equivalent <CASES> CASE: MATH is Cohen-Macaulay, and CASE: MATH has no embedded points. </CASES>  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be an open subscheme. The following are equivalent <CASES> CASE: MATH is scheme theoretically dense in MATH (Morphisms, Definition REF), CASE: MATH is dense in MATH and MATH contains all embedded points of MATH, and CASE: MATH contains all associated points of MATH. </CASES>  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a coherent sheaf on MATH. The set of coherent subsheaves MATH has a maximal element MATH. Setting MATH we have the following <CASES> CASE: MATH, CASE: MATH has no embedded associated points, and CASE: there exists a dense open MATH such that MATH is dense in MATH and MATH. </CASES>  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a coherent MATH-module without embedded associated points. Set MATH This is a coherent sheaf of ideals which defines a closed subscheme MATH without embedded points. Moreover there exists a coherent sheaf MATH on MATH such that (a) MATH, (b) MATH has no associated embedded points, and (c) MATH (as sets).  
DEFNN	  Let MATH be a scheme. Let MATH be a quasi-coherent sheaf on MATH. <CASES> CASE: We say MATH is weakly associated to MATH if the maximal ideal MATH is weakly associated to the MATH-module MATH. CASE: We denote MATH the set of weakly associated points of MATH. CASE: The weakly associated points of MATH are the weakly associated points of MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent sheaf on MATH. Let MATH be an affine open, and set MATH. Let MATH, and let MATH be the corresponding prime. The following are equivalent <CASES> CASE: MATH is weakly associated to MATH, and CASE: MATH is weakly associated to MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent MATH-module. Then MATH  
LEMMA	  Let MATH be a scheme. Let MATH be a short exact sequence of quasi-coherent sheaves on MATH. Then MATH and MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent MATH-module. Then MATH  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent MATH-module. If MATH is open and MATH, then MATH is injective.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent MATH-module. Let MATH be a point in the support of MATH which is not a specialization of another point of MATH. Then MATH. In particular, any generic point of an irreducible component of MATH is weakly associated to MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent MATH-module. If MATH is a finitely generated ideal of MATH, then MATH In particular, if MATH is locally Noetherian, then MATH.  
LEMMA	  Let MATH be a quasi-compact and quasi-separated morphism of schemes. Let MATH be a quasi-coherent MATH-module. Let MATH be a point which is not in the image of MATH. Then MATH is not weakly associated to MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a map of quasi-coherent MATH-modules. Assume that for every MATH at least one of the following happens <CASES> CASE: MATH is injective, or CASE: MATH. </CASES> Then MATH is injective.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a coherent MATH-module. Let MATH be an open subscheme such that for MATH we have MATH. Then MATH is an isomorphism and consequently MATH is an isomorphism too.  
LEMMA	  Let MATH be a reduced scheme. Then the weakly associated points of MATH are exactly the generic points of the irreducible components of MATH.  
LEMMA	  Let MATH be an affine morphism of schemes. Let MATH be a quasi-coherent MATH-module. Then we have MATH  
LEMMA	  Let MATH be an affine morphism of schemes. Let MATH be a quasi-coherent MATH-module. If MATH is locally Noetherian, then we have MATH  
LEMMA	  Let MATH be a finite morphism of schemes. Let MATH be a quasi-coherent MATH-module. Then MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a quasi-coherent MATH-module. Let MATH with MATH. If MATH is flat at MATH, the point MATH is a generic point of the fibre MATH, and MATH, then MATH.  
LEMMA	  Let MATH be a field extension. Let MATH be a scheme over MATH. Let MATH be a quasi-coherent MATH-module. Let MATH with image MATH. If MATH is a weakly associated point of the pullback MATH, then MATH is a weakly associated point of MATH.  
LEMMA	  Let MATH be a quasi-compact and quasi-separated morphism of schemes. Let MATH be a quasi-coherent MATH-module. Let MATH. <CASES> CASE: If MATH, then MATH is not weakly associated to MATH. CASE: If MATH and MATH is Noetherian, then MATH is not associated to MATH. CASE: If MATH, MATH is a finite MATH-module, and MATH is Noetherian, then MATH. CASE: If MATH is flat over MATH and MATH is a nonzerodivisor, then MATH is a nonzerodivisor on MATH. CASE: If MATH is flat over MATH and MATH is a regular sequence, then MATH is a nonzerodivisor on MATH and MATH is a nonzerodivisor on MATH. CASE: If MATH is flat over MATH and MATH is a finite MATH-module, then MATH. </CASES>  
DEFNN	  Let MATH be a morphism of schemes. Let MATH be a quasi-coherent MATH-module. The relative assassin of MATH in MATH over MATH is the set MATH where MATH is the restriction of MATH to the fibre of MATH at MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a quasi-coherent sheaf on MATH. Let MATH and MATH be affine opens with MATH. Write MATH, MATH, and set MATH. Let MATH, and let MATH be the corresponding prime. Then MATH If all fibres MATH of MATH are locally Noetherian, then MATH for all pairs MATH as above.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a quasi-coherent MATH-module. Let MATH be a morphism of schemes. Consider the base change diagram MATH and set MATH. Let MATH be a point with images MATH, MATH and MATH. Assume MATH locally of finite type. Then MATH if and only if MATH and MATH corresponds to a generic point of an irreducible component of MATH.  
DEFNN	  Let MATH be a morphism of schemes. Let MATH be a quasi-coherent MATH-module. The relative weak assassin of MATH in MATH over MATH is the set MATH where MATH is the restriction of MATH to the fibre of MATH at MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be a quasi-coherent MATH-module. Then MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a finite morphism. Let MATH be a quasi-coherent MATH-module. Then MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a finite type quasi-coherent MATH-module. Then MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a finitely presented MATH-module. Then MATH is a quasi-coherent ideal of finite type.  
LEMMA	  Let MATH be a scheme. Let MATH be a finite type, quasi-coherent MATH-module. Let MATH be the closed subscheme cut out by MATH. Let MATH be the scheme theoretic support of MATH. Then <CASES> CASE: MATH as closed subschemes, CASE: MATH as closed subsets, CASE: there exists a finite type, quasi-coherent MATH-module MATH with MATH </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be a finite type, quasi-coherent MATH-module. Let MATH. Then MATH can be generated by MATH elements in a neighbourhood of MATH if and only if MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a finite type, quasi-coherent MATH-module. Let MATH. The following are equivalent <CASES> CASE: MATH is finite locally free of rank MATH CASE: MATH and MATH, and CASE: MATH for MATH and MATH for MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be a finite type, quasi-coherent MATH-module. The closed subschemes MATH defined by the Fitting ideals of MATH have the following properties <CASES> CASE: The intersection MATH is empty. CASE: The functor MATH defined by the rule MATH is representable by the open subscheme MATH. CASE: The functor MATH defined by the rule MATH is representable by the locally closed subscheme MATH of MATH. </CASES> If MATH is of finite presentation, then MATH, MATH, and MATH are of finite presentation.  
LEMMA	  Let MATH be a scheme. Let MATH be an MATH-module of finite presentation. Let MATH be as in Lemma REF. Set MATH. Then MATH represents the functor MATH Moreover, MATH is locally free of rank MATH and the morphisms MATH and MATH are of finite presentation.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be the closed subschemes defined by the fitting ideals of MATH. Then the formation of MATH commutes with arbitrary base change.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. The closed subscheme MATH cut out by the MATHth fitting ideal of MATH is exactly the set of points where MATH is not unramified.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be an integer. Assume <CASES> CASE: MATH is flat, CASE: MATH is locally of finite presentation, and CASE: every nonempty fibre of MATH is equidimensional of dimension MATH. </CASES> Let MATH be the closed subscheme cut out by the MATHth fitting ideal of MATH. Then MATH is exactly the set of points where MATH is not smooth.  
LEMMA	  Let MATH be an integral scheme with generic point MATH. Let MATH be a quasi-coherent MATH-module. Let MATH be nonempty open and MATH. The following are equivalent <CASES> CASE: for some MATH the image of MATH in MATH is torsion, CASE: for all MATH the image of MATH in MATH is torsion, CASE: the image of MATH in MATH is zero, CASE: the image of MATH in MATH is zero, where MATH is the inclusion morphism. </CASES>  
DEFNN	  Let MATH be an integral scheme. Let MATH be a quasi-coherent MATH-module. <CASES> CASE: We say a local section of MATH is torsion if it satisfies the equivalent conditions of Lemma REF. CASE: We say MATH is torsion free if every torsion section of MATH is MATH. </CASES>  
LEMMA	  Let MATH be an integral scheme. Let MATH be a quasi-coherent MATH-module. The following are equivalent <CASES> CASE: MATH is torsion free, CASE: for MATH affine open MATH is a torsion free MATH-module. </CASES>  
LEMMA	  Let MATH be an integral scheme. Let MATH be a quasi-coherent MATH-module. The torsion sections of MATH form a quasi-coherent MATH-submodule MATH. The quotient module MATH is torsion free.  
LEMMA	  Let MATH be an integral scheme. Any flat quasi-coherent MATH-module is torsion free.  
LEMMA	  Let MATH be a flat morphism of integral schemes. Let MATH be a torsion free quasi-coherent MATH-module. Then MATH is a torsion free MATH-module.  
LEMMA	  Let MATH be a flat morphism of schemes. If MATH is integral and the generic fibre of MATH is integral, then MATH is integral.  
LEMMA	  Let MATH be an integral scheme. Let MATH be a quasi-coherent MATH-module. Then MATH is torsion free if and only if MATH is a torsion free MATH-module for all MATH.  
LEMMA	  Let MATH be an integral scheme. Let MATH be a short exact sequence of quasi-coherent MATH-modules. If MATH and MATH are torsion free, then MATH is torsion free.  
LEMMA	  Let MATH be a locally Noetherian integral scheme with generic point MATH. Let MATH be a nonzero coherent MATH-module. The following are equivalent <CASES> CASE: MATH is torsion free, CASE: MATH is the only associated prime of MATH, CASE: MATH is in the support of MATH and MATH has property MATH, and CASE: MATH is in the support of MATH and MATH has no embedded associated prime. </CASES>  
LEMMA	  Let MATH be an integral regular scheme of dimension MATH. Let MATH be a coherent MATH-module. The following are equivalent <CASES> CASE: MATH is torsion free, CASE: MATH is finite locally free. </CASES>  
LEMMA	  Let MATH be an integral scheme. Let MATH, MATH be quasi-coherent MATH-modules. If MATH is torsion free and MATH is of finite presentation, then MATH is torsion free.  
LEMMA	  Let MATH be an integral locally Noetherian scheme. Let MATH be a map of quasi-coherent MATH-modules. Assume MATH is coherent, MATH is torsion free, and that for every MATH one of the following happens <CASES> CASE: MATH is an isomorphism, or CASE: MATH. </CASES> Then MATH is an isomorphism.  
DEFNN	  Let MATH be an integral locally Noetherian scheme. Let MATH be a coherent MATH-module. The reflexive hull of MATH is the MATH-module MATH We say MATH is reflexive if the natural map MATH is an isomorphism.  
LEMMA	  Let MATH be an integral locally Noetherian scheme. Let MATH be a coherent MATH-module. The following are equivalent <CASES> CASE: MATH is reflexive, CASE: for MATH affine open MATH is a reflexive MATH-module. </CASES>  
LEMMA	  Let MATH be an integral locally Noetherian scheme. Let MATH be a coherent MATH-module. <CASES> CASE: If MATH is reflexive, then MATH is torsion free. CASE: The map MATH is injective if and only if MATH is torsion free. </CASES>  
LEMMA	  Let MATH be an integral locally Noetherian scheme. Let MATH be a coherent MATH-module. The following are equivalent <CASES> CASE: MATH is reflexive, CASE: MATH is a reflexive MATH-module for all MATH, CASE: MATH is a reflexive MATH-module for all closed points MATH. </CASES>  
LEMMA	  Let MATH be a flat morphism of integral locally Noetherian schemes. Let MATH be a coherent reflexive MATH-module. Then MATH is a coherent reflexive MATH-module.  
LEMMA	  Let MATH be an integral locally Noetherian scheme. Let MATH be an exact sequence of coherent MATH-modules. If MATH is reflexive and MATH is torsion free, then MATH is reflexive.  
LEMMA	  Let MATH be an integral locally Noetherian scheme. Let MATH, MATH be coherent MATH-modules. If MATH is reflexive, then MATH is reflexive.  
LEMMA	  Let MATH be an integral locally Noetherian scheme. Let MATH be a coherent MATH-module. The following are equivalent <CASES> CASE: MATH is reflexive, CASE: for each MATH one of the following happens <CASES> CASE: MATH is a reflexive MATH-module, or CASE: MATH. </CASES> </CASES>  
LEMMA	  Let MATH be an integral locally Noetherian scheme. Let MATH be a coherent reflexive MATH-module. Let MATH. <CASES> CASE: If MATH, then MATH. CASE: If MATH is MATH, then MATH is MATH. </CASES>  
LEMMA	  Let MATH be an integral locally Noetherian scheme. Let MATH be an open subscheme with complement MATH. Assume MATH has depth MATH for all MATH. Then MATH and MATH define an equivalence of categories between the category of coherent reflexive MATH-modules and the category of coherent reflexive MATH-modules.  
LEMMA	  Let MATH be an integral locally Noetherian normal scheme. Let MATH be a coherent MATH-module. The following are equivalent <CASES> CASE: MATH is reflexive, CASE: MATH is torsion free and has property MATH, and CASE: there exists an open subscheme MATH such that <CASES> CASE: every irreducible component of MATH has codimension MATH in MATH, CASE: MATH is finite locally free, and CASE: MATH. </CASES> </CASES>  
LEMMA	  Let MATH be an integral locally Noetherian normal scheme with generic point MATH. Let MATH, MATH be coherent MATH-modules. Let MATH be a linear map. Then MATH extends to a map MATH of MATH-modules if and only if <CASES> CASE: for every MATH with MATH we have MATH </CASES>  
LEMMA	  Let MATH be a regular scheme of dimension MATH. Let MATH be a coherent MATH-module. The following are equivalent <CASES> CASE: MATH is reflexive, CASE: MATH is finite locally free. </CASES>  
DEFNN	  Let MATH be a scheme. <CASES> CASE: A locally principal closed subscheme of MATH is a closed subscheme whose sheaf of ideals is locally generated by a single element. CASE: An effective Cartier divisor on MATH is a closed subscheme MATH whose ideal sheaf MATH is an invertible MATH-module. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be a closed subscheme. The following are equivalent: <CASES> CASE: The subscheme MATH is an effective Cartier divisor on MATH. CASE: For every MATH there exists an affine open neighbourhood MATH of MATH such that MATH with MATH a nonzerodivisor. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be a locally principal closed subscheme. Let MATH. Then MATH is an affine morphism.  
LEMMA	  Let MATH be a scheme. Let MATH be an effective Cartier divisor. Let MATH. Then MATH is an affine morphism and MATH is scheme theoretically dense in MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be an effective Cartier divisor. Let MATH. If MATH, then MATH.  
DEFNN	  Let MATH be a scheme. Given effective Cartier divisors MATH, MATH on MATH we set MATH equal to the closed subscheme of MATH corresponding to the quasi-coherent sheaf of ideals MATH. We call this the sum of the effective Cartier divisors MATH and MATH.  
LEMMA	  The sum of two effective Cartier divisors is an effective Cartier divisor.  
LEMMA	  Let MATH be a scheme. Let MATH be two effective Cartier divisors on MATH. If MATH (as closed subschemes of MATH), then there exists an effective Cartier divisor MATH such that MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be two closed subschemes of MATH with ideal sheaves MATH and MATH. If MATH defines an effective Cartier divisor MATH, then MATH and MATH are effective Cartier divisors and MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be effective Cartier divisors such that the scheme theoretic intersection MATH is an effective Cartier divisor on MATH. Then MATH is the scheme theoretic union of MATH and MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a locally principal closed subscheme. Then the inverse image MATH is a locally principal closed subscheme of MATH.  
DEFNN	  Let MATH be a morphism of schemes. Let MATH be an effective Cartier divisor. We say the pullback of MATH by MATH is defined if the closed subscheme MATH is an effective Cartier divisor. In this case we denote it either MATH or MATH and we call it the pullback of the effective Cartier divisor.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be an effective Cartier divisor. The pullback of MATH by MATH is defined in each of the following cases: <CASES> CASE: MATH for any weakly associated point MATH of MATH, CASE: MATH, MATH integral and MATH dominant, CASE: MATH reduced and MATH for any generic point MATH of any irreducible component of MATH, CASE: MATH is locally Noetherian and MATH for any associated point MATH of MATH, CASE: MATH is locally Noetherian, has no embedded points, and MATH for any generic point MATH of an irreducible component of MATH, CASE: MATH is flat, and CASE: add more here as needed. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Let MATH, MATH be effective Cartier divisors on MATH. If the pullbacks of MATH and MATH are defined then the pullback of MATH is defined and MATH.  
DEFNN	  Let MATH be a scheme. Let MATH be an effective Cartier divisor with ideal sheaf MATH. <CASES> CASE: The invertible sheaf MATH associated to MATH is defined by MATH CASE: The canonical section, usually denoted MATH or MATH, is the global section of MATH corresponding to the inclusion mapping MATH. CASE: We write MATH. CASE: Given a second effective Cartier divisor MATH we define MATH. </CASES>  
LEMMA	  Let MATH be a scheme and let MATH be an effective Cartier divisor. Then the conormal sheaf is MATH and the normal sheaf is MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be effective Cartier divisors with MATH and let MATH. Then there is a short exact sequence MATH of MATH-modules.  
LEMMA	  Let MATH be a scheme. Let MATH, MATH be effective Cartier divisors on MATH. Let MATH. Then there is a unique isomorphism MATH which maps MATH to MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a effective Cartier divisors on MATH. If the pullback of MATH is defined then MATH and the canonical section MATH pulls back to the canonical section MATH.  
DEFNN	  Let MATH be a locally ringed space. Let MATH be an invertible sheaf on MATH. A global section MATH is called a regular section if the map MATH, MATH is injective.  
LEMMA	  Let MATH be a locally ringed space. Let MATH. The following are equivalent: <CASES> CASE: MATH is a regular section, and CASE: for any MATH the image MATH is a nonzerodivisor. </CASES> If MATH is a scheme these are also equivalent to <CASES> CASE: for any affine open MATH the image MATH is a nonzerodivisor, CASE: there exists an affine open covering MATH such that the image of MATH in MATH is a nonzerodivisor for all MATH. </CASES>  
DEFNN	  Let MATH be a scheme. Let MATH be an invertible sheaf. Let MATH be a global section. The zero scheme of MATH is the closed subscheme MATH defined by the quasi-coherent sheaf of ideals MATH which is the image of the map MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be an invertible sheaf. Let MATH. <CASES> CASE: Consider closed immersions MATH such that MATH is zero ordered by inclusion. The zero scheme MATH is the maximal element of this ordered set. CASE: For any morphism of schemes MATH we have MATH in MATH if and only if MATH factors through MATH. CASE: The zero scheme MATH is a locally principal closed subscheme. CASE: The zero scheme MATH is an effective Cartier divisor if and only if MATH is a regular section of MATH. </CASES>  
LEMMA	  [ Effective Cartier divisors on a scheme are the same as invertible sheaves with fixed regular global section. ] Let MATH be a scheme. <CASES> CASE: If MATH is an effective Cartier divisor, then the canonical section MATH of MATH is regular. CASE: Conversely, if MATH is a regular section of the invertible sheaf MATH, then there exists a unique effective Cartier divisor MATH and a unique isomorphism MATH which maps MATH to MATH. </CASES> The constructions MATH and MATH give mutually inverse maps MATH  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be an invertible MATH-module. Let MATH. Then MATH is a regular section if and only if MATH does not vanish in the associated points of MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a closed subscheme corresponding to the quasi-coherent ideal sheaf MATH. <CASES> CASE: If for every MATH the ideal MATH can be generated by one element, then MATH is locally principal. CASE: If for every MATH the ideal MATH can be generated by a single nonzerodivisor, then MATH is an effective Cartier divisor. </CASES>  
LEMMA	  Let MATH be a locally Noetherian scheme. <CASES> CASE: Let MATH be a locally principal closed subscheme. Let MATH be a generic point of an irreducible component of MATH. Then MATH. CASE: Let MATH be an effective Cartier divisor. Let MATH be a generic point of an irreducible component of MATH. Then MATH. </CASES>  
LEMMA	  Let MATH be a Noetherian scheme. Let MATH be an integral closed subscheme which is also an effective Cartier divisor. Then the local ring of MATH at the generic point of MATH is a discrete valuation ring.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be an effective Cartier divisor. If MATH is MATH, then MATH is MATH.  
LEMMA	  Let MATH be a locally Noetherian normal scheme. Let MATH be an effective Cartier divisor. Then MATH is MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be an integral closed subscheme. Assume that <CASES> CASE: MATH has codimension MATH in MATH, and CASE: MATH is a UFD for all MATH. </CASES> Then MATH is an effective Cartier divisor.  
LEMMA	  Let MATH be a Noetherian scheme. Let MATH be a closed subscheme. Assume there exist integral effective Cartier divisors MATH and a closed subset MATH of codimension MATH such that MATH set-theoretically. Then there exists an effective Cartier divisor of the form MATH such that MATH is an isomorphism away from codimension MATH in MATH. The existence of the MATH is guaranteed if MATH is a UFD for all MATH or if MATH is regular.  
LEMMA	  Let MATH be a closed subscheme of a Noetherian scheme. Assume <CASES> CASE: MATH has no embedded points, CASE: every irreducible component of MATH has codimension MATH in MATH, CASE: every local ring MATH, MATH is a UFD or MATH is regular. </CASES> Then MATH is an effective Cartier divisor.  
LEMMA	  Let MATH be a Noetherian UFD. Let MATH be an ideal such that MATH has no embedded primes and such that every minimal prime over MATH has height MATH. Then MATH for some MATH.  
LEMMA	  Let MATH be a Noetherian scheme. Let MATH be an effective Cartier divisor. Assume that there exist integral effective Cartier divisors MATH such that MATH set theoretically. Then MATH for some MATH. The existence of the MATH is guaranteed if MATH is a UFD for all MATH or if MATH is regular.  
LEMMA	  [ On a projective scheme, every line bundle has a regular meromorphic section. ] Let MATH be a Noetherian scheme which has an ample invertible sheaf. Then every invertible MATH-module is isomorphic to MATH for some effective Cartier divisors MATH in MATH. Moreover, given a finite subset MATH we may choose MATH such that MATH and MATH. If MATH is quasi-affine, then we may choose MATH.  
LEMMA	  Let MATH be an integral regular scheme of dimension MATH. Let MATH be the immersion of an effective Cartier divisor. Let MATH be an exact sequence of coherent MATH-modules. Assume <CASES> CASE: MATH are locally free of rank MATH on a nonempty open of MATH, CASE: MATH is an integral scheme, CASE: MATH is a finite locally free MATH-module of rank MATH. </CASES> Then MATH and MATH are invertible MATH-modules and MATH for some MATH.  
LEMMA	  Let MATH be a Noetherian local ring. The punctured spectrum MATH of MATH is affine if and only if MATH.  
LEMMA	  REF Let MATH be a locally Noetherian scheme. Let MATH be an open subscheme such that the inclusion morphism MATH is affine. For every generic point MATH of an irreducible component of MATH the local ring MATH has dimension MATH. If MATH is dense or if MATH is in the closure of MATH, then MATH.  
LEMMA	  Let MATH be a separated locally Noetherian scheme. Let MATH be an affine open. For every generic point MATH of an irreducible component of MATH the local ring MATH has dimension MATH. If MATH is dense or if MATH is in the closure of MATH, then MATH.  
LEMMA	  Let MATH be a Noetherian separated scheme. Let MATH be a dense affine open. If MATH is a UFD for all MATH, then there exists an effective Cartier divisor MATH with MATH.  
LEMMA	  Let MATH be a Noetherian scheme with affine diagonal. Let MATH be a dense affine open. If MATH is a UFD for all MATH, then there exists an effective Cartier divisor MATH with MATH.  
LEMMA	  Let MATH be a quasi-compact, regular scheme with affine diagonal. Then MATH has an ample family of invertible modules (Morphisms, Definition REF).  
LEMMA	  Let MATH be a finite morphism of schemes. Let MATH be an invertible MATH-module. Let MATH. There exists an open neighbourhood MATH of MATH such that MATH is trivial.  
LEMMA	  Let MATH be a finite morphism of schemes. If there exists a norm of degree MATH for MATH, then there exists a homomorphism of abelian groups MATH such that MATH for all invertible MATH-modules MATH.  
LEMMA	  Let MATH be a finite morphism of schemes. Assume there exists a norm of degree MATH for MATH. For any MATH-linear map MATH of invertible MATH-modules there is an MATH-linear map MATH with MATH, MATH as in Lemma REF. Moreover, for MATH the following are equivalent <CASES> CASE: MATH is zero at a point of MATH with MATH, and CASE: MATH is zero at MATH. </CASES>  
LEMMA	  Let MATH be a finite morphism of schemes. Assume MATH has an ample invertible sheaf and there exists a norm of degree MATH for MATH. Then MATH has an ample invertible sheaf.  
LEMMA	  Let MATH be a finite morphism of schemes. Assume MATH is quasi-affine and there exists a norm of degree MATH for MATH. Then MATH is quasi-affine.  
LEMMA	  Let MATH be a finite locally free morphism of degree MATH. Then there exists a canonical norm of degree MATH whose formation commutes with arbitrary base change.  
LEMMA	  Let MATH be a finite surjective morphism with MATH and MATH integral and MATH normal. Then there exists a norm of degree MATH for MATH.  
LEMMA	  Let MATH be a Noetherian scheme. Let MATH be a prime number such that MATH. Then for some MATH there exists a norm of degree MATH for MATH where MATH is the reduction of MATH.  
PROPN	  Let MATH be a finite surjective morphism of schemes. Assume that MATH has an ample invertible MATH-module. If <CASES> CASE: MATH is finite locally free, or CASE: MATH is an integral normal scheme, or CASE: MATH is Noetherian, MATH, and MATH, </CASES> then MATH has an ample invertible MATH-module.  
LEMMA	  Let MATH be a finite surjective morphism of schemes. Assume that MATH is quasi-affine. If either <CASES> CASE: MATH is finite locally free, or CASE: MATH is an integral normal scheme </CASES> then MATH is quasi-affine.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a closed subscheme. Assume <CASES> CASE: MATH is an effective Cartier divisor, and CASE: MATH is a flat morphism. </CASES> Then for every morphism of schemes MATH the pullback MATH is an effective Cartier divisor on MATH where MATH is the projection.  
DEFNN	  Let MATH be a morphism of schemes. A relative effective Cartier divisor on MATH is an effective Cartier divisor MATH such that MATH is a flat morphism of schemes.  
LEMMA	  Let MATH be a morphism of schemes. If MATH are relative effective Cartier divisor on MATH then so is MATH (Definition REF).  
LEMMA	  Let MATH be a morphism of schemes. If MATH are relative effective Cartier divisor on MATH and MATH as closed subschemes, then the effective Cartier divisor MATH such that MATH (Lemma REF) is a relative effective Cartier divisor on MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a relative effective Cartier divisor on MATH. If MATH and MATH is Noetherian, then MATH is flat at MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a relative effective Cartier divisor. If MATH is locally of finite presentation, then there exists an open subscheme MATH such that MATH and such that MATH is flat.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a relative effective Cartier divisor on MATH. If MATH is flat at all points of MATH, then MATH is flat.  
LEMMA	  Let MATH be a flat morphism which is locally of finite presentation. Let MATH be a closed subscheme. Let MATH with image MATH. <CASES> CASE: If MATH is a Cartier divisor in a neighbourhood of MATH, then there exists an open MATH and a relative effective Cartier divisor MATH such that MATH and MATH. CASE: If MATH is a Cartier divisor in a neighbourhood of MATH, the morphism MATH is of finite presentation, and MATH is flat at MATH, then we can choose MATH and MATH such that MATH. CASE: If MATH is a Cartier divisor in a neighbourhood of MATH and MATH is a locally principal closed subscheme of MATH in a neighbourhood of MATH, then we can choose MATH and MATH such that MATH. </CASES> In particular, if MATH is locally of finite presentation and flat and all fibres MATH are effective Cartier divisors, then MATH is a relative effective Cartier divisor. Similarly, if MATH is a locally principal closed subscheme of MATH such that all fibres MATH are effective Cartier divisors, then MATH is a relative effective Cartier divisor.  
DEFNN	  Let MATH be an immersion. The conormal algebra MATH of MATH in MATH or the conormal algebra of MATH is the quasi-coherent sheaf of graded MATH-algebras MATH described above.  
LEMMA	  Let MATH be an immersion. The conormal algebra of MATH has the following properties: <CASES> CASE: Let MATH be any open such that MATH is a closed subset of MATH. Let MATH be the sheaf of ideals corresponding to the closed subscheme MATH. Then MATH CASE: For any affine open MATH such that MATH there is a canonical isomorphism MATH. </CASES>  
LEMMA	  Let MATH be a commutative diagram in the category of schemes. Assume MATH, MATH immersions. There is a canonical map of graded MATH-algebras MATH characterized by the following property: For every pair of affine opens MATH with MATH such that MATH and MATH the induced map MATH is the one induced by the ring map MATH which has the property MATH.  
LEMMA	  Let MATH be a fibre product diagram in the category of schemes with MATH, MATH immersions. Then the canonical map MATH of Lemma REF is surjective. If MATH is flat, then it is an isomorphism.  
DEFNN	  Let MATH be an immersion of schemes. The normal cone MATH of MATH in MATH is MATH see Constructions, Definitions REF and REF. The normal bundle of MATH in MATH is the vector bundle MATH see Constructions, Definitions REF and REF.  
LEMMA	  Let MATH be a ringed space. Let MATH. We have the following implications MATH is a regular sequence MATH MATH is a Koszul-regular sequence MATH MATH is an MATH-regular sequence MATH MATH is a quasi-regular sequence.  
DEFNN	  REF Let MATH be a ringed space. Let MATH be a sheaf of ideals. <CASES> CASE: We say MATH is regular if for every MATH there exists an open neighbourhood MATH and a regular sequence MATH such that MATH is generated by MATH. CASE: We say MATH is Koszul-regular if for every MATH there exists an open neighbourhood MATH and a Koszul-regular sequence MATH such that MATH is generated by MATH. CASE: We say MATH is MATH-regular if for every MATH there exists an open neighbourhood MATH and a MATH-regular sequence MATH such that MATH is generated by MATH. CASE: We say MATH is quasi-regular if for every MATH there exists an open neighbourhood MATH and a quasi-regular sequence MATH such that MATH is generated by MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of ideals. We have the following implications: MATH is regular MATH MATH is Koszul-regular MATH MATH is MATH-regular MATH MATH is quasi-regular.  
LEMMA	  Let MATH be a locally ringed space. Let MATH be a sheaf of ideals. Then MATH is quasi-regular if and only if the following conditions are satisfied: <CASES> CASE: MATH is an MATH-module of finite type, CASE: MATH is a finite locally free MATH-module, and CASE: the canonical maps MATH are isomorphisms for all MATH. </CASES>  
LEMMA	  Let MATH be a locally ringed space. Let MATH be a sheaf of ideals. Let MATH and MATH whose images give a basis for the MATH-vector space MATH. <CASES> CASE: If MATH is quasi-regular, then there exists an open neighbourhood such that MATH form a quasi-regular sequence generating MATH. CASE: If MATH is MATH-regular, then there exists an open neighbourhood such that MATH form an MATH-regular sequence generating MATH. CASE: If MATH is Koszul-regular, then there exists an open neighbourhood such that MATH form an Koszul-regular sequence generating MATH. </CASES>  
LEMMA	  Any regular, Koszul-regular, MATH-regular, or quasi-regular sheaf of ideals on a scheme is a finite type quasi-coherent sheaf of ideals.  
LEMMA	  Let MATH be a scheme. Let MATH be a sheaf of ideals. Then MATH is regular (resp.\ Koszul-regular, MATH-regular, quasi-regular) if and only if for every MATH there exists an affine open neighbourhood MATH, MATH such that MATH and such that MATH is generated by a regular (resp.\ Koszul-regular, MATH-regular, quasi-regular) sequence MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a quasi-coherent sheaf of ideals. Let MATH be a point of the support of MATH. The following are equivalent <CASES> CASE: MATH is generated by a regular sequence in MATH, CASE: MATH is generated by a Koszul-regular sequence in MATH, CASE: MATH is generated by an MATH-regular sequence in MATH, CASE: MATH is generated by a quasi-regular sequence in MATH, CASE: there exists an affine neighbourhood MATH of MATH such that MATH and MATH is generated by a regular sequence in MATH, and CASE: there exists an affine neighbourhood MATH of MATH such that MATH and MATH is generated by a Koszul-regular sequence in MATH, and CASE: there exists an affine neighbourhood MATH of MATH such that MATH and MATH is generated by an MATH-regular sequence in MATH, and CASE: there exists an affine neighbourhood MATH of MATH such that MATH and MATH is generated by a quasi-regular sequence in MATH, CASE: there exists a neighbourhood MATH of MATH such that MATH is regular, and CASE: there exists a neighbourhood MATH of MATH such that MATH is Koszul-regular, and CASE: there exists a neighbourhood MATH of MATH such that MATH is MATH-regular, and CASE: there exists a neighbourhood MATH of MATH such that MATH is quasi-regular. </CASES> In particular, on a locally Noetherian scheme the notions of regular, Koszul-regular, MATH-regular, or quasi-regular ideal sheaf all agree.  
DEFNN	  REF Let MATH be an immersion of schemes. Choose an open subscheme MATH such that MATH identifies MATH with a closed subscheme of MATH and denote MATH the corresponding quasi-coherent sheaf of ideals. <CASES> CASE: We say MATH is a regular immersion if MATH is regular. CASE: We say MATH is a Koszul-regular immersion if MATH is Koszul-regular. CASE: We say MATH is a MATH-regular immersion if MATH is MATH-regular. CASE: We say MATH is a quasi-regular immersion if MATH is quasi-regular. </CASES>  
LEMMA	  Let MATH be an immersion of schemes. We have the following implications: MATH is regular MATH MATH is Koszul-regular MATH MATH is MATH-regular MATH MATH is quasi-regular.  
LEMMA	  Let MATH be an immersion of schemes. Assume MATH is locally Noetherian. Then MATH is regular MATH MATH is Koszul-regular MATH MATH is MATH-regular MATH MATH is quasi-regular.  
LEMMA	  Let MATH be a regular (resp.\ Koszul-regular, MATH-regular, quasi-regular) immersion. Let MATH be a flat morphism. Then the base change MATH is a regular (resp.\ Koszul-regular, MATH-regular, quasi-regular) immersion.  
LEMMA	  Let MATH be an immersion of schemes. Then MATH is a quasi-regular immersion if and only if the following conditions are satisfied <CASES> CASE: MATH is locally of finite presentation, CASE: the conormal sheaf MATH is finite locally free, and CASE: the map (REF) is an isomorphism. </CASES>  
LEMMA	  Let MATH be immersions of schemes. Assume that MATH is MATH-regular. Then the canonical sequence of Morphisms, Lemma REF MATH is exact and locally split.  
LEMMA	  Let MATH and MATH be immersions of schemes. <CASES> CASE: If MATH and MATH are regular immersions, so is MATH. CASE: If MATH and MATH are Koszul-regular immersions, so is MATH. CASE: If MATH and MATH are MATH-regular immersions, so is MATH. CASE: If MATH is an MATH-regular immersion and MATH is a quasi-regular immersion, then MATH is a quasi-regular immersion. </CASES>  
LEMMA	  Let MATH and MATH be immersions of schemes. Assume that the sequence MATH of Morphisms, Lemma REF is exact and locally split. <CASES> CASE: If MATH is a quasi-regular immersion, so is MATH. CASE: If MATH is a MATH-regular immersion, so is MATH. CASE: If both MATH and MATH are Koszul-regular immersions, so is MATH. </CASES>  
LEMMA	  Let MATH and MATH be immersions of schemes. Pick MATH and denote MATH, MATH the corresponding points. Assume MATH is locally Noetherian. The following are equivalent <CASES> CASE: MATH is a regular immersion in a neighbourhood of MATH and MATH is a regular immersion in a neighbourhood of MATH, CASE: MATH and MATH are regular immersions in a neighbourhood of MATH, CASE: MATH is a regular immersion in a neighbourhood of MATH and the conormal sequence MATH is split exact in a neighbourhood of MATH. </CASES>  
LEMMA	  Let MATH be a Koszul regular closed immersion. Then there exists a surjective smooth morphism MATH such that the base change MATH of MATH is a regular immersion.  
LEMMA	  Let MATH be an immersion. If MATH and MATH are regular schemes, then MATH is a regular immersion.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be an immersion. Assume <CASES> CASE: MATH is an MATH-regular (resp.\ quasi-regular) immersion, and CASE: MATH is a flat morphism. </CASES> Then for every morphism of schemes MATH the base change MATH is an MATH-regular (resp.\ quasi-regular) immersion.  
DEFNN	  Let MATH be a morphism of schemes. Let MATH be an immersion. <CASES> CASE: We say MATH is a relative quasi-regular immersion if MATH is flat and MATH is a quasi-regular immersion. CASE: We say MATH is a relative MATH-regular immersion if MATH is flat and MATH is an MATH-regular immersion. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a relative quasi-regular immersion. If MATH and MATH is Noetherian, then MATH is flat at MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be an immersion. Assume <CASES> CASE: MATH is flat and locally of finite presentation, CASE: MATH is a relative quasi-regular immersion. </CASES> Then MATH is a regular immersion and the same remains true after any base change.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a relative MATH-regular immersion. Assume MATH is locally of finite presentation. Then <CASES> CASE: there exists an open subscheme MATH such that MATH and such that MATH is flat, and CASE: MATH is a regular immersion and the same remains true after any base change. </CASES>  
LEMMA	  Let MATH be a flat morphism which is locally of finite presentation. Let MATH be a closed subscheme. Let MATH with image MATH. <CASES> CASE: If MATH is a quasi-regular immersion in a neighbourhood of MATH, then there exists an open MATH and a relative quasi-regular immersion MATH such that MATH and MATH. CASE: If MATH is a quasi-regular immersion in a neighbourhood of MATH, the morphism MATH is of finite presentation, and MATH is flat at MATH, then we can choose MATH and MATH as in (1) such that MATH. CASE: If MATH is a quasi-regular immersion in a neighbourhood of MATH, and MATH is cut out by MATH equations in a neighbourhood of MATH, where MATH, then we can choose MATH and MATH as in (1) such that MATH. </CASES> In each case MATH is a regular immersion by Lemma REF. In particular, if MATH is locally of finite presentation and flat and all fibres MATH are quasi-regular immersions, then MATH is a relative quasi-regular immersion.  
LEMMA	  Let MATH be a smooth morphism of schemes. Let MATH be a section of MATH. Then MATH is a regular immersion.  
LEMMA	  Let MATH be a commutative diagram of morphisms of schemes. Assume MATH smooth, and MATH, MATH immersions. If MATH is a regular (resp.\ Koszul-regular, MATH-regular, quasi-regular) immersion, then so is MATH.  
LEMMA	  Let MATH be a commutative diagram of morphisms of schemes. Assume that MATH is syntomic, MATH smooth, and MATH an immersion. Then MATH is a regular immersion.  
LEMMA	  Let MATH be a commutative diagram of morphisms of schemes. Assume that MATH is smooth, MATH smooth, and MATH an immersion. Then MATH is a regular immersion.  
LEMMA	  Let MATH be a commutative diagram of morphisms of schemes. Assume MATH smooth and MATH and MATH immersions. If MATH is a Koszul-regular (resp.\ MATH-regular, quasi-regular) immersion, then so is MATH.  
DEFNN	  Let MATH be a locally ringed space. The sheaf of meromorphic functions on MATH is the sheaf MATH associated to the presheaf displayed above. A meromorphic function on MATH is a global section of MATH.  
DEFNN	  Let MATH be a locally ringed space. Let MATH be a sheaf of MATH-modules. <CASES> CASE: We denote MATH the sheaf of MATH-modules which is the sheafification of the presheaf MATH. Equivalently MATH (see above). CASE: A meromorphic section of MATH is a global section of MATH. </CASES>  
DEFNN	  Let MATH be a morphism of locally ringed spaces. We say that pullbacks of meromorphic functions are defined for MATH if for every pair of open MATH, MATH such that MATH, and any section MATH the pullback MATH is an element of MATH.  
LEMMA	  Let MATH be a morphism of schemes. In each of the following cases pullbacks of meromorphic functions are defined. <CASES> CASE: every weakly associated point of MATH maps to a generic point of an irreducible component of MATH, CASE: MATH, MATH are integral and MATH is dominant, CASE: MATH is integral and the generic point of MATH maps to a generic point of an irreducible component of MATH, CASE: MATH is reduced and every generic point of every irreducible component of MATH maps to the generic point of an irreducible component of MATH, CASE: MATH is locally Noetherian, and any associated point of MATH maps to a generic point of an irreducible component of MATH, CASE: MATH is locally Noetherian, has no embedded points and any generic point of an irreducible component of MATH maps to the generic point of an irreducible component of MATH, and CASE: MATH is flat. </CASES>  
LEMMA	  Let MATH be a scheme such that <CASES> CASE: every weakly associated point of MATH is a generic point of an irreducible component of MATH, and CASE: any quasi-compact open has a finite number of irreducible components. </CASES> Let MATH be the set of generic points of irreducible components of MATH. Then we have MATH where MATH is the canonical map of Schemes, Section REF. Moreover <CASES> CASE: MATH is a quasi-coherent sheaf of MATH-algebras, CASE: for every quasi-coherent MATH-module MATH the sheaf MATH of meromorphic sections of MATH is quasi-coherent, CASE: MATH is the set of nonzerodivisors for any MATH, CASE: MATH is the total quotient ring of MATH for any MATH, CASE: MATH equals the total quotient ring of MATH for any affine open MATH, CASE: the ring of rational functions of MATH (Morphisms, Definition REF) is the ring of meromorphic functions on MATH, in a formula: MATH. </CASES>  
DEFNN	  Let MATH be a locally ringed space. Let MATH be an invertible MATH-module. A meromorphic section MATH of MATH is said to be regular if the induced map MATH is injective. In other words, MATH is a regular section of the invertible MATH-module MATH, see Definition REF.  
LEMMA	  Let MATH be a morphism of locally ringed spaces. Assume that pullbacks of meromorphic functions are defined for MATH (see Definition REF). <CASES> CASE: Let MATH be a sheaf of MATH-modules. There is a canonical pullback map MATH for meromorphic sections of MATH. CASE: Let MATH be an invertible MATH-module. A regular meromorphic section MATH of MATH pulls back to a regular meromorphic section MATH of MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be an invertible MATH-module. Let MATH be a regular meromorphic section of MATH. Let us denote MATH the sheaf of ideals defined by the rule MATH The formula makes sense since MATH. Then MATH is a quasi-coherent sheaf of ideals and we have injective maps MATH whose cokernels are supported on closed nowhere dense subsets of MATH.  
DEFNN	  Let MATH be a scheme. Let MATH be an invertible MATH-module. Let MATH be a regular meromorphic section of MATH. The sheaf of ideals MATH constructed in Lemma REF is called the ideal sheaf of denominators of MATH.  
LEMMA	  Let MATH be a quasi-compact scheme. Let MATH and MATH such that MATH restricts to zero on MATH. Then MATH for some MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. <CASES> CASE: For any MATH we have MATH is the set of nonzerodivisors, and hence MATH is the total quotient ring of MATH. CASE: For any affine open MATH the ring MATH equals the total quotient ring of MATH. </CASES>  
LEMMA	  Let MATH be a locally Noetherian scheme having no embedded points. Let MATH be the set of generic points of irreducible components of MATH. Then we have MATH where MATH is the canonical map of Schemes, Section REF. Moreover <CASES> CASE: MATH is a quasi-coherent sheaf of MATH-algebras, CASE: for every quasi-coherent MATH-module MATH the sheaf MATH of meromorphic sections of MATH is quasi-coherent, and CASE: the ring of rational functions of MATH is the ring of meromorphic functions on MATH, in a formula: MATH. </CASES>  
LEMMA	  Let MATH be a locally Noetherian scheme having no embedded points. Let MATH be an invertible MATH-module. Then MATH has a regular meromorphic section.  
LEMMA	  Suppose given <CASES> CASE: MATH a locally Noetherian scheme, CASE: MATH an invertible MATH-module, CASE: MATH a regular meromorphic section of MATH, and CASE: MATH coherent on MATH without embedded associated points and MATH. </CASES> Let MATH be the ideal of denominators of MATH. Let MATH be the union of the supports of MATH and MATH which is a nowhere dense closed subset MATH according to Lemma REF. Then there are canonical injective maps MATH whose cokernels are supported on MATH.  
LEMMA	  Let MATH be a reduced scheme such that any quasi-compact open has a finite number of irreducible components. Let MATH be the set of generic points of irreducible components of MATH. Then we have MATH where MATH is the canonical map of Schemes, Section REF. Moreover <CASES> CASE: MATH is a quasi-coherent sheaf of MATH-algebras, CASE: for every quasi-coherent MATH-module MATH the sheaf MATH of meromorphic sections of MATH is quasi-coherent, CASE: MATH is the set of nonzerodivisors for any MATH, CASE: MATH is the total quotient ring of MATH for any MATH, CASE: MATH equals the total quotient ring of MATH for any affine open MATH, CASE: the ring of rational functions of MATH is the ring of meromorphic functions on MATH, in a formula: MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Assume MATH is reduced and any quasi-compact open MATH has a finite number of irreducible components. Then the normalization morphism MATH is the morphism MATH where MATH is the integral closure of MATH in the sheaf of meromorphic functions.  
LEMMA	  Let MATH be an integral scheme with generic point MATH. We have <CASES> CASE: the sheaf of meromorphic functions is isomorphic to the constant sheaf with value the function field (see Morphisms, Definition REF) of MATH. CASE: for any quasi-coherent sheaf MATH on MATH the sheaf MATH is isomorphic to the constant sheaf with value MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be an invertible MATH-module. In each of the following cases MATH has a regular meromorphic section: <CASES> CASE: MATH is integral, CASE: MATH is reduced and any quasi-compact open has a finite number of irreducible components, CASE: MATH is locally Noetherian and has no embedded points. </CASES>  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be a closed subscheme. The collection of irreducible components of MATH is locally finite in MATH.  
DEFNN	  Let MATH be a locally Noetherian integral scheme. <CASES> CASE: A prime divisor is an integral closed subscheme MATH of codimension MATH. CASE: A Weil divisor is a formal sum MATH where the sum is over prime divisors of MATH and the collection MATH is locally finite (Topology, Definition REF). </CASES> The group of all Weil divisors on MATH is denoted MATH.  
DEFNN	  Let MATH be a locally Noetherian integral scheme. Let MATH. For every prime divisor MATH we define the order of vanishing of MATH along MATH as the integer MATH where the right hand side is the notion of Algebra, Definition REF and MATH is the generic point of MATH.  
LEMMA	  Let MATH be a locally Noetherian integral scheme. Let MATH. Then the collections MATH and MATH are locally finite in MATH.  
DEFNN	  Let MATH be a locally Noetherian integral scheme. Let MATH. The principal Weil divisor associated to MATH is the Weil divisor MATH where the sum is over prime divisors and MATH is as in Definition REF. This makes sense by Lemma REF.  
LEMMA	  Let MATH be a locally Noetherian integral scheme. Let MATH. Then MATH as Weil divisors on MATH.  
DEFNN	  Let MATH be a locally Noetherian integral scheme. The Weil divisor class group of MATH is the quotient of the group of Weil divisors by the subgroup of principal Weil divisors. Notation: MATH.  
DEFNN	  Let MATH be a locally Noetherian integral scheme. Let MATH be an invertible MATH-module. Let MATH be a regular meromorphic section of MATH. For every prime divisor MATH we define the order of vanishing of MATH along MATH as the integer MATH where the right hand side is the notion of Algebra, Definition REF, MATH is the generic point, and MATH is a generator.  
LEMMA	  Let MATH be a locally Noetherian integral scheme. Let MATH be an invertible MATH-module. Let MATH be a regular (i.e., nonzero) meromorphic section of MATH. Then the sets MATH and MATH are locally finite in MATH.  
LEMMA	  Let MATH be a locally Noetherian integral scheme. Let MATH be an invertible MATH-module. Let MATH be nonzero meromorphic sections of MATH. Then MATH is an element of MATH and we have MATH as Weil divisors.  
DEFNN	  Let MATH be a locally Noetherian integral scheme. Let MATH be an invertible MATH-module. <CASES> CASE: For any nonzero meromorphic section MATH of MATH we define the Weil divisor associated to MATH as MATH where the sum is over prime divisors. CASE: We define Weil divisor class associated to MATH as the image of MATH in MATH where MATH is any nonzero meromorphic section of MATH over MATH. This is well defined by Lemma REF. </CASES>  
LEMMA	  Let MATH be a locally Noetherian integral scheme. Let MATH, MATH be invertible MATH-modules. Let MATH, resp.\ MATH be a nonzero meromorphic section of MATH, resp.\ MATH. Then MATH is a nonzero meromorphic section of MATH, and MATH in MATH. In particular, the Weil divisor class of MATH is the sum of the Weil divisor classes of MATH and MATH.  
LEMMA	  Let MATH be a locally Noetherian integral scheme. If MATH is normal, then the map (REF) MATH is injective.  
LEMMA	  Let MATH be a locally Noetherian integral scheme. Consider the map (REF) MATH. The following are equivalent <CASES> CASE: the local rings of MATH are UFDs, and CASE: MATH is normal and MATH is surjective. </CASES> In this case MATH is an isomorphism.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be an invertible MATH-module. Assume that <CASES> CASE: MATH is locally Noetherian, CASE: MATH is locally Noetherian, integral, and normal, CASE: MATH is flat with integral (hence nonempty) fibres, CASE: MATH is either quasi-compact or locally of finite type, CASE: MATH is trivial when restricted to the generic fibre of MATH. </CASES> Then MATH for some invertible MATH-module MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be an open and let MATH be an effective Cartier divisor. If MATH is a UFD for all MATH, then there exists an effective Cartier divisor MATH with MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be an open and let MATH be an invertible MATH-module. If MATH is a UFD for all MATH, then there exists an invertible MATH-module MATH with MATH.  
LEMMA	  Let MATH be a UFD. The Picard groups of the following are trivial. <CASES> CASE: MATH and any open subscheme of it. CASE: MATH and any open subscheme of it. </CASES> In particular, the Picard group of any open subscheme of affine MATH-space MATH over a field MATH is trivial.  
LEMMA	  Let MATH be a UFD. The Picard group of MATH is MATH. More precisely, there is an isomorphism MATH In particular, the Picard group of MATH of projective space over a field MATH is MATH.  
LEMMA	  Let MATH be an integral locally Noetherian normal scheme. For MATH and MATH coherent reflexive MATH-modules the map MATH is an isomorphism. The rule MATH defines an abelian group law on the set of isomorphism classes of rank MATH coherent reflexive MATH-modules.  
LEMMA	  Let MATH be an integral locally Noetherian normal scheme. The group of rank MATH coherent reflexive MATH-modules is isomorphic to the Weil divisor class group MATH of MATH.  
LEMMA	  Let MATH be an integral locally Noetherian normal scheme. Let MATH be a rank 1 coherent reflexive MATH-module. Let MATH. Let MATH Then MATH is an open subscheme of MATH and MATH where MATH and inductively MATH.  
LEMMA	  Assumptions and notation as in Lemma REF. If MATH is nonzero, then every irreducible component of MATH has codimension MATH in MATH.  
LEMMA	  Assumptions and notation as in Lemma REF. The following are equivalent <CASES> CASE: the inclusion morphism MATH is affine, and CASE: for every MATH there is an MATH such that MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent graded MATH-algebra. Let MATH be the relative Proj of MATH. If one of the following holds <CASES> CASE: MATH is of finite type as a sheaf of MATH-algebras, CASE: MATH is generated by MATH as an MATH-algebra and MATH is a finite type MATH-module, CASE: there exists a finite type quasi-coherent MATH-submodule MATH such that MATH is a locally nilpotent sheaf of ideals of MATH, </CASES> then MATH is quasi-compact.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent graded MATH-algebra. Let MATH be the relative Proj of MATH. If MATH is of finite type as a sheaf of MATH-algebras, then MATH is of finite type and MATH is a finite type MATH-module.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent graded MATH-algebra. Let MATH be the relative Proj of MATH. If MATH is an integral algebra map and MATH is of finite type as an MATH-algebra, then MATH is universally closed.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent graded MATH-algebra. Let MATH be the relative Proj of MATH. The following conditions are equivalent <CASES> CASE: MATH is a finite type MATH-module and MATH is of finite type as an MATH-algebra, CASE: MATH is a finite type MATH-module and MATH is of finite type as an MATH-algebra </CASES> If these conditions hold, then MATH is locally projective and in particular proper.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent graded MATH-algebra. Let MATH be the relative Proj of MATH. If MATH is generated by MATH over MATH and MATH is a finite type MATH-module, then MATH is projective.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent graded MATH-algebra. Let MATH be the relative Proj of MATH. If MATH is a flat MATH-module for MATH, then MATH is flat and MATH is flat over MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent graded MATH-algebra. Let MATH be the relative Proj of MATH. If MATH is a finitely presented MATH-algebra, then MATH is of finite presentation and MATH is an MATH-module of finite presentation.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent graded MATH-algebra. Let MATH be the relative Proj of MATH. Let MATH be a closed subscheme. Denote MATH the kernel of the canonical map MATH If MATH is quasi-compact, then there is an isomorphism MATH.  
LEMMA	  Let MATH be a Noetherian UFD. Let MATH be a closed subscheme which has no embedded points such that every irreducible component of MATH has codimension MATH in MATH. Then the ideal MATH corresponding to MATH is principal.  
LEMMA	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a quasi-coherent graded MATH-algebra. Let MATH be the relative Proj of MATH. Let MATH be a closed subscheme. If MATH is quasi-compact and MATH of finite presentation, then there exists a MATH and a quasi-coherent finite type MATH-submodule MATH such that MATH.  
LEMMA	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a quasi-coherent graded MATH-algebra. Let MATH be the relative Proj of MATH. Let MATH be a closed subscheme. Let MATH be an open. Assume that <CASES> CASE: MATH is quasi-compact, CASE: MATH of finite presentation, CASE: MATH, CASE: MATH is quasi-compact, CASE: MATH is a finite type MATH-module for all MATH. </CASES> Then there exists a MATH and a quasi-coherent finite type MATH-submodule MATH with (a) MATH and (b) the support of MATH is disjoint from MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent MATH-module. There is a bijection MATH In this case MATH is a closed immersion and there is a canonical isomorphism MATH Both the bijection and isomorphism are compatible with base change.  
DEFNN	  Let MATH be a scheme. Let MATH be a quasi-coherent sheaf of ideals, and let MATH be the closed subscheme corresponding to MATH, see Schemes, Definition REF. The blowing up of MATH along MATH, or the blowing up of MATH in the ideal sheaf MATH is the morphism MATH The exceptional divisor of the blowup is the inverse image MATH. Sometimes MATH is called the center of the blowup.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent sheaf of ideals. Let MATH be an affine open subscheme of MATH and let MATH be the ideal corresponding to MATH. If MATH is the blowup of MATH in MATH, then there is a canonical isomorphism MATH of MATH with the homogeneous spectrum of the Rees algebra of MATH in MATH. Moreover, MATH has an affine open covering by spectra of the affine blowup algebras MATH.  
LEMMA	  [ Blowing up commutes with flat base change. ] Let MATH be a flat morphism of schemes. Let MATH be a closed subscheme. Let MATH be the inverse image of MATH in MATH. Let MATH be the blowup of MATH in MATH. Then there exists a cartesian diagram MATH of schemes.  
LEMMA	  Let MATH be a scheme. Let MATH be a closed subscheme. The blowing up MATH of MATH in MATH has the following properties: <CASES> CASE: MATH is an isomorphism, CASE: the exceptional divisor MATH is an effective Cartier divisor on MATH, CASE: there is a canonical isomorphism MATH </CASES>  
LEMMA	[Universal property blowing up]  Let MATH be a scheme. Let MATH be a closed subscheme. Let MATH be the full subcategory of MATH consisting of MATH such that the inverse image of MATH is an effective Cartier divisor on MATH. Then the blowing up MATH of MATH in MATH is a final object of MATH.  
LEMMA	  Let MATH be the blowing up of the scheme MATH along a closed subscheme MATH. Let MATH be an affine open of MATH and let MATH be the ideal corresponding to MATH. Let MATH and let MATH be a point mapping to a point of MATH. Then MATH is a point of the affine open MATH if and only if the image of MATH in MATH cuts out the exceptional divisor.  
LEMMA	  Let MATH be a scheme. Let MATH be an effective Cartier divisor. The blowup of MATH in MATH is the identity morphism of MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent sheaf of ideals. If MATH is reduced, then the blowup MATH of MATH in MATH is reduced.  
LEMMA	  Let MATH be a scheme. Let MATH be a nonzero quasi-coherent sheaf of ideals. If MATH is integral, then the blowup MATH of MATH in MATH is integral.  
LEMMA	  Let MATH be a scheme. Let MATH be a closed subscheme. Let MATH be the blowing up of MATH along MATH. Then MATH induces an bijective map from the set of generic points of irreducible components of MATH to the set of generic points of irreducible components of MATH which are not in MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a blowup of MATH in a closed subscheme. The pullback MATH is defined for all effective Cartier divisors MATH and pullbacks of meromorphic functions are defined for MATH (Definitions REF and REF).  
LEMMA	  Let MATH be a scheme. Let MATH be quasi-coherent sheaves of ideals. Let MATH be the blowing up of MATH in MATH. Let MATH be the blowing up of MATH in MATH. Then MATH is canonically isomorphic to the blowing up of MATH in MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a quasi-coherent sheaf of ideals. Let MATH be the blowing up of MATH in the ideal sheaf MATH. If MATH is of finite type, then <CASES> CASE: MATH is a projective morphism, and CASE: MATH is a MATH-relatively ample invertible sheaf. </CASES>  
LEMMA	  [ Composition of blowing ups is a blowing up ] Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a closed subscheme of finite presentation. Let MATH be the blowing up with center MATH. Let MATH be a closed subscheme of finite presentation. Let MATH be the blowing up with center MATH. There exists a closed subscheme MATH of finite presentation, such that <CASES> CASE: MATH set theoretically, and CASE: the composition MATH is isomorphic to the blowing up of MATH in MATH. </CASES>  
DEFNN	  With MATH and MATH as above. <CASES> CASE: Given a quasi-coherent MATH-module MATH the strict transform of MATH with respect to the blowup of MATH in MATH is the quotient MATH of MATH by the submodule of sections supported on MATH. CASE: The strict transform of MATH is the closed subscheme MATH cut out by the quasi-coherent ideal of sections of MATH supported on MATH. </CASES>  
LEMMA	  In the situation of Definition REF. <CASES> CASE: The strict transform MATH of MATH is the blowup of MATH in the closed subscheme MATH of MATH. CASE: For a quasi-coherent MATH-module MATH the strict transform MATH is canonically isomorphic to the pushforward along MATH of the strict transform of MATH relative to the blowing up MATH. </CASES>  
LEMMA	  In the situation of Definition REF. <CASES> CASE: If MATH is flat over MATH at all points lying over MATH, then the strict transform of MATH is equal to the base change MATH. CASE: Let MATH be a quasi-coherent MATH-module. If MATH is flat over MATH at all points lying over MATH, then the strict transform MATH of MATH is equal to the pullback MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be a closed subscheme. Let MATH be the blowing up of MATH in MATH. Let MATH be an affine morphism of schemes over MATH. Let MATH be a quasi-coherent sheaf on MATH. Let MATH be the base change of MATH. Let MATH be the strict transform of MATH relative to MATH. Then MATH is the strict transform of MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a closed subscheme. Let MATH be an effective Cartier divisor. Let MATH be the closed subscheme cut out by the product of the ideal sheaves of MATH and MATH. Let MATH be the blowup of MATH in MATH. <CASES> CASE: The blowup of MATH in MATH is isomorphic to MATH. CASE: Let MATH be a morphism of schemes and let MATH be a quasi-coherent MATH-module. If MATH has no nonzero local sections supported in MATH, then the strict transform of MATH relative to the blowing up in MATH agrees with the strict transform of MATH relative to the blowing up of MATH in MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be a closed subscheme. Let MATH be the blowing up with center MATH. Let MATH be a closed subscheme. Let MATH be the blowing up with center MATH. Let MATH be a closed subscheme such that MATH set theoretically and the composition MATH is isomorphic to the blowing up of MATH in MATH. In this situation, given any scheme MATH over MATH and MATH we have <CASES> CASE: the strict transform of MATH with respect to the blowing up of MATH in MATH is equal to the strict transform with respect to the blowup MATH in MATH of the strict transform of MATH with respect to the blowup MATH of MATH in MATH, and CASE: the strict transform of MATH with respect to the blowing up of MATH in MATH is equal to the strict transform with respect to the blowup MATH in MATH of the strict transform of MATH with respect to the blowup MATH of MATH in MATH. </CASES>  
LEMMA	  In the situation of Definition REF. Suppose that MATH is an exact sequence of quasi-coherent sheaves on MATH which remains exact after any base change MATH. Then the strict transforms of MATH relative to any blowup MATH form a short exact sequence MATH too.  
DEFNN	  Let MATH be a scheme. Let MATH be an open subscheme. A morphism MATH is called a MATH-admissible blowup if there exists a closed immersion MATH of finite presentation with MATH disjoint from MATH such that MATH is isomorphic to the blowup of MATH in MATH.  
LEMMA	  [ Admissible blowups are stable under composition. ] Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a quasi-compact open subscheme. Let MATH be a MATH-admissible blowup. Let MATH be a MATH-admissible blowup. Then the composition MATH is a MATH-admissible blowup.  
LEMMA	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be quasi-compact open subschemes. Let MATH be a MATH-admissible blowup. Then there exists a MATH-admissible blowup MATH whose restriction to MATH is MATH.  
LEMMA	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a quasi-compact open subscheme. Let MATH, MATH be MATH-admissible blowups. There exists a MATH-admissible blowup MATH such that (a) MATH factors as MATH for MATH and (b) each of the morphisms MATH is a MATH-admissible blowup.  
LEMMA	  [ Separate irreducible components by blowing up. ] Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be quasi-compact disjoint open subschemes of MATH. Then there exist a MATH-admissible blowup MATH such that MATH is a disjoint union of open subschemes MATH with MATH and MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH be an invertible MATH-module. Let MATH be a regular meromorphic section of MATH. Let MATH be the maximal open subscheme such that MATH corresponds to a section of MATH over MATH. The blowup MATH in the ideal of denominators of MATH is MATH-admissible. There exists an effective Cartier divisor MATH and an isomorphism MATH where MATH is the exceptional divisor such that the meromorphic section MATH corresponds, via the isomorphism, to the meromorphic section MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a finite type quasi-coherent MATH-module. Let MATH be the closed subscheme cut out by MATH, see Section REF. Let MATH be the blowup of MATH in MATH and let MATH be the strict transform of MATH. Then MATH can locally be generated by MATH sections.  
LEMMA	  Let MATH be a scheme. Let MATH be a finite type quasi-coherent MATH-module. Let MATH be the closed subscheme cut out by MATH, see Section REF. Assume that MATH is locally free of rank MATH on MATH. Let MATH be the blowup of MATH in MATH and let MATH be the strict transform of MATH. Then MATH is locally free of rank MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a finitely presented MATH-module. Let MATH be a scheme theoretically dense open such that MATH is finite locally free of constant rank MATH. Then <CASES> CASE: the blowup MATH of MATH in the MATHth Fitting ideal of MATH is MATH-admissible, CASE: the strict transform MATH of MATH with respect to MATH is locally free of rank MATH, CASE: the kernel MATH of the surjection MATH is finitely presented and MATH, CASE: MATH and MATH are perfect MATH-modules of tor dimension MATH. </CASES>  
LEMMA	  Let MATH be an integral scheme. Let MATH be a finite locally free MATH-module. There exists a modification MATH such that MATH has a filtration whose successive quotients are invertible MATH-modules.  
LEMMA	  Let MATH be a scheme. Let MATH, MATH be schemes over MATH. Assume MATH is Noetherian and MATH is proper over MATH. Given an MATH-rational map MATH from MATH to MATH there exists a morphism MATH and an MATH-morphism MATH such that <CASES> CASE: MATH is proper and MATH is an isomorphism, CASE: MATH is equal to MATH. </CASES>  
