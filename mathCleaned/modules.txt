LEMMA	  Let MATH be a ringed space. The category MATH is an abelian category. Moreover a complex MATH is exact at MATH if and only if for all MATH the complex MATH is exact at MATH.  
LEMMA	  Let MATH be a ringed space. <CASES> CASE: All limits exist in MATH. Limits are the same as the corresponding limits of presheaves of MATH-modules (i.e., commute with taking sections over opens). CASE: All colimits exist in MATH. Colimits are the sheafification of the corresponding colimit in the category of presheaves. Taking colimits commutes with taking stalks. CASE: Filtered colimits are exact. CASE: Finite direct sums are the same as the corresponding finite direct sums of presheaves of MATH-modules. </CASES>  
LEMMA	  Let MATH be a morphism of ringed spaces. <CASES> CASE: The functor MATH is left exact. In fact it commutes with all limits. CASE: The functor MATH is right exact. In fact it commutes with all colimits. CASE: Pullback MATH on abelian sheaves is exact. </CASES>  
LEMMA	  Let MATH be an open immersion of topological spaces. The functor MATH is exact.  
LEMMA	  Let MATH be a ringed space. Let MATH be a set. For MATH, let MATH be a sheaf of MATH-modules. For MATH quasi-compact open the map MATH is bijective.  
DEFNN	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. We say that MATH is generated by global sections if there exist a set MATH, and global sections MATH, MATH such that the map MATH which is the map associated to MATH on the summand corresponding to MATH, is surjective. In this case we say that the sections MATH generate MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. Let MATH be a set. Let MATH, MATH be global sections. The sections MATH generate MATH if and only if for all MATH the elements MATH generate the MATH-module MATH.  
LEMMA	  [ The tensor product of globally generated sheaves of modules is globally generated. ] Let MATH be a ringed space. Let MATH, MATH be sheaves of MATH-modules. If MATH and MATH are generated by global sections then so is MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. Let MATH be a set. Let MATH, MATH be a collection of local sections of MATH, i.e., MATH for some opens MATH. There exists a unique smallest subsheaf of MATH-modules MATH such that each MATH corresponds to a local section of MATH.  
DEFNN	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. Given a set MATH, and local sections MATH, MATH of MATH we say that the subsheaf MATH of Lemma REF above is the subsheaf generated by the MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. Given a set MATH, and local sections MATH, MATH of MATH. Let MATH be the subsheaf generated by the MATH and let MATH. Then MATH is the MATH-submodule of MATH generated by the elements MATH for those MATH such that MATH is defined at MATH.  
DEFNN	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. <CASES> CASE: The support of MATH is the set of points MATH such that MATH. CASE: We denote MATH the support of MATH. CASE: Let MATH be a global section. The support of MATH is the set of points MATH such that the image MATH of MATH is not zero. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. Let MATH open. <CASES> CASE: The support of MATH is closed in MATH. CASE: The support of MATH is contained in the intersections of the supports of MATH and MATH. CASE: The support of MATH is contained in the union of the supports of MATH. CASE: The support of MATH is the union of the supports of all local sections of MATH. CASE: If MATH is a morphism of MATH-modules, then the support of MATH is contained in the support of MATH. </CASES>  
LEMMA	  Let MATH be a topological space. The support of a sheaf of rings is closed.  
LEMMA	  Let MATH be a topological space. Let MATH be a closed subset. Denote MATH the inclusion map. The functor MATH is exact, fully faithful, with essential image exactly those abelian sheaves whose support is contained in MATH. The functor MATH is a left inverse to MATH.  
LEMMA	  Let MATH be the inclusion of a closed subset into the topological space MATH. The functor MATH, MATH of Remark REF is a right adjoint to MATH. In particular MATH commutes with arbitrary colimits.  
LEMMA	  Let MATH be a topological space. Let MATH be an open subset with complement MATH. Denote MATH the open immersion and MATH the closed immersion. For any sheaf of abelian groups MATH on MATH the adjunction mappings MATH and MATH give a short exact sequence MATH of sheaves of abelian groups. For any morphism MATH of abelian sheaves on MATH we obtain a morphism of short exact sequences MATH  
DEFNN	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. We say that MATH is locally generated by sections if for every MATH there exists an open neighbourhood MATH of MATH such that MATH is globally generated as a sheaf of MATH-modules.  
LEMMA	  Let MATH be a morphism of ringed spaces. The pullback MATH is locally generated by sections if MATH is locally generated by sections.  
DEFNN	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. We say that MATH is of finite type if for every MATH there exists an open neighbourhood MATH such that MATH is generated by finitely many sections.  
LEMMA	  Let MATH be a morphism of ringed spaces. The pullback MATH of a finite type MATH-module is a finite type MATH-module.  
LEMMA	  Let MATH be a ringed space. The image of a morphism of MATH-modules of finite type is of finite type. Let MATH be a short exact sequence of MATH-modules. If MATH and MATH are of finite type, so is MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a homomorphism of MATH-modules. Let MATH. Assume MATH of finite type and the map on stalks MATH surjective. Then there exists an open neighbourhood MATH such that MATH is surjective.  
LEMMA	  Let MATH be a ringed space. Let MATH be an MATH-module. Let MATH. Assume MATH of finite type and MATH. Then there exists an open neighbourhood MATH such that MATH is zero.  
LEMMA	  [ Over any ringed space, sheaves of modules of finite type have closed support. ] Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. If MATH is of finite type then support of MATH is closed.  
LEMMA	  Let MATH be a ringed space. Let MATH be a preordered set and let MATH be a system over MATH consisting of sheaves of MATH-modules (see Categories, Section REF). Let MATH be the colimit. Assume (a) MATH is directed, (b) MATH is a finite type MATH-module, and (c) MATH is quasi-compact. Then there exists an MATH such that MATH is surjective. If the transition maps MATH are injective then we conclude that MATH for some MATH.  
LEMMA	  Let MATH be a ringed space. There exists a set of MATH-modules MATH of finite type such that each finite type MATH-module on MATH is isomorphic to exactly one of the MATH.  
DEFNN	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. We say that MATH is a quasi-coherent sheaf of MATH-modules if for every point MATH there exists an open neighbourhood MATH such that MATH is isomorphic to the cokernel of a map MATH The category of quasi-coherent MATH-modules is denoted MATH.  
LEMMA	  Let MATH be a ringed space. The direct sum of two quasi-coherent MATH-modules is a quasi-coherent MATH-module.  
LEMMA	  Let MATH be a morphism of ringed spaces. The pullback MATH of a quasi-coherent MATH-module is quasi-coherent.  
LEMMA	  Let MATH be ringed space. Let MATH be a ring homomorphism from a ring MATH into the ring of global sections on MATH. Let MATH be an MATH-module. The following three constructions give canonically isomorphic sheaves of MATH-modules: <CASES> CASE: Let MATH be the morphism of ringed spaces with MATH the unique map and with MATH-map MATH the given map MATH. Set MATH. CASE: Choose a presentation MATH. Set MATH Here the map on the component MATH corresponding to MATH given by the section MATH where the MATH are the matrix coefficients of the map in the presentation of MATH. CASE: Set MATH equal to the sheaf associated to the presheaf MATH, where the map MATH is the composition of MATH and the restriction map MATH. </CASES> This construction has the following properties: <CASES> CASE: The resulting sheaf of MATH-modules MATH is quasi-coherent. CASE: The construction gives a functor from the category of MATH-modules to the category of quasi-coherent sheaves on MATH which commutes with arbitrary colimits. CASE: For any MATH we have MATH functorial in MATH. CASE: Given any MATH-module MATH we have MATH where the MATH-module structure on MATH comes from the MATH-module structure via MATH. </CASES>  
DEFNN	  In the situation of Lemma REF we say MATH is the sheaf associated to the module MATH and the ring map MATH. If MATH and MATH we simply say MATH is the sheaf associated to the module MATH.  
LEMMA	  Let MATH be a ringed space. Set MATH. Let MATH be an MATH-module. Let MATH be the quasi-coherent sheaf of MATH-modules associated to MATH. If MATH is a morphism of ringed spaces, then MATH is the sheaf associated to the MATH-module MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a point. Assume that MATH has a fundamental system of quasi-compact neighbourhoods. Consider any quasi-coherent MATH-module MATH. Then there exists an open neighbourhood MATH of MATH such that MATH is isomorphic to the sheaf of modules MATH on MATH associated to some MATH-module MATH.  
DEFNN	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. We say that MATH is of finite presentation if for every point MATH there exists an open neighbourhood MATH, and  MATH such that MATH is isomorphic to the cokernel of a map MATH  
LEMMA	  Let MATH be a ringed space. Any MATH-module of finite presentation is quasi-coherent.  
LEMMA	  Let MATH be a ringed space. Let MATH be an MATH-module of finite presentation. <CASES> CASE: If MATH is a surjection, then MATH is of finite type. CASE: If MATH is surjective with MATH of finite type, then MATH is of finite type. </CASES>  
LEMMA	  Let MATH be a morphism of ringed spaces. The pullback MATH of a module of finite presentation is of finite presentation.  
LEMMA	  Let MATH be a ringed space. Set MATH. Let MATH be an MATH-module. The MATH-module MATH associated to MATH is a directed colimit of finitely presented MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be a finitely presented MATH-module. Let MATH such that MATH. Then there exists an open neighbourhood MATH of MATH such that MATH.  
DEFNN	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. We say that MATH is a coherent MATH-module if the following two conditions hold: <CASES> CASE: MATH is of finite type, and CASE: for every open MATH and every finite collection MATH, MATH the kernel of the associated map MATH is of finite type. </CASES> The category of coherent MATH-modules is denoted MATH.  
LEMMA	  Let MATH be a ringed space. Any coherent MATH-module is of finite presentation and hence quasi-coherent.  
LEMMA	  Let MATH be a ringed space. <CASES> CASE: Any finite type subsheaf of a coherent sheaf is coherent. CASE: Let MATH be a morphism from a finite type sheaf MATH to a coherent sheaf MATH. Then MATH is of finite type. CASE: Let MATH be a morphism of coherent MATH-modules. Then MATH and MATH are coherent. CASE: Given a short exact sequence of MATH-modules MATH if two out of three are coherent so is the third. CASE: The category MATH is a weak Serre subcategory of MATH. In particular, the category of coherent modules is abelian and the inclusion functor MATH is exact. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be an MATH-module. Assume MATH is a coherent MATH-module. Then MATH is coherent if and only if it is of finite presentation.  
LEMMA	  Let MATH be a ringed space. Let MATH be a homomorphism of MATH-modules. Let MATH. Assume MATH of finite type, MATH coherent and the map on stalks MATH injective. Then there exists an open neighbourhood MATH such that MATH is injective.  
DEFNN	  A closed immersion of ringed spaces is a morphism MATH with the following properties: <CASES> CASE: The map MATH is a closed immersion of topological spaces. CASE: The associated map MATH is surjective. Denote the kernel by MATH. CASE: The MATH-module MATH is locally generated by sections. </CASES>  
LEMMA	  Let MATH be a closed immersion of ringed spaces. Let MATH be a quasi-coherent MATH-module. Then MATH is locally on MATH the cokernel of a map of quasi-coherent MATH-modules.  
LEMMA	  Let MATH be a morphism of ringed spaces. Assume MATH is a homeomorphism onto a closed subset of MATH and that MATH is surjective. Let MATH be an MATH-module. Then MATH is of finite type if and only if MATH is of finite type.  
LEMMA	  Let MATH be a morphism of ringed spaces. Assume MATH is a homeomorphism onto a closed subset of MATH and MATH is surjective. Denote MATH the kernel of MATH. The functor MATH is exact, fully faithful, with essential image those MATH-modules MATH such that MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be the inclusion of a closed subset. The functor MATH of Remark REF is right adjoint to MATH.  
DEFNN	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. <CASES> CASE: We say MATH is locally free if for every point MATH there exist a set MATH and an open neighbourhood MATH such that MATH is isomorphic to MATH as an MATH-module. CASE: We say MATH is finite locally free if we may choose the index sets MATH to be finite. CASE: We say MATH is finite locally free of rank MATH if we may choose the index sets MATH to have cardinality MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. If MATH is locally free then it is quasi-coherent.  
LEMMA	  Let MATH be a morphism of ringed spaces. If MATH is a locally free MATH-module, then MATH is a locally free MATH-module.  
LEMMA	  Let MATH be a ringed space. Suppose that the support of MATH is MATH, i.e., all stalks of MATH are nonzero rings. Let MATH be a locally free sheaf of MATH-modules. There exists a locally constant function MATH such that for any point MATH the cardinality of any set MATH such that MATH is isomorphic to MATH in a neighbourhood of MATH is MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH. Let MATH be a map of finite locally free MATH-modules of rank MATH. Then MATH is an isomorphism if and only if MATH is surjective.  
LEMMA	  Let MATH be a ringed space. If all stalks MATH are local rings, then any direct summand of a finite locally free MATH-module is finite locally free.  
LEMMA	  Let MATH be a ringed space. Let MATH, MATH be MATH-modules. Let MATH. There is a canonical isomorphism of MATH-modules MATH functorial in MATH and MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH, MATH be presheaves of MATH-modules with sheafifications MATH, MATH. Then MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an MATH-module. If MATH is an exact sequence of MATH-modules then the induced sequence MATH is exact.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH, MATH be MATH-modules. Then MATH functorially in MATH, MATH.  
LEMMA	  Let MATH be a ringed space. For any MATH-module MATH the functor MATH commutes with arbitrary colimits.  
LEMMA	  Let MATH be a ringed space. Let MATH, MATH be MATH-modules. <CASES> CASE: If MATH, MATH are locally generated by sections, so is MATH. CASE: If MATH, MATH are of finite type, so is MATH. CASE: If MATH, MATH are quasi-coherent, so is MATH. CASE: If MATH, MATH are of finite presentation, so is MATH. CASE: If MATH is of finite presentation and MATH is coherent, then MATH is coherent. CASE: If MATH, MATH are coherent, so is MATH. CASE: If MATH, MATH are locally free, so is MATH. </CASES>  
DEFNN	  Let MATH be a ringed space. An MATH-module MATH is flat if the functor MATH is exact.  
LEMMA	  Let MATH be a ringed space. An MATH-module MATH is flat if and only if the stalk MATH is a flat MATH-module for all MATH.  
DEFNN	  Let MATH be a ringed space. Let MATH. An MATH-module MATH is flat at MATH if MATH is a flat MATH-module.  
LEMMA	  Let MATH be a ringed space. A filtered colimit of flat MATH-modules is flat. A direct sum of flat MATH-modules is flat.  
LEMMA	  Let MATH be a ringed space. Let MATH be open. The sheaf MATH is a flat sheaf of MATH-modules.  
LEMMA	  Let MATH be a ringed space. <CASES> CASE: Any sheaf of MATH-modules is a quotient of a direct sum MATH. CASE: Any MATH-module is a quotient of a flat MATH-module. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be a short exact sequence of MATH-modules. Assume MATH is flat. Then for any MATH-module MATH the sequence MATH is exact.  
LEMMA	  [ Kernels of epimorphisms and extensions of flat sheaves of modules over a ringed space are again flat. ] Let MATH be a ringed space. Let MATH be a short exact sequence of MATH-modules. <CASES> CASE: If MATH and MATH are flat so is MATH. CASE: If MATH and MATH are flat so is MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be an exact complex of MATH-modules. If MATH and all MATH are flat MATH-modules, then for any MATH-module MATH the complex MATH is exact also.  
LEMMA	  Let MATH be a ringed space. Let MATH be a flat MATH-module. Let MATH be open and let MATH be a complex of MATH-modules. For every MATH there exists an open neighbourhood MATH of MATH and a factorization MATH of MATH such that MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an MATH-module. Let MATH be a left dual of MATH in the monoidal category of MATH-modules, see Categories, Definition REF. Then <CASES> CASE: MATH is locally a direct summand of a finite free MATH-module, CASE: the map MATH sending a local section MATH to MATH is an isomorphism, CASE: we have MATH for local sections MATH and MATH of MATH and MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be a flat MATH-module of finite presentation. Then MATH is locally a direct summand of a finite free MATH-module.  
LEMMA	  Let MATH be a topological space. Let MATH be a basis for the topology on MATH. Let MATH be a sheaf of sets on MATH. There exists a set MATH and for each MATH an element MATH and a finite set MATH such that there exists a surjection MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be a basis for the topology of MATH and assume that each MATH is quasi-compact. Then every sheaf of sets on MATH is a filtered colimit of sheaves of the form MATH with MATH and MATH in MATH and MATH and MATH finite sets.  
LEMMA	  Let MATH be a spectral topological space. Let MATH be the set of quasi-compact open subsets of MATH. Let MATH be a sheaf of sets as in Equation (REF). Then there exists a continuous spectral map MATH to a finite sober topological space MATH and a sheaf of sets MATH on MATH with finite stalks such that MATH.  
LEMMA	  Let MATH be a spectral topological space. Let MATH be the set of quasi-compact open subsets of MATH. Let MATH be a sheaf of sets as in Equation (REF). Then there exist finitely many constructible closed subsets MATH and finite sets MATH such that MATH is isomorphic to a subsheaf of MATH.  
DEFNN	  Let MATH be a morphism of ringed spaces. Let MATH. We say MATH is flat at MATH if the map of rings MATH is flat. We say MATH is flat if MATH is flat at every MATH.  
LEMMA	  Let MATH be a flat morphism of ringed spaces. Then the pullback functor MATH is exact.  
DEFNN	  Let MATH be a morphism of ringed spaces. Let MATH be a sheaf of MATH-modules. <CASES> CASE: We say that MATH is flat over MATH at a point MATH if the stalk MATH is a flat MATH-module. CASE: We say that MATH is flat over MATH if MATH is flat over MATH at every point MATH of MATH. </CASES>  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be an MATH-module flat over MATH. Then the functor MATH is exact.  
LEMMA	  In the situation described above. The sheaf MATH is the sheafification of the presheaf MATH See Algebra, Section REF. Similarly, the sheaf MATH is the sheafification of the presheaf MATH  
LEMMA	  In the situation described above. Let MATH. There are canonical isomorphisms of MATH-modules MATH, MATH, and MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH be a sheaf of MATH-modules. Then MATH, and similarly for the exterior and symmetric algebras associated to MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an exact sequence of sheaves of MATH-modules. For each MATH there is an exact sequence MATH and similarly an exact sequence MATH  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. <CASES> CASE: If MATH is locally generated by sections, then so is each MATH, MATH, and MATH. CASE: If MATH is of finite type, then so is each MATH, MATH, and MATH. CASE: If MATH is of finite presentation, then so is each MATH, MATH, and MATH. CASE: If MATH is coherent, then for MATH each MATH, MATH, and MATH is coherent. CASE: If MATH is quasi-coherent, then so is each MATH, MATH, and MATH. CASE: If MATH is locally free, then so is each MATH, MATH, and MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH be a sheaf of MATH-modules. <CASES> CASE: If MATH is quasi-coherent, then so is each MATH, MATH, and MATH. CASE: If MATH is locally free, then so is each MATH, MATH, and MATH. </CASES>  
LEMMA	  Let MATH be a ringed space. Let MATH, MATH, MATH be MATH-modules. There is a canonical isomorphism MATH which is functorial in all three entries (sheaf Hom in all three spots). In particular, to give a morphism MATH is the same as giving a morphism MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH, MATH be MATH-modules. <CASES> CASE: If MATH is an exact sequence of MATH-modules, then MATH is exact. CASE: If MATH is an exact sequence of MATH-modules, then MATH is exact. </CASES>  
LEMMA	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings. Then we have MATH bifunctorially in MATH and MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH, MATH be MATH-modules. If MATH is of finite type then the canonical map MATH is injective. If MATH is finitely presented, this canonical morphism is an isomorphism.  
LEMMA	  Let MATH be a morphism of ringed spaces. Let MATH, MATH be MATH-modules. If MATH is finitely presented and MATH is flat, then the canonical map MATH is an isomorphism.  
LEMMA	  Let MATH be a ringed space. Let MATH, MATH be MATH-modules. If MATH is finitely presented then the sheaf MATH is locally a kernel of a map between finite direct sums of copies of MATH. In particular, if MATH is coherent then MATH is coherent too.  
LEMMA	  Let MATH be a ringed space. Let MATH be an MATH-module of finite presentation. Let MATH be a filtered colimit of MATH-modules. Then the canonical map MATH is an isomorphism.  
LEMMA	  Let MATH be a ringed space. Let MATH be a preordered set and let MATH be a system over MATH consisting of sheaves of MATH-modules (see Categories, Section REF). Assume <CASES> CASE: MATH is directed, CASE: MATH is an MATH-module of finite presentation, and CASE: MATH has a cofinal system of open coverings MATH with MATH finite and MATH quasi-compact for all MATH. </CASES> Then we have MATH  
DEFNN	  Let MATH be a ringed space and let MATH be an MATH-module. The annihilator of MATH, denoted MATH is the kernel of the map MATH discussed above.  
LEMMA	  Let MATH be a ringed space and let MATH be a sheaf of MATH-modules. If MATH is of finite type, then MATH.  
LEMMA	  Let MATH be a ringed space, let MATH be an MATH-module and let MATH be an ideal sheaf. If MATH, then MATH has a natural MATH-module structure which agrees with the usual commutative algebra construction on stalks.  
LEMMA	  Let MATH be a ringed space. If MATH and MATH are coherent, then so is MATH.  
DEFNN	  Let MATH be a ringed space. Let MATH be an MATH-module map. The Koszul complex MATH associated to MATH is the sheaf of commutative differential graded algebras defined as follows: <CASES> CASE: the underlying graded algebra is the exterior algebra MATH, CASE: the differential MATH is the unique derivation such that MATH for all local sections MATH of MATH. </CASES>  
DEFNN	  Let MATH be a ringed space and let MATH. The Koszul complex on MATH is the Koszul complex associated to the map MATH. Notation MATH, or MATH.  
DEFNN	  Let MATH be a ringed space. An invertible MATH-module is a sheaf of MATH-modules MATH such that the functor MATH is an equivalence of categories. We say that MATH is trivial if it is isomorphic as an MATH-module to MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be an MATH-module. Equivalent are <CASES> CASE: MATH is invertible, and CASE: there exists an MATH-module MATH such that MATH. </CASES> In this case MATH is locally a direct summand of a finite free MATH-module and the module MATH in (2) is isomorphic to MATH.  
LEMMA	  Let MATH be a morphism of ringed spaces. The pullback MATH of an invertible MATH-module is invertible.  
LEMMA	  Let MATH be a ringed space. Any locally free MATH-module of rank MATH is invertible. If all stalks MATH are local rings, then the converse holds as well (but in general this is not the case).  
LEMMA	  Let MATH be a ringed space. <CASES> CASE: If MATH, MATH are invertible MATH-modules, then so is MATH. CASE: If MATH is an invertible MATH-module, then so is MATH and the evaluation map MATH is an isomorphism. </CASES>  
DEFNN	  Let MATH be a ringed space. Given an invertible sheaf MATH on MATH and MATH we define the MATHth tensor power MATH of MATH as the image of MATH under applying the equivalence MATH exactly MATH times.  
DEFNN	  Let MATH be a ringed space. Given an invertible sheaf MATH on MATH we define the associated graded ring to be MATH Given a sheaf of MATH-modules MATH we set MATH which we think of as a graded MATH-module.  
LEMMA	  Let MATH be a ringed space. There exists a set of invertible modules MATH such that each invertible module on MATH is isomorphic to exactly one of the MATH.  
DEFNN	  Let MATH be a ringed space. The Picard group MATH of MATH is the abelian group whose elements are isomorphism classes of invertible MATH-modules, with addition corresponding to tensor product.  
LEMMA	  [ A (local) trivialisation of a linebundle is the same as a (local) nonvanishing section. ] Let MATH be a ringed space. Assume that each stalk MATH is a local ring with maximal ideal MATH. Let MATH be an invertible MATH-module. For any section MATH the set MATH is open in MATH. The map MATH is an isomorphism, and there exists a section MATH of MATH over MATH such that MATH.  
LEMMA	  Let MATH be a ringed space. Let MATH be a short exact sequence of finite locally free MATH-modules. Then there is a canonical isomorphism MATH of MATH-modules.  
LEMMA	  Let MATH be a ringed space. Let MATH be a flat and finitely presented MATH-module. Denote MATH the annihilator of MATH. Then MATH is an invertible MATH-module.  
LEMMA	  Let MATH be a topological space and let MATH be a presheaf of rings. Let MATH be a pre-sheaf of sets contained in MATH. Suppose that for every open MATH the set MATH is a multiplicative subset. <CASES> CASE: There is a map of presheaves of rings MATH such that every local section of MATH maps to an invertible section of MATH. CASE: For any homomorphism of presheaves of rings MATH such that each local section of MATH maps to an invertible section of MATH there exists a unique factorization MATH. CASE: For any MATH we have MATH CASE: The sheafification MATH is a sheaf of rings with a map of sheaves of rings MATH which is universal for maps of MATH into sheaves of rings such that each local section of MATH maps to an invertible section. CASE: For any MATH we have MATH </CASES>  
LEMMA	  Let MATH be a topological space. Let MATH be a presheaf of rings. Let MATH be a pre-sheaf of sets contained in MATH. Suppose that for every open MATH the set MATH is a multiplicative subset. For any presheaf of MATH-modules MATH we have MATH (see Sheaves, Section REF for notation) and if MATH and MATH are sheaves then MATH (see Sheaves, Section REF for notation).  
DEFNN	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings. Let MATH be an MATH-module. An MATH-derivation or more precisely a MATH-derivation into MATH is a map MATH which is additive, annihilates the image of MATH, and satisfies the Leibniz rule MATH for all MATH local sections of MATH (wherever they are both defined). We denote MATH the set of MATH-derivations into MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings. The functor MATH is representable.  
DEFNN	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings on MATH. The module of differentials of MATH is the object representing the functor MATH which exists by Lemma REF. It is denoted MATH, and the universal MATH-derivation is denoted MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings on MATH. Then MATH is the sheaf associated to the presheaf MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings. For MATH open there is a canonical isomorphism MATH compatible with universal derivations.  
LEMMA	  Let MATH be a continuous map of topological spaces. Let MATH be a homomorphism of sheaves of rings on MATH. Then there is a canonical identification MATH compatible with universal derivations.  
LEMMA	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings on MATH. Let MATH. Then we have MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be a commutative diagram of sheaves of rings on MATH. The map MATH composed with the map MATH is a MATH-derivation. Hence we obtain a canonical map of MATH-modules MATH. It is uniquely characterized by the property that MATH for any local section MATH of MATH. In this way MATH becomes a functor on the category of arrows of sheaves of rings.  
LEMMA	  In Lemma REF suppose that MATH is surjective with kernel MATH and assume that MATH. Then there is a canonical exact sequence of MATH-modules MATH The leftmost map is characterized by the rule that a local section MATH of MATH maps to MATH.  
DEFNN	  Let MATH be a morphism of ringed spaces. <CASES> CASE: Let MATH be an MATH-module. An MATH-derivation into MATH is a MATH-derivation, or more precisely a MATH-derivation in the sense of Definition REF. We denote MATH the set of MATH-derivations into MATH. CASE: The sheaf of differentials MATH of MATH over MATH is the module of differentials MATH endowed with its universal MATH-derivation MATH. </CASES>  
LEMMA	  Let MATH be a morphism of ringed spaces. Consider a short exact sequence MATH Here MATH is a sheaf of MATH-algebras, MATH is a surjection of sheaves of MATH-algebras, and MATH is its kernel. Assume MATH an ideal sheaf with square zero in MATH. So MATH has a natural structure of an MATH-module. A section MATH of MATH is a MATH-algebra map such that MATH. Given any section MATH of MATH and any MATH-derivation MATH the map MATH is a section of MATH and every section MATH is of the form MATH for a unique MATH-derivation MATH.  
LEMMA	  Let MATH be a commutative diagram of ringed spaces. <CASES> CASE: The canonical map MATH composed with MATH is a MATH-derivation and we obtain a canonical map of MATH-modules MATH. CASE: The commutative diagram MATH induces by Lemmas REF and REF a canonical map MATH. </CASES> These two maps correspond (via adjointness of MATH and MATH and via MATH and Sheaves, Lemma REF) to the same MATH-module homomorphism MATH which is uniquely characterized by the property that MATH maps to MATH for any local section MATH of MATH.  
LEMMA	  Let MATH be a commutative diagram of ringed spaces. With notation as in Lemma REF we have MATH as maps MATH.  
LEMMA	  Let MATH, MATH be morphisms of ringed spaces Then there is a canonical exact sequence MATH where the maps come from applications of Lemma REF.  
DEFNN	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings on MATH. Let MATH be an integer. Let MATH, MATH be sheaves of MATH-modules. A differential operator MATH of order MATH is an is an MATH-linear map such that for all local sections MATH of MATH the map MATH is a differential operator of order MATH. For the base case MATH we define a differential operator of order MATH to be an MATH-linear map.  
LEMMA	  Let MATH be a topological space. Let MATH be a map of sheaves of rings on MATH. Let MATH be sheaves of MATH-modules. If MATH and MATH are differential operators of order MATH and MATH, then MATH is a differential operator of order MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be a map of sheaves of rings on MATH. Let MATH be a sheaf of MATH-modules. Let MATH. There exists a sheaf of MATH-modules MATH and a canonical isomorphism MATH functorial in the MATH-module MATH.  
DEFNN	  Let MATH be a topoological space. Let MATH be a map of sheaves of rings on MATH. Let MATH be a sheaf of MATH-modules. The module MATH constructed in Lemma REF is called the module of principal parts of order MATH of MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be a homomorphism of presheaves of rings on MATH. Let MATH be a presheaf of MATH-modules. Then MATH is the sheaf associated to the presheaf MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings on MATH. Let MATH be a sheaf of MATH-modules. There is a canonical short exact sequence MATH functorial in MATH called the sequence of principal parts.  
DEFNN	  Let MATH be a morphism of ringed spaces. Let MATH and MATH be MATH-modules. Let MATH be an integer. A differential operator of order MATH on MATH is a differential operator MATH with respect to MATH We denote MATH the set of these differential operators.  
DEFNN	  In the situation above, the de Rham complex of MATH over MATH is the unique complex MATH of sheaves of MATH-modules whose differential in degree MATH is given by MATH and whose differentials in higher degrees have the following property MATH where MATH are sections over a common open MATH.  
LEMMA	  Let MATH be a continuous map of topological spaces. Let MATH be a homomorphism of sheaves of rings on MATH. Then there is a canonical identification MATH of de Rham complexes.  
LEMMA	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings on MATH. The differentials MATH are differential operators of order MATH.  
DEFNN	  Let MATH be a morphism of ringed spaces. The de Rham complex of MATH or of MATH over MATH is the complex MATH  
LEMMA	  Let MATH be a morphism of ringed spaces. The differentials MATH are differential operators of order MATH on MATH.  
DEFNN	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings. The naive cotangent complex MATH is the chain complex (REF) MATH with MATH placed in degree MATH and MATH placed in degree MATH.  
LEMMA	  In the situation above there is a canonical isomorphism MATH in MATH.  
LEMMA	  Let MATH be a continuous map of topological spaces. Let MATH be a homomorphism of sheaves of rings on MATH. Then MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be a homomorphism of sheaves of rings on MATH. Let MATH. Then we have MATH.  
LEMMA	  Let MATH be a topological space. Let MATH be maps of sheaves of rings. Let MATH be the cone (Derived Categories, Definition REF) of the map of complexes MATH. There is a canonical map MATH of complexes of MATH-modules which produces a canonical six term exact sequence MATH of cohomology sheaves.  
DEFNN	  The naive cotangent complex MATH of a morphism of ringed spaces MATH is MATH.  
LEMMA	  Let MATH and MATH be morphisms of ringed spaces. Let MATH be the cone of the map MATH of complexes of MATH-modules. There is a canonical map MATH which produces a canonical six term exact sequence MATH of cohomology sheaves.  
