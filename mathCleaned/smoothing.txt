DEFNN	  Let MATH be a ring map. The singular ideal of MATH over MATH, denoted MATH is the unique radical ideal MATH with MATH  
LEMMA	  Let MATH be a ring. Let MATH. Let MATH be a prime ideal. Assume MATH is smooth at MATH. Then there exists an MATH, MATH, an integer MATH, MATH, subsets MATH, MATH of cardinality MATH such that MATH for some MATH and MATH for all MATH.  
DEFNN	  Let MATH be a ring map of finite presentation. We say an element MATH is elementary standard in MATH over MATH if there exists a presentation MATH and MATH such that MATH for some MATH and MATH for MATH. We say MATH is strictly standard in MATH over MATH if there exists a presentation MATH and MATH such that MATH for some MATH and MATH for MATH.  
LEMMA	  Let MATH be a ring. Let MATH and write MATH. Let MATH. Then (REF) implies there exists an MATH-linear map MATH such that the composition MATH is multiplication by MATH. Conversely, if such a MATH exists, then MATH satisfies (REF).  
LEMMA	[Elkik]  Let MATH be a ring map of finite presentation. The singular ideal MATH is the radical of the ideal generated by strictly standard elements in MATH over MATH and also the radical of the ideal generated by elementary standard elements in MATH over MATH.  
LEMMA	  Let MATH be a ring map of finite presentation. Let MATH be a ring map. If MATH is elementary, resp.\ strictly standard in MATH over MATH, then MATH is elementary, resp.\ strictly standard in MATH over MATH.  
LEMMA	  Let MATH be ring maps with MATH of finite presentation over MATH. Assume that MATH. Then there exists a factorization MATH with MATH smooth over MATH.  
LEMMA	  Let MATH be a ring and let MATH be a finitely presented MATH-algebra. There exists finite type MATH-algebra map MATH which has a retraction with the following two properties <CASES> CASE: for each MATH such that MATH is a local complete intersection (More on Algebra, Definition REF) the ring MATH is smooth over MATH and has a presentation MATH such that MATH is free over MATH, and CASE: for each MATH such that MATH is smooth over MATH the module MATH is free over MATH. </CASES>  
PROPN	  [ Smooth and syntomic algebras lift along surjections ] Let MATH be a surjective ring map with kernel MATH. <CASES> CASE: If MATH is a syntomic ring map, then there exists a syntomic ring map MATH such that MATH. CASE: If MATH is a smooth ring map, then there exists a smooth ring map MATH such that MATH. </CASES>  
LEMMA	  Let MATH be a syntomic ring map. Then there exists a smooth MATH-algebra map MATH with a retraction such that MATH is a global relative complete intersection over MATH, i.e., MATH flat over MATH and all fibres of dimension MATH.  
LEMMA	  Let MATH be a smooth ring map. Then there exists a smooth MATH-algebra map MATH with a retraction such that MATH is standard smooth over MATH, i.e., MATH and MATH is invertible in MATH.  
LEMMA	  Let MATH be a ring map. If MATH is a filtered colimit of smooth MATH-algebras, then MATH is a filtered colimit of standard smooth MATH-algebras.  
LEMMA	  Let MATH be a standard smooth ring map. Let MATH be a finite subset of order MATH. Then there exists a presentation MATH with MATH, with MATH invertible in MATH, and such that MATH is the set of congruence classes of MATH.  
LEMMA	  Let MATH be a ring map of finite presentation. Let MATH. Consider the following conditions on MATH: <CASES> CASE: MATH is smooth over MATH, CASE: MATH is smooth over MATH and MATH is stably free, CASE: MATH is smooth over MATH and MATH is free, CASE: MATH is standard smooth over MATH, CASE: MATH is strictly standard in MATH over MATH, CASE: MATH is elementary standard in MATH over MATH. </CASES> Then we have <CASES> CASE: (4) MATH (3) MATH (2) MATH (1), CASE: (6) MATH (5), CASE: (6) MATH (4), CASE: (5) MATH (2), CASE: (2) MATH the elements MATH, MATH are strictly standard in MATH over MATH, CASE: (4) MATH the elements MATH, MATH are elementary standard in MATH over MATH. </CASES>  
LEMMA	  In Situation REF Neron's blowup is functorial in the following sense <CASES> CASE: if MATH, MATH, then Neron's blowup of MATH is MATH, and CASE: if MATH is a surjection of flat finite type MATH-algebras with kernel MATH, then MATH is the quotient of MATH by its MATH-power torsion. </CASES>  
LEMMA	  In Situation REF assume that MATH is smooth at MATH and that MATH is a separable field extension. Then MATH is smooth at MATH and there is a short exact sequence MATH where MATH.  
LEMMA	  In Situation REF assume that MATH is smooth at MATH and that we have a surjection of MATH-algebras MATH with kernel MATH. Assume MATH smooth at MATH. If the cokernel of MATH is a free MATH-module, then MATH is smooth at MATH.  
LEMMA	  In Situation REF assume that MATH is smooth at MATH and that MATH is a separable extension of fields. Then after a finite number of affine Neron blowups the algebra MATH becomes smooth over MATH at MATH.  
LEMMA	  [ Unramified extensions of DVRs are ind-smooth AKA Neron desingularization ] Let MATH be an extension of discrete valuation rings which has ramification index MATH and induces a separable extension of residue fields and of fraction fields. Then MATH is a filtered colimit of smooth MATH-algebras.  
LEMMA	  Let MATH be a ring map. Let MATH be an ideal. Assume that <CASES> CASE: MATH, and CASE: MATH is a filtered colimit of smooth MATH-algebras. </CASES> Let MATH be an MATH-algebra map with MATH of finite presentation over MATH. Then there exists a factorization MATH where MATH is a smooth MATH-algebra and MATH is a finitely generated ideal.  
LEMMA	  Let MATH be a ring map. Let MATH be an ideal. Assume that <CASES> CASE: MATH, CASE: MATH is a filtered colimit of smooth MATH-algebras, and CASE: MATH is flat. </CASES> Let MATH be an MATH-algebra map with MATH smooth over MATH. Let MATH be a finitely generated ideal such that MATH. Then there exists MATH-algebra maps MATH such that MATH is smooth over MATH, such that MATH and such that MATH.  
PROPN	  [ Ind-smoothness of an algebra is stable under infinitesimal deformations ] Let MATH be a ring map. Let MATH be an ideal. Assume that <CASES> CASE: MATH is nilpotent, CASE: MATH is a filtered colimit of smooth MATH-algebras, and CASE: MATH is flat. </CASES> Then MATH is a filtered colimit of smooth MATH-algebras.  
LEMMA	  Let MATH be a Noetherian ring. Let MATH be an MATH-algebra. Let MATH and assume that MATH and MATH. Suppose we have MATH-algebra maps MATH with MATH of finite presentation. Then there exists an MATH-algebra homomorphism MATH and a commutative diagram MATH with the following properties <CASES> CASE: MATH is of finite presentation, CASE: MATH is smooth at any prime MATH with MATH, CASE: MATH is smooth at any prime MATH with MATH lying over a prime of MATH where MATH is smooth, and CASE: MATH is smooth at any prime lying over a prime of MATH where MATH is smooth. </CASES>  
LEMMA	  Let MATH be a Noetherian ring. Let MATH be an MATH-algebra. Let MATH and assume that MATH. Let MATH be an MATH-algebra map with MATH of finite presentation. Assume <CASES> CASE: the image of MATH is strictly standard in MATH over MATH, and CASE: there exists a section MATH which is compatible with the map to MATH. </CASES> Then we can find MATH-algebra maps MATH with MATH of finite presentation such that MATH where MATH.  
LEMMA	  Let MATH be a Noetherian ring. Let MATH be an MATH-algebra. Let MATH and assume that MATH and MATH. Let MATH and MATH be MATH-algebra maps with MATH and MATH of finite presentation. Assume <CASES> CASE: MATH is strictly standard in MATH over MATH, and CASE: there exists an MATH-algebra map MATH compatible with the maps to MATH. </CASES> Then we can find an MATH-algebra map MATH with MATH of finite presentation and MATH-algebra maps MATH and MATH compatible with the maps to MATH such that MATH and MATH.  
LEMMA	  Let MATH be a Noetherian ring. Let MATH be an MATH-algebra. Let MATH and assume that MATH and MATH. Let MATH be an MATH-algebra map with MATH of finite presentation and assume MATH is strictly standard in MATH over MATH. Let MATH be a factorization with MATH of finite presentation. Then we can find a factorization MATH with MATH of finite presentation such that MATH is smooth and such that MATH  
LEMMA	  Let MATH, MATH be as in Situation REF. If PT holds for MATH, MATH, then PT holds for MATH.  
LEMMA	  Let MATH be ring maps with MATH of finite presentation over MATH. Let MATH be a multiplicative set. Let MATH be a factorization with MATH smooth over MATH. Then we can find a factorization MATH such that some MATH maps to an elementary standard element (Definition REF) in MATH over MATH.  
LEMMA	  [ Proving Popescu approximation reduces to algebras over a field ] If for every Situation REF where MATH is a field PT holds, then PT holds in general.  
LEMMA	  Let MATH be as in Situation REF. Let MATH and MATH map to elements of MATH. Assume <CASES> CASE: for MATH we have MATH and MATH CASE: for MATH the element MATH maps to a strictly standard element in MATH over MATH. </CASES> Then, if MATH can be resolved, so can MATH.  
LEMMA	  REF Let MATH be as in Situation REF. Let MATH. Assume that MATH is minimal over MATH and that MATH can be resolved. Then there exists a factorization MATH with MATH of finite presentation such that MATH.  
LEMMA	  Let MATH be as in Situation REF. Let MATH. Assume <CASES> CASE: MATH is minimal over MATH, CASE: MATH can be resolved, and CASE: MATH. </CASES> Then MATH can be resolved.  
LEMMA	[Ogoma]  Let MATH be a Noetherian ring and let MATH be a finite MATH-module. Let MATH be a multiplicative set. If MATH and MATH then there exists an MATH such that for any MATH we have MATH.  
LEMMA	  Let MATH be a Noetherian ring. Let MATH be an ideal. Let MATH be a prime. Let MATH be positive integers Assume that MATH and that MATH is a regular local ring of dimension MATH. Then there exists an MATH and MATH such that <CASES> CASE: MATH, CASE: MATH, and CASE: for MATH we have MATH </CASES>  
LEMMA	  Let MATH be as in Situation REF where <CASES> CASE: MATH is a field, CASE: MATH is Noetherian, CASE: MATH is minimal over MATH, CASE: MATH is a regular local ring, and CASE: the field extension MATH is separable. </CASES> Then MATH can be resolved.  
LEMMA	  Let MATH be a field of characteristic MATH. Let MATH be an Artinian local MATH-algebra. Assume that MATH. Then MATH is a filtered colimit of Artinian local MATH-algebras MATH with each map MATH flat, with MATH, and with MATH essentially of finite type over MATH.  
LEMMA	  Let MATH be a field of characteristic MATH. Let MATH be a Noetherian geometrically regular MATH-algebra. Let MATH be a prime ideal. Let MATH be an integer and let MATH be a finite subset. Then we can find MATH and MATH with the following properties <CASES> CASE: setting MATH we have MATH and MATH is flat, CASE: there is a factorization by homomorphisms of local Artinian rings MATH where the first arrow is essentially smooth and the second is flat, CASE: MATH is contained in MATH modulo MATH. </CASES>  
LEMMA	  Let MATH, MATH, MATH, MATH and MATH be as in Lemma REF. Then for any MATH there exists an integer MATH and a factorization MATH such that MATH is an essentially smooth map of local Artinian rings, the last arrow is flat, and MATH is in MATH.  
LEMMA	  Let MATH be as in Situation REF where <CASES> CASE: MATH is a field of characteristic MATH, CASE: MATH is Noetherian and geometrically regular over MATH, CASE: MATH is minimal over MATH. </CASES> Then MATH can be resolved.  
THEOM	[Popescu]  Any regular homomorphism of Noetherian rings is a filtered colimit of smooth ring maps.  
THEOM	  Let MATH be a Noetherian local ring. Let MATH. Suppose that MATH is a solution in MATH. If MATH is a henselian G-ring, then for every integer MATH there exists a solution MATH in MATH such that MATH.  
THEOM	  Let MATH be a Noetherian local ring. Let MATH. Suppose that MATH is a solution. If MATH is a G-ring, then for every integer MATH there exist <CASES> CASE: an etale ring map MATH, CASE: a maximal ideal MATH lying over MATH CASE: a solution MATH in MATH </CASES> such that MATH and MATH.  
LEMMA	  Let MATH be a Noetherian ring. Let MATH be a prime ideal. Let MATH. Suppose that MATH is a solution. If MATH is a G-ring, then for every integer MATH there exist <CASES> CASE: an etale ring map MATH, CASE: a prime ideal MATH lying over MATH CASE: a solution MATH in MATH </CASES> such that MATH and MATH.  
LEMMA	  [ Approximation for henselian pairs. ] Let MATH be a henselian pair with MATH Noetherian. Let MATH be the MATH-adic completion of MATH. Assume at least one of the following conditions holds <CASES> CASE: MATH is a regular ring map, CASE: MATH is a Noetherian G-ring, or CASE: MATH is the henselization (More on Algebra, Lemma REF) of a pair MATH where MATH is a Noetherian G-ring. </CASES> Given MATH and MATH such that MATH for MATH, for every MATH there exist MATH such that MATH and such that MATH for MATH.  
