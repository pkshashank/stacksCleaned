DEFNN	  Thickenings. <CASES> CASE: We say a scheme MATH is a thickening of a scheme MATH if MATH is a closed subscheme of MATH and the underlying topological spaces are equal. CASE: We say a scheme MATH is a first order thickening of a scheme MATH if MATH is a closed subscheme of MATH and the quasi-coherent sheaf of ideals MATH defining MATH has square zero. CASE: Given two thickenings MATH and MATH a morphism of thickenings is a morphism MATH such that MATH, i.e., such that MATH factors through the closed subscheme MATH. In this situation we set MATH and we say that MATH is a morphism of thickenings. CASE: Let MATH be a scheme. We similarly define thickenings over MATH, and morphisms of thickenings over MATH. This means that the schemes MATH above are schemes over MATH, and that the morphisms MATH, MATH and MATH are morphisms over MATH. </CASES>  
LEMMA	  Let MATH be a scheme over a base MATH. Consider a short exact sequence MATH of sheaves on MATH where MATH is a sheaf of MATH-algebras, MATH is a surjection of sheaves of MATH-algebras, and MATH is its kernel. If <CASES> CASE: MATH is an ideal of square zero in MATH, and CASE: MATH is quasi-coherent as an MATH-module </CASES> then MATH is a scheme and MATH is a first order thickening over MATH. Moreover, any first order thickening over MATH is of this form.  
LEMMA	  [ Affineness is insensitive to thickenings ] REF Any thickening of an affine scheme is affine.  
LEMMA	  Let MATH be a thickening of schemes. Let MATH be a morphism and set MATH. Then MATH is a morphism of thickenings. If MATH is a first (resp.\ finite order) thickening, then MATH is a first (resp.\ finite order) thickening.  
LEMMA	  [ Compositions of thickenings are thickenings ] If MATH and MATH are thickenings, then so is MATH.  
LEMMA	  The property of being a thickening is fpqc local. Similarly for first order thickenings.  
LEMMA	  Let MATH be a morphism of thickenings. Then <CASES> CASE: MATH is an affine morphism if and only if MATH is an affine morphism, CASE: MATH is a surjective morphism if and only if MATH is a surjective morphism, CASE: MATH is quasi-compact if and only if MATH quasi-compact, CASE: MATH is universally closed if and only if MATH is universally closed, CASE: MATH is integral if and only if MATH is integral, CASE: MATH is (quasi-)separated if and only if MATH is (quasi-)separated, CASE: MATH is universally injective if and only if MATH is universally injective, CASE: MATH is universally open if and only if MATH is universally open, CASE: MATH is quasi-affine if and only if MATH is quasi-affine, and CASE: add more here. </CASES>  
LEMMA	  Let MATH be a morphism of thickenings. Let MATH be an invertible sheaf on MATH and denote MATH the restriction to MATH. Then MATH is MATH-ample if and only if MATH is MATH-ample.  
LEMMA	  Let MATH be a morphism of thickenings such that MATH. If MATH is a finite order thickening, then <CASES> CASE: MATH is a closed immersion if and only if MATH is a closed immersion, CASE: MATH is locally of finite type if and only if MATH is locally of finite type, CASE: MATH is locally quasi-finite if and only if MATH is locally quasi-finite, CASE: MATH is locally of finite type of relative dimension MATH if and only if MATH is locally of finite type of relative dimension MATH, CASE: MATH if and only if MATH, CASE: MATH is unramified if and only if MATH is unramified, CASE: MATH is proper if and only if MATH is proper, CASE: MATH is finite if and only if MATH is finite, CASE: MATH is a monomorphism if and only if MATH is a monomorphism, CASE: MATH is an immersion if and only if MATH is an immersion, and CASE: add more here. </CASES>  
LEMMA	  Let MATH be a morphism of thickenings. Assume MATH and MATH are locally of finite type and MATH. Then <CASES> CASE: MATH is locally quasi-finite if and only if MATH is locally quasi-finite, CASE: MATH is finite if and only if MATH is finite, CASE: MATH is a closed immersion if and only if MATH is a closed immersion, CASE: MATH if and only if MATH, CASE: MATH is unramified if and only if MATH is unramified, CASE: MATH is a monomorphism if and only if MATH is a monomorphism, CASE: MATH is an immersion if and only if MATH is an immersion, CASE: MATH is proper if and only if MATH is proper, and CASE: add more here. </CASES>  
LEMMA	  Let MATH be a first order thickening with ideal sheaf MATH. Then there is a canonical exact sequence MATH of abelian groups.  
LEMMA	  Let MATH be a thickening. Let MATH be an integer invertible in MATH. Then the map MATH is bijective.  
DEFNN	  Let MATH be an immersion of schemes. The first order infinitesimal neighbourhood of MATH in MATH is the first order thickening MATH over MATH described above.  
LEMMA	  Let MATH be an immersion of schemes. The first order infinitesimal neighbourhood MATH of MATH in MATH has the following universal property: Given any commutative diagram MATH where MATH is a first order thickening over MATH, there exists a unique morphism MATH of thickenings over MATH.  
LEMMA	  Let MATH be an immersion of schemes. Let MATH be the first order infinitesimal neighbourhood of MATH in MATH. Then the diagram MATH induces a map of conormal sheaves MATH by Morphisms, Lemma REF. This map is an isomorphism.  
DEFNN	  Let MATH be a morphism of schemes. We say MATH is formally unramified if given any solid commutative diagram MATH where MATH is a first order thickening of affine schemes over MATH there exists at most one dotted arrow making the diagram commute.  
LEMMA	  If MATH is a formally unramified morphism, then given any solid commutative diagram MATH where MATH is a first order thickening of schemes over MATH there exists at most one dotted arrow making the diagram commute. In other words, in Definition REF the condition that MATH be affine may be dropped.  
LEMMA	  A composition of formally unramified morphisms is formally unramified.  
LEMMA	  A base change of a formally unramified morphism is formally unramified.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH and MATH be open such that MATH. If MATH is formally unramified, so is MATH.  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH and MATH are affine. Then MATH is formally unramified if and only if MATH is a formally unramified ring map.  
LEMMA	  Let MATH be a morphism of schemes. Then MATH is formally unramified if and only if MATH.  
LEMMA	  [ Unramified morphisms are the same as formally unramified morphism that are locally of finite type. ] Let MATH be a morphism of schemes. The following are equivalent: <CASES> CASE: The morphism MATH is unramified (resp.\ G-unramified), and CASE: the morphism MATH is locally of finite type (resp.\ locally of finite presentation) and formally unramified. </CASES>  
LEMMA	  Let MATH be a formally unramified morphism of schemes. There exists a universal first order thickening MATH of MATH over MATH.  
DEFNN	  Let MATH be a formally unramified morphism of schemes. <CASES> CASE: The universal first order thickening of MATH over MATH is the thickening MATH constructed in Lemma REF. CASE: The conormal sheaf of MATH over MATH is the conormal sheaf of MATH in its universal first order thickening MATH over MATH. </CASES> We often denote the conormal sheaf MATH in this situation.  
LEMMA	  Let MATH be an immersion of schemes. Then <CASES> CASE: MATH is formally unramified, CASE: the universal first order thickening of MATH over MATH is the first order infinitesimal neighbourhood of MATH in MATH of Definition REF, and CASE: the conormal sheaf of MATH in the sense of Morphisms, Definition REF agrees with the conormal sheaf of MATH in the sense of Definition REF. </CASES>  
LEMMA	  Let MATH be a formally unramified morphism of schemes. Then the universal first order thickening MATH is formally unramified over MATH.  
LEMMA	  Consider a commutative diagram of schemes MATH with MATH and MATH formally unramified. Let MATH be the universal first order thickening of MATH over MATH. Let MATH be the universal first order thickening of MATH over MATH. There exists a canonical morphism MATH of thickenings over MATH which fits into the following commutative diagram MATH In particular the morphism MATH of thickenings induces a morphism of conormal sheaves MATH.  
LEMMA	  Let MATH be a fibre product diagram in the category of schemes with MATH formally unramified. Then MATH is formally unramified and if MATH is the universal first order thickening of MATH over MATH, then MATH is the universal first order thickening of MATH over MATH. In particular the canonical map MATH of Lemma REF is surjective.  
LEMMA	  Let MATH be a fibre product diagram in the category of schemes with MATH formally unramified and MATH flat. In this case the corresponding map MATH of universal first order thickenings is flat, and MATH is an isomorphism.  
LEMMA	  Taking the universal first order thickenings commutes with taking opens. More precisely, let MATH be a formally unramified morphism of schemes. Let MATH, MATH be opens such that MATH. Let MATH be the universal first order thickening of MATH over MATH. Then MATH is formally unramified and the universal first order thickening of MATH over MATH is the open subscheme MATH such that MATH. In particular, MATH.  
LEMMA	  Let MATH be a formally unramified morphism of schemes over MATH. Let MATH be the universal first order thickening of MATH over MATH with structure morphism MATH. The canonical map MATH induces an isomorphism MATH.  
LEMMA	  Let MATH be a formally unramified morphism of schemes over MATH. There is a canonical exact sequence MATH The first arrow is induced by MATH where MATH is the universal first order neighbourhood of MATH over MATH.  
LEMMA	  Let MATH be a commutative diagram of schemes where MATH and MATH are formally unramified. Then there is a canonical exact sequence MATH where the first arrow comes from Lemma REF and the second from Lemma REF.  
LEMMA	  Let MATH be formally unramified morphisms of schemes. <CASES> CASE: If MATH is the universal first order thickening of MATH over MATH and MATH is the universal first order thickening of MATH over MATH, then there is a morphism MATH and MATH is the universal first order thickening of MATH over MATH. CASE: There is a canonical exact sequence MATH where the maps come from Lemma REF and MATH is the first morphism. </CASES>  
DEFNN	  Let MATH be a morphism of schemes. We say MATH is formally etale if given any solid commutative diagram MATH where MATH is a first order thickening of affine schemes over MATH there exists exactly one dotted arrow making the diagram commute.  
LEMMA	  If MATH is a formally etale morphism, then given any solid commutative diagram MATH where MATH is a first order thickening of schemes over MATH there exists exactly one dotted arrow making the diagram commute. In other words, in Definition REF the condition that MATH be affine may be dropped.  
LEMMA	  A composition of formally etale morphisms is formally etale.  
LEMMA	  A base change of a formally etale morphism is formally etale.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH and MATH be open subschemes such that MATH. If MATH is formally etale, so is MATH.  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent: <CASES> CASE: MATH is formally etale, CASE: MATH is formally unramified and the universal first order thickening of MATH over MATH is equal to MATH, CASE: MATH is formally unramified and MATH, and CASE: MATH and MATH. </CASES>  
LEMMA	  An unramified flat morphism is formally etale.  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH and MATH are affine. Then MATH is formally etale if and only if MATH is a formally etale ring map.  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent: <CASES> CASE: The morphism MATH is etale, and CASE: the morphism MATH is locally of finite presentation and formally etale. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH and MATH be two first order thickenings over MATH. Let MATH be two morphisms of thickenings over MATH. Assume that <CASES> CASE: MATH, and CASE: the two maps MATH (Morphisms, Lemma REF) are equal. </CASES> Then the map MATH factors as MATH where MATH is an MATH-derivation.  
LEMMA	  Let MATH be a scheme. Let MATH be a morphism of first order thickenings over MATH. Let MATH be an MATH-linear map. Then there exists a unique morphism of pairs MATH such that (1) and (2) of Lemma REF hold and the derivation MATH and MATH are related by Equation (REF).  
LEMMA	  Let MATH be a scheme. Let MATH and MATH be first order thickenings over MATH. Assume given a morphism MATH and a map MATH of MATH-modules. For an open subscheme MATH consider morphisms MATH such that <CASES> CASE: MATH is a morphism over MATH, CASE: MATH, and CASE: the induced map MATH is the restriction of MATH to MATH. </CASES> Here MATH. Then the rule MATH defines a sheaf of sets on MATH.  
LEMMA	  Same notation and assumptions as in Lemma REF. There is an action of the sheaf MATH on the sheaf (REF). Moreover, the action is simply transitive for any open MATH over which the sheaf (REF) has a section.  
LEMMA	  Let MATH be a scheme. Let MATH be a first order thickening over MATH. Let MATH be a scheme over MATH. Let MATH be two morphisms over MATH with MATH. This gives rise to a commutative diagram MATH Since the horizontal arrows are immersions with conormal sheaves MATH and MATH, by Morphisms, Lemma REF, we obtain a map MATH. Then this MATH and the derivation MATH of Lemma REF are related by Equation (REF).  
LEMMA	  Let MATH be a commutative diagram of schemes with MATH and MATH etale. Then the map MATH of Morphisms, Lemma REF is an isomorphism.  
LEMMA	  Consider a commutative diagram of first order thickenings MATH with MATH and MATH etale. For any MATH-linear map MATH let MATH be the composition MATH (equality sign is explained in the proof). Then the diagram MATH commutes where the actions MATH and MATH are as in Remark REF.  
LEMMA	  Let MATH be a morphism of first order thickenings. Assume that MATH is flat. Then the following are equivalent <CASES> CASE: MATH is flat and MATH, and CASE: the canonical map MATH is an isomorphism. </CASES>  
LEMMA	  Consider a commutative diagram MATH of thickenings. Assume <CASES> CASE: MATH is flat over MATH, CASE: MATH is flat, CASE: MATH is a finite order thickening, and CASE: MATH and MATH. </CASES> Then MATH is flat and MATH is flat over MATH at all points in the image of MATH.  
LEMMA	  Consider a commutative diagram MATH of thickenings. Assume MATH is a finite order thickening, MATH flat over MATH, MATH, and MATH. Then <CASES> CASE: MATH is flat if and only if MATH is flat,  CASE: MATH is an isomorphism if and only if MATH is an isomorphism,  CASE: MATH is an open immersion if and only if MATH is an open immersion,  CASE: MATH is quasi-compact if and only if MATH is quasi-compact,  CASE: MATH is universally closed if and only if MATH is universally closed,  CASE: MATH is (quasi-)separated if and only if MATH is (quasi-)separated,  CASE: MATH is a monomorphism if and only if MATH is a monomorphism,  CASE: MATH is surjective if and only if MATH is surjective,  CASE: MATH is universally injective if and only if MATH is universally injective,  CASE: MATH is affine if and only if MATH is affine,  CASE:  MATH is locally of finite type if and only if MATH is locally of finite type, CASE: MATH is locally quasi-finite if and only if MATH is locally quasi-finite,  CASE:  MATH is locally of finite presentation if and only if MATH is locally of finite presentation, CASE:  MATH is locally of finite type of relative dimension MATH if and only if MATH is locally of finite type of relative dimension MATH, CASE: MATH is universally open if and only if MATH is universally open,  CASE: MATH is syntomic if and only if MATH is syntomic,  CASE: MATH is smooth if and only if MATH is smooth,  CASE: MATH is unramified if and only if MATH is unramified,  CASE: MATH is etale if and only if MATH is etale,  CASE: MATH is proper if and only if MATH is proper,  CASE: MATH is integral if and only if MATH is integral,  CASE: MATH is finite if and only if MATH is finite,  CASE:  MATH is finite locally free (of rank MATH) if and only if MATH is finite locally free (of rank MATH), and CASE: add more here. </CASES>  
LEMMA	  Consider a commutative diagram MATH of thickenings. Assume <CASES> CASE: MATH is locally of finite type, CASE: MATH is flat and locally of finite presentation, CASE: MATH is flat, and CASE: MATH and MATH. </CASES> Then MATH is flat and for all MATH in the image of MATH the local ring MATH is flat and essentially of finite presentation over MATH.  
LEMMA	  Consider a commutative diagram MATH of thickenings. Assume MATH locally of finite type, MATH flat and locally of finite presentation, MATH, and MATH. Then <CASES> CASE: MATH is flat if and only if MATH is flat,  CASE: MATH is an isomorphism if and only if MATH is an isomorphism,  CASE: MATH is an open immersion if and only if MATH is an open immersion,  CASE: MATH is quasi-compact if and only if MATH is quasi-compact,  CASE: MATH is universally closed if and only if MATH is universally closed,  CASE: MATH is (quasi-)separated if and only if MATH is (quasi-)separated,  CASE: MATH is a monomorphism if and only if MATH is a monomorphism,  CASE: MATH is surjective if and only if MATH is surjective,  CASE: MATH is universally injective if and only if MATH is universally injective,  CASE: MATH is affine if and only if MATH is affine,  CASE: MATH is locally quasi-finite if and only if MATH is locally quasi-finite,  CASE:  MATH is locally of finite type of relative dimension MATH if and only if MATH is locally of finite type of relative dimension MATH, CASE: MATH is universally open if and only if MATH is universally open,  CASE: MATH is syntomic if and only if MATH is syntomic,  CASE: MATH is smooth if and only if MATH is smooth,  CASE: MATH is unramified if and only if MATH is unramified,  CASE: MATH is etale if and only if MATH is etale,  CASE: MATH is proper if and only if MATH is proper,  CASE: MATH is finite if and only if MATH is finite,  CASE:  MATH is finite locally free (of rank MATH) if and only if MATH is finite locally free (of rank MATH), and CASE: add more here. </CASES>  
LEMMA	[Deformations of projective schemes]  Let MATH be a morphism of schemes which is proper, flat, and of finite presentation. Let MATH be MATH-ample. Assume MATH is quasi-compact. There exists a MATH such that for every cartesian diagram MATH where MATH is a thickening and MATH is proper, flat, of finite presentation we have <CASES> CASE: MATH for all MATH and MATH, CASE: MATH is finite locally free for MATH, CASE: MATH is a quasi-coherent MATH-algebra of finite presentation, CASE: there is a canonical isomorphism MATH, and CASE: there is a canonical isomorphism MATH. </CASES> The construction of MATH, MATH, MATH is functorial in the data MATH.  
DEFNN	  Let MATH be a morphism of schemes. We say MATH is formally smooth if given any solid commutative diagram MATH where MATH is a first order thickening of affine schemes over MATH there exists a dotted arrow making the diagram commute.  
LEMMA	  A composition of formally smooth morphisms is formally smooth.  
LEMMA	  A base change of a formally smooth morphism is formally smooth.  
LEMMA	  Let MATH be a morphism of schemes. Then MATH is formally etale if and only if MATH is formally smooth and formally unramified.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH and MATH be open subschemes such that MATH. If MATH is formally smooth, so is MATH.  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH and MATH are affine. Then MATH is formally smooth if and only if MATH is a formally smooth ring map.  
LEMMA	[Infinitesimal lifting criterion]  Let MATH be a morphism of schemes. The following are equivalent: <CASES> CASE: The morphism MATH is smooth, and CASE: the morphism MATH is locally of finite presentation and formally smooth. </CASES>  
LEMMA	  Let MATH be a formally smooth morphism of schemes. Then MATH is locally projective on MATH.  
LEMMA	  Let MATH be an affine scheme. Let MATH, MATH be quasi-coherent MATH-modules. Consider MATH. If MATH is locally projective, then MATH.  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent: <CASES> CASE: MATH is formally smooth, CASE: for every MATH there exist opens MATH and MATH with MATH such that MATH is formally smooth, CASE: for every pair of affine opens MATH and MATH with MATH the ring map MATH is formally smooth, and CASE: there exists an affine open covering MATH and for each MATH an affine open covering MATH such that MATH is a formally smooth ring map for all MATH and MATH. </CASES>  
LEMMA	  Let MATH, MATH be morphisms of schemes. Assume MATH is formally smooth. Then MATH (see Morphisms, Lemma REF) is short exact.  
LEMMA	  Let MATH be a formally unramified morphism of schemes over MATH. Assume that MATH is formally smooth over MATH. Then the canonical exact sequence MATH of Lemma REF is short exact.  
LEMMA	  Let MATH be a commutative diagram of schemes where MATH and MATH are formally unramified and MATH is formally smooth. Then the canonical exact sequence MATH of Lemma REF is exact and locally split.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH. Assume that MATH is locally Noetherian and MATH locally of finite type. The following are equivalent: <CASES> CASE: MATH is smooth at MATH, CASE: for every solid commutative diagram MATH where MATH is a surjection of local rings with MATH of square zero, and MATH mapping the closed point of MATH to MATH there exists a dotted arrow making the diagram commute, CASE: same as in (2) but with MATH ranging over small extensions (see Algebra, Definition REF), and CASE: same as in (2) but with MATH ranging over small extensions such that MATH induces an isomorphism MATH where MATH is the maximal ideal. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Assume that MATH is locally Noetherian and MATH locally of finite type. The following are equivalent: <CASES> CASE: MATH is smooth, CASE: for every solid commutative diagram MATH where MATH is a small extension of Artinian local rings and MATH of finite type (!) there exists a dotted arrow making the diagram commute. </CASES>  
LEMMA	  Let MATH be a finite type morphism of locally Noetherian schemes. Let MATH be a closed subscheme with MATHth infinitesimal neighbourhood MATH. Set MATH. <CASES> CASE: If MATH is smooth for all MATH, then MATH is smooth at every point of MATH. CASE: If MATH is etale for all MATH, then MATH is etale at every point of MATH. </CASES>  
LEMMA	  Let MATH be a morphism of locally Noetherian schemes. Let MATH be a closed subscheme with MATHth infinitesimal neighbourhood MATH. Set MATH. If MATH is flat for all MATH, then MATH is flat at every point of MATH.  
DEFNN	  Let MATH be a morphism of schemes. The naive cotangent complex of MATH is the complex defined in Modules, Definition REF. Notation: MATH or MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH and MATH be affine opens with MATH. There is a canonical map MATH of complexes which is an isomorphism in MATH.  
LEMMA	  Let MATH be a morphism of schemes. The cohomology sheaves of the complex MATH are quasi-coherent, zero outside degrees MATH, MATH and equal to MATH in degree MATH.  
LEMMA	  Let MATH be a morphism of schemes. If MATH is locally of finite presentation, then MATH is locally on MATH quasi-isomorphic to a complex MATH of quasi-coherent MATH-modules with MATH of finite presentation and MATH of finite type.  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is formally smooth, CASE: MATH and MATH is locally projective. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is formally etale, CASE: MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is smooth, and CASE: MATH is locally of finite presentation, MATH, and MATH is finite locally free. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is etale, and CASE: MATH is locally of finite presentation and MATH. </CASES>  
LEMMA	  Let MATH be an immersion of schemes. Then MATH is isomorphic to MATH in MATH where MATH is the conormal sheaf of MATH in MATH.  
LEMMA	  Let MATH and MATH be morphisms of schemes. There is a canonical six term exact sequence MATH of cohomology sheaves.  
LEMMA	  Let MATH and MATH be morphisms of schemes. Assume MATH is a complete intersection morphism. Then there is a canonical distinguished triangle MATH in MATH which recovers the MATH-term exact sequence of Lemma REF.  
LEMMA	  Let MATH be morphisms of schemes. Assume MATH smooth and MATH etale. Then MATH is smooth.  
LEMMA	  Let MATH be a morphism of schemes which factors as MATH with MATH an immersion and MATH formally smooth (for example smooth). Then there is a canonical isomorphism MATH in MATH where the conormal sheaf MATH is placed in degree MATH.  
LEMMA	  Consider a cartesian diagram of schemes MATH The canonical map MATH induces an isomorphism on MATH and a surjection on MATH.  
LEMMA	  Consider a cartesian diagram of schemes MATH If MATH is flat, then the canonical map MATH is a quasi-isomorphism.  
LEMMA	  Consider a cartesian diagram of schemes MATH If MATH is flat, then the canonical map MATH is a quasi-isomorphism. If in addition MATH has tor-amplitude in MATH then MATH is a quasi-isomorphism too.  
LEMMA	  Let MATH be a surjection of rings and let MATH be a ring map. Let MATH be the fibre product of rings. Set MATH, MATH, MATH, and MATH. Then MATH is a pushout of schemes.  
LEMMA	  Let MATH, MATH be a diagram of schemes. Let MATH be a cocone for the diagram in the category of schemes (Categories, Remark REF). If there exists a fpqc covering MATH of schemes such that <CASES> CASE: for all MATH we have MATH in the category of schemes, and CASE: for all MATH we have MATH in the category of schemes, </CASES> then MATH in the category of schemes.  
LEMMA	  Let MATH be a thickening of schemes and let MATH be an affine morphism of schemes. Then there exists a pushout MATH in the category of schemes. Moreover, MATH is a thickening, MATH, and MATH as sheaves on MATH.  
LEMMA	  Let MATH be a thickening of schemes and let MATH be an affine morphism of schemes. Let MATH be the pushout (see Lemma REF). Base change gives a functor MATH given by MATH which has a left adjoint MATH which sends the triple MATH to the pushout MATH. Finally, MATH is isomorphic to the identity functor.  
LEMMA	  Let MATH be a thickening of schemes and let MATH be an affine morphism of schemes. Let MATH be the pushout (see Lemma REF). Let MATH be a morphism of schemes. Set MATH, MATH, and MATH. There is an equivalence of categories between <CASES> CASE: quasi-coherent MATH-modules flat over MATH, and CASE: the category of triples MATH where <CASES> CASE: MATH is a quasi-coherent MATH-module flat over MATH, CASE: MATH is a quasi-coherent MATH-module flat over MATH, and CASE: MATH is an isomorphism of MATH-modules. </CASES> </CASES> The equivalence maps MATH to MATH. Suppose MATH corresponds to the triple MATH. Then <CASES> CASE: MATH is a finite type MATH-module if and only if MATH and MATH are finite type MATH and MATH-modules. CASE: if MATH is locally of finite presentation, then MATH is an MATH-module of finite presentation if and only if MATH and MATH are MATH and MATH-modules of finite presentation. </CASES>  
LEMMA	  In the situation of Lemma REF. If MATH for some triple MATH, then <CASES> CASE: MATH is locally of finite type if and only if MATH and MATH are locally of finite type, CASE: MATH is flat if and only if MATH and MATH are flat, CASE: MATH is flat and locally of finite presentation if and only if MATH and MATH are flat and locally of finite presentation, CASE: MATH is smooth if and only if MATH and MATH are smooth, CASE: MATH is etale if and only if MATH and MATH are etale, and CASE: add more here as needed. </CASES> If MATH is flat over MATH, then the adjunction mapping MATH is an isomorphism. Hence MATH and MATH define mutually quasi-inverse functors between the category of schemes flat over MATH and the category of triples MATH with MATH and MATH flat.  
THEOM	  REF Let MATH be a scheme. Let MATH be a morphism which is locally of finite presentation. Let MATH be a quasi-coherent MATH-module which is locally of finite presentation. Then MATH is open in MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a cartesian diagram of schemes. Let MATH be a quasi-coherent MATH-module. Let MATH with images MATH and MATH. <CASES> CASE: If MATH is flat over MATH at MATH, then MATH is flat over MATH at MATH. CASE: If MATH is flat at MATH and MATH is flat over MATH at MATH, then MATH is flat over MATH at MATH. </CASES> In particular, if MATH is flat, MATH is locally of finite presentation, and MATH is locally of finite presentation, then formation of the open subset of Theorem REF commutes with base change.  
THEOM	  Let MATH be a scheme. Let MATH be a morphism of schemes over MATH. Let MATH be a quasi-coherent MATH-module. Let MATH. Set MATH and MATH the image of MATH in MATH. Assume MATH, MATH, MATH locally Noetherian, MATH coherent, and MATH. Then the following are equivalent: <CASES> CASE: MATH is flat over MATH at MATH, and MATH is flat over MATH at MATH, and CASE: MATH is flat over MATH at MATH and MATH is flat over MATH at MATH. </CASES>  
THEOM	  Let MATH be a scheme. Let MATH be a morphism of schemes over MATH. Let MATH be a quasi-coherent MATH-module. Assume <CASES> CASE: MATH is locally of finite presentation over MATH, CASE: MATH an MATH-module of finite presentation, and CASE: MATH is locally of finite type over MATH. </CASES> Let MATH. Set MATH and let MATH be the image of MATH in MATH. If MATH, then the following are equivalent: <CASES> CASE: MATH is flat over MATH at MATH, and MATH is flat over MATH at MATH, and CASE: MATH is flat over MATH at MATH and MATH is flat over MATH at MATH. </CASES> Moreover, the set of points MATH where (1) and (2) hold is open in MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a morphism of schemes over MATH. Assume <CASES> CASE: MATH, MATH, MATH are locally Noetherian, CASE: MATH is flat over MATH, CASE: for every MATH the morphism MATH is flat. </CASES> Then MATH is flat. If MATH is also surjective, then MATH is flat over MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a morphism of schemes over MATH. Assume <CASES> CASE: MATH is locally of finite presentation over MATH, CASE: MATH is flat over MATH, CASE: for every MATH the morphism MATH is flat, and CASE: MATH is locally of finite type over MATH. </CASES> Then MATH is flat. If MATH is also surjective, then MATH is flat over MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a morphism of schemes over MATH. Let MATH be a quasi-coherent MATH-module. Assume <CASES> CASE: MATH is locally of finite presentation over MATH, CASE: MATH an MATH-module of finite presentation, CASE: MATH is flat over MATH, and CASE: MATH is locally of finite type over MATH. </CASES> Then the set MATH is open in MATH and its formation commutes with arbitrary base change: If MATH is a morphism of schemes, and MATH is the set of points of MATH where MATH is flat over MATH, then MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a morphism of schemes over MATH. Assume <CASES> CASE: MATH is locally of finite presentation over MATH, CASE: MATH is flat over MATH, and CASE: MATH is locally of finite type over MATH. </CASES> Then the set MATH is open in MATH and its formation commutes with arbitrary base change.  
LEMMA	  Let MATH be a morphism of schemes of finite presentation. Let MATH be a finitely presented MATH-module. Let MATH with image MATH. If MATH is flat at MATH over MATH and MATH is a flat MATH-module, then MATH is finite free in a neighbourhood of MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite presentation. Let MATH be a finitely presented MATH-module flat over MATH. Then the set MATH is open in MATH and its formation commutes with arbitrary base change MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a closed immersion of schemes smooth over MATH. For every MATH there exist integers MATH and a commutative diagram MATH where MATH is open, MATH, MATH is etale, MATH, and MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a closed immersion of schemes smooth over MATH. Let MATH be the blowing up of MATH with exceptional divisor MATH. Then MATH and MATH are smooth over MATH. The morphism MATH is canonically isomorphic to the projective space bundle MATH where MATH is the ideal sheaf of MATH. The relative MATH coming from the projective space bundle structure is isomorphic to the restriction of MATH to MATH.  
LEMMA	  Let MATH be a valuation ring. Let MATH is a local homomorphism of local rings which is essentially of finite type. Let MATH be a map of finite MATH-modules. Assume MATH is flat over MATH and MATH is injective. Then MATH is injective and MATH is flat over MATH.  
LEMMA	  REF Let MATH be a morphism of schemes. Let MATH be a point with image MATH. Denote MATH the closure of MATH viewed as an integral closed subscheme of MATH. Let MATH and let MATH be a generic point of an irreducible component of MATH. There exists a cartesian diagram MATH with the following properties: <CASES> CASE: MATH is the spectrum of a valuation ring with generic point MATH and closed point MATH, CASE: MATH and MATH, CASE: there exists a point MATH which is a generic point of an irreducible component of MATH and satisfies MATH, CASE: denoting MATH the closure of MATH viewed as an integral closed subscheme of MATH there exists a point MATH which is a generic point of an irreducible component of MATH with MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be a quasi-coherent finite type MATH-module. Let MATH with image MATH. Denote MATH the closure of MATH in MATH viewed as an integral closed subscheme. Let MATH and let MATH be a generic point of an irreducible component of MATH. If MATH is flat over MATH at MATH, then MATH and MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be a finite type, quasi-coherent MATH-module flat over MATH. Assume MATH is irreducible with generic point MATH. If MATH then for all MATH we have MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be a quasi-coherent MATH-module of finite type. Let MATH. Denote MATH the closure of MATH in MATH viewed as an integral closed subscheme. Denote MATH the closure of MATH viewed as an integral closed subscheme. We obtain a commutative diagram MATH where MATH is dominant. Assume MATH is flat over MATH at all generic points of irreducible components of fibres of MATH (for example if MATH is flat over MATH). Then <CASES> CASE: if MATH and MATH is the generic point of an irreducible component of MATH, then MATH, and CASE: there is an integer MATH such that MATH is of relative dimension MATH, see Morphisms, Definition REF. </CASES>  
LEMMA	  Let MATH be a smooth morphism of schemes. Let MATH be a quasi-coherent sheaf of MATH-algebras. The integral closure of MATH in MATH is equal to MATH where MATH is the integral closure of MATH in MATH.  
LEMMA	[Normalization commutes with smooth base change]  Let MATH be a fibre square in the category of schemes. Assume MATH is quasi-compact and quasi-separated, and MATH is smooth. Let MATH be the normalization of MATH in MATH. Then MATH.  
LEMMA	[Normalization and smooth morphisms]  Let MATH be a smooth morphism of schemes. Assume every quasi-compact open of MATH has finitely many irreducible components. Then the same is true for MATH and there is a unique isomorphism MATH over MATH where MATH, MATH are the normalizations of MATH, MATH.  
LEMMA	[Normalization and henselization]  Let MATH be a locally Noetherian scheme. Let MATH be the normalization morphism. Then for any point MATH the base change MATH is the normalization of MATH, resp.\ MATH.  
DEFNN	  Let MATH be a morphism of schemes. Assume that all the fibres MATH are locally Noetherian schemes. <CASES> CASE: Let MATH, and MATH. We say that MATH is normal at MATH if MATH is flat at MATH, and the scheme MATH is geometrically normal at MATH over MATH (see Varieties, Definition REF). CASE: We say MATH is a normal morphism if MATH is normal at every point of MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Assume all fibres of MATH are locally Noetherian. The following are equivalent <CASES> CASE: MATH is normal, and CASE: MATH is flat and its fibres are geometrically normal schemes. </CASES>  
LEMMA	  A smooth morphism is normal.  
LEMMA	  The property MATH``the fibres of MATH are locally Noetherian'' is local in the fppf topology on the source and the target.  
LEMMA	  The property MATH``the fibres of MATH are locally Noetherian and MATH is normal'' is local in the fppf topology on the target and local in the smooth topology on the source.  
DEFNN	  Let MATH be a morphism of schemes. Assume that all the fibres MATH are locally Noetherian schemes. <CASES> CASE: Let MATH, and MATH. We say that MATH is regular at MATH if MATH is flat at MATH, and the scheme MATH is geometrically regular at MATH over MATH (see Varieties, Definition REF). CASE: We say MATH is a regular morphism if MATH is regular at every point of MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Assume all fibres of MATH are locally Noetherian. The following are equivalent <CASES> CASE: MATH is regular, CASE: MATH is flat and its fibres are geometrically regular schemes, CASE: for every pair of affine opens MATH, MATH with MATH the ring map MATH is regular, CASE: there exists an open covering MATH and open coverings MATH such that each of the morphisms MATH is regular, and CASE: there exists an affine open covering MATH and affine open coverings MATH such that the ring maps MATH are regular. </CASES>  
LEMMA	  A smooth morphism is regular.  
LEMMA	  The property MATH``the fibres of MATH are locally Noetherian and MATH is regular'' is local in the fppf topology on the target and local in the smooth topology on the source.  
DEFNN	  Let MATH be a morphism of schemes. Assume that all the fibres MATH are locally Noetherian schemes. <CASES> CASE: Let MATH, and MATH. We say that MATH is Cohen-Macaulay at MATH if MATH is flat at MATH, and the local ring of the scheme MATH at MATH is Cohen-Macaulay. CASE: We say MATH is a Cohen-Macaulay morphism if MATH is Cohen-Macaulay at every point of MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Assume all fibres of MATH are locally Noetherian. The following are equivalent <CASES> CASE: MATH is Cohen-Macaulay, and CASE: MATH is flat and its fibres are Cohen-Macaulay schemes. </CASES>  
LEMMA	  Let MATH be a morphism of locally Noetherian schemes which is locally of finite type and Cohen-Macaulay. For every point MATH in MATH with image MATH in MATH, MATH where MATH denotes the fiber over MATH.  
LEMMA	  Let MATH and MATH be morphisms of schemes. Assume that the fibres of MATH, MATH, and MATH are locally Noetherian. Let MATH with images MATH and MATH. <CASES> CASE: If MATH is Cohen-Macaulay at MATH and MATH is Cohen-Macaulay at MATH, then MATH is Cohen-Macaulay at MATH. CASE: If MATH and MATH are Cohen-Macaulay, then MATH is Cohen-Macaulay. CASE: If MATH is Cohen-Macaulay at MATH and MATH is flat at MATH, then MATH is Cohen-Macaulay at MATH and MATH is Cohen-Macaulay at MATH. CASE: If MATH is Cohen-Macaulay and MATH is flat, then MATH is Cohen-Macaulay and MATH is Cohen-Macaulay at every point in the image of MATH. </CASES>  
LEMMA	  Let MATH be a flat morphism of locally Noetherian schemes. If MATH is Cohen-Macaulay, then MATH is Cohen-Macaulay and MATH is Cohen-Macaulay for all MATH.  
LEMMA	  Let MATH be a morphism of schemes. Assume that all the fibres MATH are locally Noetherian schemes. Let MATH be locally of finite type. Let MATH be the base change of MATH. Let MATH be a point with image MATH. <CASES> CASE: If MATH is Cohen-Macaulay at MATH, then MATH is Cohen-Macaulay at MATH. CASE: If MATH is flat at MATH and MATH is Cohen-Macaulay at MATH, then MATH is Cohen-Macaulay at MATH. CASE: If MATH is flat at MATH and MATH is Cohen-Macaulay at MATH, then MATH is Cohen-Macaulay at MATH. </CASES>  
LEMMA	  REF Let MATH be a morphism of schemes which is flat and locally of finite presentation. Let MATH Then <CASES> CASE: MATH, CASE: MATH is open in MATH, CASE: MATH is dense in every fibre of MATH, CASE: the formation of MATH commutes with arbitrary base change of MATH: For any morphism MATH, consider the base change MATH of MATH and the projection MATH. Then the corresponding set MATH for the morphism MATH is equal to MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes which is flat and locally of finite presentation. Let MATH with image MATH. Set MATH. The following are equivalent <CASES> CASE: MATH is Cohen-Macaulay at MATH, CASE: there exists an open neighbourhood MATH of MATH and a locally quasi-finite morphism MATH over MATH which is flat at MATH, CASE: there exists an open neighbourhood MATH of MATH and a locally quasi-finite flat morphism MATH over MATH, CASE: for any MATH-morphism MATH of an open neighbourhood MATH of MATH we have: MATH is quasi-finite at MATH MATH MATH is flat at MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes which is flat and locally of finite presentation. For MATH there exist opens MATH with the following properties <CASES> CASE: MATH is dense in every fibre of MATH, and CASE: MATH is of relative dimension MATH (see Morphisms, Definition REF). </CASES>  
LEMMA	  Let MATH be a morphism of schemes which is flat and locally of finite presentation. Suppose MATH is a specialization of points of MATH with image MATH in MATH. If MATH is a generic point of an irreducible component of MATH then MATH.  
LEMMA	  The property MATH``the fibres of MATH are locally Noetherian and MATH is Cohen-Macaulay'' is local in the fppf topology on the target and local in the syntomic topology on the source.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a point with image MATH. Let MATH. Assume <CASES> CASE: MATH is locally of finite presentation, CASE: MATH is flat at MATH, and CASE: the image MATH of MATH in MATH is a nonzerodivisor. </CASES> Then there exists an affine open neighbourhood MATH of MATH such that MATH comes from MATH and such that MATH is an effective Cartier divisor in MATH with MATH and MATH flat and locally of finite presentation.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a point with image MATH. Let MATH. Assume <CASES> CASE: MATH is locally of finite presentation, CASE: MATH is flat at MATH, and CASE: the images of MATH in MATH form a regular sequence. </CASES> Then there exists an affine open neighbourhood MATH of MATH such that MATH come from MATH and such that MATH is a regular immersion with MATH and MATH flat and locally of finite presentation. Moreover, the base change MATH is a regular immersion for any scheme MATH over MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a point with image MATH. Assume <CASES> CASE: MATH is locally of finite presentation, CASE: MATH is flat at MATH, and CASE: MATH has MATH. </CASES> Then there exists an affine open neighbourhood MATH of MATH and an effective Cartier divisor MATH containing MATH such that MATH is flat and of finite presentation.  
LEMMA	  REF Let MATH be a morphism of schemes. Let MATH be a point with image MATH. Assume <CASES> CASE: MATH is locally of finite presentation, CASE: MATH is Cohen-Macaulay at MATH, and CASE: MATH is a closed point of MATH. </CASES> Then there exists a regular immersion MATH containing MATH such that <CASES> CASE: MATH is flat and locally of finite presentation, CASE: MATH is locally quasi-finite, and CASE: MATH set theoretically. </CASES>  
LEMMA	  Let MATH be a flat morphism of schemes which is locally of finite presentation. Let MATH be a point in the image of MATH. Then there exists a commutative diagram MATH where MATH is flat, locally of finite presentation, locally quasi-finite, and MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be an fppf covering of MATH, see Topologies, Definition REF. Then there exists an fppf covering MATH which refines (see Sites, Definition REF) MATH such that each MATH is locally quasi-finite.  
LEMMA	  Let MATH be a finite type morphism of schemes. Assume MATH irreducible with generic point MATH. If MATH then there exists a nonempty open MATH such that MATH.  
LEMMA	  Let MATH be a finite type morphism of schemes. Assume MATH irreducible with generic point MATH. If MATH then there exists a nonempty open MATH such that MATH is surjective.  
LEMMA	  Let MATH be a finite type morphism of schemes. Assume MATH irreducible with generic point MATH. If MATH is a closed subset with MATH nowhere dense in MATH, then there exists a nonempty open MATH such that MATH is nowhere dense in MATH for all MATH.  
LEMMA	  Let MATH be a finite type morphism of schemes. Assume MATH irreducible with generic point MATH. Let MATH be an open subscheme such that MATH is scheme theoretically dense in MATH. Then there exists a nonempty open MATH such that MATH is scheme theoretically dense in MATH for all MATH.  
LEMMA	  Let MATH be a finite type morphism of schemes. Assume MATH irreducible with generic point MATH. Let MATH be a covering of the generic fibre by closed subsets of MATH. Let MATH be the closure of MATH in MATH (see discussion above). Then there exists a nonempty open MATH such that MATH for all MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a generic point of an irreducible component of MATH. Then MATH.  
LEMMA	  Let MATH be a morphism of schemes. Assume that MATH is irreducible and MATH is of finite type. There exists a diagram MATH where <CASES> CASE: MATH is a nonempty open of MATH, CASE: MATH, CASE: MATH is a finite universal homeomorphism, CASE: MATH, CASE: MATH is a finite universal homeomorphism, CASE: MATH is an integral affine scheme, CASE: MATH is flat and of finite presentation, and CASE: the generic fibre of MATH is geometrically reduced. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Assume that MATH is irreducible and MATH is of finite type. There exists a diagram MATH where <CASES> CASE: MATH is a nonempty open of MATH, CASE: MATH, CASE: MATH is surjective finite etale, CASE: MATH, CASE: MATH is surjective finite etale, CASE: MATH is an irreducible affine scheme, and CASE: all irreducible components of the generic fibre of MATH are geometrically irreducible. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a quasi-coherent MATH-module. Let MATH and set MATH. If MATH is locally of finite type and MATH is a finite type MATH-module, then there exists a nonempty open MATH such that for every MATH the generic points of MATH are elements of MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a quasi-coherent MATH-module. Let MATH be an open subscheme. Assume <CASES> CASE: MATH is of finite type, CASE: MATH is of finite type, CASE: MATH is irreducible with generic point MATH, and CASE: MATH is not contained in MATH. </CASES> Then there exists a nonempty open subscheme MATH such that for all MATH the set MATH is not contained in MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a quasi-coherent MATH-module. Let MATH be an open subscheme. Assume <CASES> CASE: MATH is of finite type, CASE: MATH is of finite type, CASE: MATH is irreducible with generic point MATH, and CASE: MATH. </CASES> Then there exists a nonempty open subscheme MATH such that for all MATH we have MATH.  
LEMMA	  Let MATH be a morphism which is locally of finite type. Let MATH be a quasi-coherent MATH-module of finite type. Let MATH be an open subscheme. Let MATH be a morphism of schemes, let MATH be the base change of MATH, let MATH be the projection, set MATH, and set MATH. Finally, let MATH with image MATH. In this case MATH  
LEMMA	  Let MATH be a morphism of finite presentation. Let MATH be a quasi-coherent MATH-module of finite presentation. Let MATH be an open subscheme such that MATH is quasi-compact. Then the set MATH is locally constructible in MATH.  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH irreducible with generic point MATH and MATH of finite type. If MATH is nonreduced, then there exists a nonempty open MATH such that for all MATH the fibre MATH is nonreduced.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be any morphism, and denote MATH the base change of MATH. Then MATH  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH irreducible with generic point MATH and MATH of finite type. If MATH is not geometrically reduced, then there exists a nonempty open MATH such that for all MATH the fibre MATH is not geometrically reduced.  
LEMMA	  Let MATH be a morphism of schemes. Assume <CASES> CASE: MATH is irreducible with generic point MATH, CASE: MATH is geometrically reduced, and CASE: MATH is of finite type. </CASES> Then there exists a nonempty open subscheme MATH such that MATH has geometrically reduced fibres.  
LEMMA	  Let MATH be a morphism which is quasi-compact and locally of finite presentation. Then the set MATH is locally constructible in MATH.  
LEMMA	  Let MATH be a proper flat morphism where MATH is a discrete valuation ring. If the special fibre is reduced, then both MATH and the generic fibre MATH are reduced.  
LEMMA	  Let MATH be a flat proper morphism of finite presentation. Then the set MATH is open in MATH.  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH irreducible with generic point MATH and MATH of finite type. If MATH has MATH irreducible components, then there exists a nonempty open MATH such that for all MATH the fibre MATH has at least MATH irreducible components.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be any morphism, and denote MATH the base change of MATH. Then MATH  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be the function which associates to MATH the number of irreducible components of MATH where MATH is a separably closed extension of MATH. This is well defined and if MATH is a morphism then MATH where MATH is the base change of MATH.  
LEMMA	  Let MATH be a domain with fraction field MATH. Let MATH. Denote MATH the algebraic closure of MATH. Assume MATH is irreducible in MATH. Then there exists a MATH such that MATH is irreducible for all homomorphisms MATH into fields.  
LEMMA	  Let MATH be a morphism of schemes. Assume <CASES> CASE: MATH is irreducible with generic point MATH, CASE: MATH is geometrically irreducible, and CASE: MATH is of finite type. </CASES> Then there exists a nonempty open subscheme MATH such that MATH has geometrically irreducible fibres.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be the function on MATH counting the numbers of geometrically irreducible components of fibres of MATH introduced in Lemma REF. Assume MATH of finite type. Let MATH be a point. Then there exists a nonempty open MATH such that MATH is constant.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be the function on MATH counting the numbers of geometrically irreducible components of fibres of MATH introduced in Lemma REF. Assume MATH of finite presentation. Then the level sets MATH of MATH are locally constructible in MATH.  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH irreducible with generic point MATH and MATH of finite type. If MATH has MATH connected components, then there exists a nonempty open MATH such that for all MATH the fibre MATH has at least MATH connected components.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be any morphism, and denote MATH the base change of MATH. Then MATH  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be the function which associates to MATH the number of connected components of MATH where MATH is a separably closed extension of MATH. This is well defined and if MATH is a morphism then MATH where MATH is the base change of MATH.  
LEMMA	  Let MATH be a morphism of schemes. Assume <CASES> CASE: MATH is irreducible with generic point MATH, CASE: MATH is geometrically connected, and CASE: MATH is of finite type. </CASES> Then there exists a nonempty open subscheme MATH such that MATH has geometrically connected fibres.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be the function on MATH counting the numbers of geometrically connected components of fibres of MATH introduced in Lemma REF. Assume MATH of finite type. Let MATH be a point. Then there exists a nonempty open MATH such that MATH is constant.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be the function on MATH counting the numbers of geometric connected components of fibres of MATH introduced in Lemma REF. Assume MATH of finite presentation. Then the level sets MATH of MATH are locally constructible in MATH.  
LEMMA	  [ A flat degeneration of a disconnected scheme is either disconnected or nonreduced. ] Let MATH be a morphism of schemes. Assume that <CASES> CASE: MATH is the spectrum of a discrete valuation ring, CASE: MATH is flat, CASE: MATH is connected, CASE: the closed fibre MATH is reduced. </CASES> Then the generic fibre MATH is connected.  
LEMMA	  Let MATH, MATH be as in Situation REF. If MATH is any morphism, consider the base change diagram MATH so that we obtain MATH. Then MATH.  
LEMMA	  Let MATH, MATH be as in Situation REF. Assume MATH of finite type. Let MATH be a point. Then there exists a nonempty open MATH such that the inverse image of MATH in the base change MATH is open and closed in MATH.  
LEMMA	  Let MATH, MATH be as in Situation REF. If MATH is of finite presentation then MATH is locally constructible in MATH.  
LEMMA	  Let MATH, MATH be as in Situation REF. Let MATH be a point. Assume <CASES> CASE: MATH is of finite presentation and flat, and CASE: the fibre MATH is geometrically reduced. </CASES> Then MATH is a neighbourhood of MATH in MATH.  
LEMMA	  Let MATH, MATH be as in Situation REF. Assume <CASES> CASE: MATH is of finite presentation and flat, and CASE: all fibres of MATH are geometrically reduced. </CASES> Then MATH is open in MATH.  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH irreducible with generic point MATH and MATH of finite type. If MATH has dimension MATH, then there exists a nonempty open MATH such that for all MATH the fibre MATH has dimension MATH.  
LEMMA	  Let MATH be a morphism of finite type. Let MATH be the function which associates to MATH the dimension of MATH. If MATH is a morphism then MATH where MATH is the base change of MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be the function on MATH giving the dimension of fibres of MATH introduced in Lemma REF. Assume MATH of finite presentation. Then the level sets MATH of MATH are locally constructible in MATH.  
LEMMA	  Let MATH be a flat morphism of schemes of finite presentation. Let MATH be the function on MATH giving the dimension of fibres of MATH introduced in Lemma REF. Then MATH is lower semi-continuous.  
LEMMA	  Let MATH be a proper morphism of schemes. Let MATH be the function on MATH giving the dimension of fibres of MATH introduced in Lemma REF. Then MATH is upper semi-continuous.  
LEMMA	  Let MATH be a proper, flat morphism of schemes of finite presentation. Let MATH be the function on MATH giving the dimension of fibres of MATH introduced in Lemma REF. Then MATH is locally constant.  
LEMMA	  Let MATH be a ring. Let MATH be prime ideals of MATH with MATH if MATH. Let MATH be subfields such that the extensions MATH are not algebraic. Let MATH be an ideal not contained in any of the MATH. Then there exists an element MATH such that the image of MATH in MATH is transcendental over MATH for MATH.  
LEMMA	  Let MATH be a finite type ring map. Let MATH. Let MATH. Assume that the fibres of MATH given by the MATH-algebra map MATH sending MATH to MATH have dimension MATH. Then there exists an MATH such that for MATH the fibres of MATH given by the MATH-algebra map MATH sending MATH to MATH have dimension MATH.  
LEMMA	  Let MATH be a finite type ring map. Let MATH be the maximum of the dimensions of fibres of MATH. Then there exists a quasi-finite ring map MATH.  
LEMMA	  REF Let MATH be a geometrically irreducible and finitely generated field extension. Let MATH. Let MATH be elements such that there exist MATH such that the elements MATH are algebraically independent over MATH. Then MATH is geometrically irreducible over MATH.  
LEMMA	  Let MATH be a domain of finite type over a field MATH. Let MATH. Let MATH be elements such that MATH has an irreducible component of dimension MATH. Then there exist MATH such that the elements MATH are algebraically independent over MATH.  
LEMMA	  REF In Varieties, Situation REF assume <CASES> CASE: MATH is of finite type over MATH, CASE: MATH is geometrically irreducible over MATH, CASE: there exist MATH and an irreducible component MATH of MATH such that MATH and MATH, and CASE: every irreducible component MATH of MATH has MATH. </CASES> Then for general MATH the scheme MATH is geometrically irreducible over MATH.  
LEMMA	  Let MATH be a flat, proper morphism of finite presentation. Let MATH be a finite locally free MATH-module. For a morphism MATH consider the base change diagram MATH Assume MATH is an isomorphism for all MATH. Then there exists an immersion MATH of finite presentation such that a morphism MATH factors through MATH if and only if there exists a finite locally free MATH-module MATH with MATH.  
LEMMA	  Let MATH be a flat, proper morphism of finite presentation such that MATH and this remains true after arbitrary base change. Let MATH be a finite locally free MATH-module. Assume <CASES> CASE: MATH is isomorphic to MATH for all MATH, and CASE: MATH is reduced. </CASES> Then MATH for some finite locally free MATH-module MATH.  
LEMMA	  Let MATH be a proper flat morphism of finite presentation. Let MATH be an invertible MATH-module. Assume <CASES> CASE: MATH is the spectrum of a valuation ring, CASE: MATH is trivial on the generic fibre MATH of MATH, CASE: the closed fibre MATH of MATH is integral, CASE: MATH is equal to the function field of MATH. </CASES> Then MATH is trivial.  
LEMMA	  Let MATH and MATH be as in Lemma REF and in addition assume MATH is an invertible MATH-module. If moreover the geometric fibres of MATH are integral, then MATH is closed in MATH.  
LEMMA	  Consider a commutative diagram of schemes MATH with MATH and MATH satisfying the hypotheses of Lemma REF. Let MATH be an invertible MATH-module and let MATH be the pullback to MATH. Let MATH, resp.\ MATH be the locally closed subscheme constructed in Lemma REF for MATH, resp.\ MATH so that MATH. If MATH and MATH is injective, then MATH for some open neighbourhood MATH of MATH.  
LEMMA	  Consider MATH commutative diagrams of schemes MATH with MATH and MATH satisfying the hypotheses of Lemma REF. Let MATH be an invertible MATH-module and let MATH be the pullback to MATH. Let MATH, resp.\ MATH be the locally closed subscheme constructed in Lemma REF for MATH, resp.\ MATH so that MATH. If MATH and MATH is injective, then MATH (scheme theoretic intersection) for some open neighbourhood MATH of MATH.  
LEMMA	  Let MATH and MATH be morphisms of schemes satisfying the hypotheses of Lemma REF. Let MATH and MATH be sections of MATH and MATH. Let MATH. Let MATH be an invertible sheaf on MATH. If MATH on MATH, MATH on MATH, and MATH are trivial, then there is an open neighbourhood MATH of MATH such that MATH is trivial over MATH.  
THEOM	[Theorem of the cube]  Let MATH be a scheme. Let MATH, MATH, and MATH be schemes over MATH. Let MATH and MATH be sections of the structure morphisms. Let MATH be an invertible module on MATH. If <CASES> CASE: MATH and MATH are flat, proper morphisms of finite presentation with geometrically integral fibres, CASE: the pullbacks of MATH by MATH and MATH are trivial over MATH and MATH, CASE: there is a point MATH such that MATH restricted to MATH is trivial, and CASE: MATH is connected, </CASES> then MATH is trivial.  
LEMMA	  Let MATH be a morphism of affine schemes, which is of finite presentation. Then there exists a cartesian diagram MATH such that <CASES> CASE: MATH, MATH are affine schemes, CASE: MATH of finite type over MATH, CASE: MATH is of finite type. </CASES>  
LEMMA	  Let MATH be a morphism of affine schemes, which is of finite presentation. Let MATH be a quasi-coherent MATH-module of finite presentation. Then there exists a diagram as in Lemma REF such that there exists a coherent MATH-module MATH with MATH.  
LEMMA	  Let MATH be a morphism of affine schemes, which is of finite presentation. Let MATH be a quasi-coherent MATH-module of finite presentation and flat over MATH. Then we may choose a diagram as in Lemma REF and sheaf MATH such that in addition MATH is flat over MATH.  
LEMMA	  Let MATH be a morphism of affine schemes, which is of finite presentation and flat. Then there exists a diagram as in Lemma REF such that in addition MATH is flat.  
LEMMA	  Let MATH be a morphism of affine schemes, which is smooth. Then there exists a diagram as in Lemma REF such that in addition MATH is smooth.  
LEMMA	  Let MATH be a morphism of affine schemes, which is of finite presentation with geometrically reduced fibres. Then there exists a diagram as in Lemma REF such that in addition MATH has geometrically reduced fibres.  
LEMMA	  Let MATH be a morphism of affine schemes, which is of finite presentation with geometrically irreducible fibres. Then there exists a diagram as in Lemma REF such that in addition MATH has geometrically irreducible fibres.  
LEMMA	  Let MATH be a morphism of affine schemes, which is of finite presentation with geometrically connected fibres. Then there exists a diagram as in Lemma REF such that in addition MATH has geometrically connected fibres.  
LEMMA	  Let MATH be an integer. Let MATH be a morphism of affine schemes, which is of finite presentation all of whose fibres have dimension MATH. Then there exists a diagram as in Lemma REF such that in addition all fibres of MATH have dimension MATH.  
LEMMA	  Let MATH be a morphism of affine schemes, which is standard syntomic (see Morphisms, Definition REF). Then there exists a diagram as in Lemma REF such that in addition MATH is standard syntomic.  
LEMMA	  (Noetherian approximation and combining properties.) Let MATH, MATH be properties of morphisms of schemes which are stable under base change. Let MATH be a morphism of finite presentation of affine schemes. Assume we can find cartesian diagrams MATH of affine schemes, with MATH, MATH of finite type over MATH and MATH, MATH of finite type such that MATH has property MATH and MATH has property MATH. Then we can find a cartesian diagram MATH of affine schemes with MATH of finite type over MATH and MATH of finite type such that MATH has both property MATH and property MATH.  
DEFNN	  Let MATH be a scheme. Let MATH be a point. <CASES> CASE: An etale neighbourhood of MATH is a pair MATH together with an etale morphism of schemes MATH such that MATH. CASE: A morphism of etale neighbourhoods MATH of MATH is simply a morphism of MATH-schemes MATH such that MATH. CASE: An elementary etale neighbourhood is an etale neighbourhood MATH such that MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH. Let MATH be a finite separable field extension. Then there exists an etale neighbourhood MATH such that the field extension MATH is isomorphic to MATH.  
LEMMA	  Let MATH be a scheme, and let MATH be a point of MATH. The category of etale neighborhoods has the following properties: <CASES> CASE: Let MATH be two etale neighborhoods of MATH in MATH. Then there exists a third etale neighborhood MATH and morphisms MATH, MATH. CASE: Let MATH be two morphisms between etale neighborhoods of MATH. Assume MATH, MATH induce the same map MATH of residue fields. Then there exist an etale neighborhood MATH and a morphism MATH which equalizes MATH and MATH, i.e., such that MATH. </CASES>  
LEMMA	  Let MATH be a scheme, and let MATH be a point of MATH. The category of elementary etale neighborhoods of MATH is cofiltered (see Categories, Definition REF).  
LEMMA	  Let MATH be a scheme. Let MATH. Then we have MATH where the colimit is over the filtered category which is opposite to the category of elementary etale neighbourhoods MATH of MATH.  
LEMMA	  [ Lift etale neighbourhood of point on fibre to total space. ] Let MATH be a morphism of schemes. Let MATH with image MATH. Let MATH be an etale neighbourhood. Then there exists an etale neighbourhood MATH such that there exists a morphism MATH of etale neighbourhoods of MATH which is an open immersion.  
LEMMA	  Let MATH be colimit of a directed system of rings whose transition maps are faithfully flat. Then the number of minimal primes of MATH taken as an element of MATH is the supremum of the numbers of minimal primes of the MATH.  
LEMMA	  Let MATH be a scheme and MATH a point. Then <CASES> CASE: the number of branches of MATH at MATH is equal to the supremum of the number of irreducible components of MATH passing through MATH taken over elementary etale neighbourhoods MATH, CASE: the number of geometric branches of MATH at MATH is equal to the supremum of the number of irreducible components of MATH passing through MATH taken over etale neighbourhoods MATH, CASE: MATH is unibranch at MATH if and only if for every elementary etale neighbourhood MATH there is exactly one irreducible component of MATH passing through MATH, and CASE: MATH is geometrically unibranch at MATH if and only if for every etale neighbourhood MATH there is exactly one irreducible component of MATH passing through MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes and MATH a point with image MATH. Then <CASES> CASE: the number of branches of the fibre MATH at MATH is equal to the supremum of the number of irreducible components of the fibre MATH passing through MATH taken over elementary etale neighbourhoods MATH, CASE: the number of geometric branches of the fibre MATH at MATH is equal to the supremum of the number of irreducible components of the fibre MATH passing through MATH taken over etale neighbourhoods MATH, CASE: the fibre MATH is unibranch at MATH if and only if for every elementary etale neighbourhood MATH there is exactly one irreducible component of the fibre MATH passing through MATH, and CASE: MATH is geometrically unibranch at MATH if and only if for every etale neighbourhood MATH there is exactly one irreducible component of MATH passing through MATH. </CASES>  
LEMMA	  Let MATH be a smooth morphism of schemes. Let MATH with image MATH. Then <CASES> CASE: The number of geometric branches of MATH at MATH is equal to the number of geometric branches of MATH at MATH. CASE: If MATH is a purely inseparable extension of fields, then number of branches of MATH at MATH is equal to the number of branches of MATH at MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Let MATH with image MATH. Assume <CASES> CASE: MATH is integral and geometrically unibranch at MATH, CASE: MATH is locally of finite type, CASE: there is a specialization MATH such that MATH is the generic point of MATH, CASE: MATH is unramified at MATH. </CASES> Then MATH is etale at MATH.  
LEMMA	  REF Let MATH be a morphism of schemes. Assume <CASES> CASE: MATH is integral and geometrically unibranch, CASE: at least one irreducible component of MATH dominates MATH, CASE: MATH is unramified, and CASE: MATH is connected. </CASES> Then MATH is etale and MATH is irreducible.  
LEMMA	  Let MATH and MATH be morphisms of schemes. Let MATH with image MATH. Assume <CASES> CASE: MATH is integral and geometrically unibranch at MATH, CASE: MATH is etale at MATH, CASE: there is a specialization MATH such that MATH is the generic point of MATH. </CASES> Then MATH is etale at MATH and MATH is etale at MATH.  
LEMMA	  Let MATH and MATH be morphisms of schemes. Assume <CASES> CASE: MATH is integral and geometrically unibranch, CASE: MATH is etale, CASE: every irreducible component of MATH dominates MATH. </CASES> Then MATH is etale and MATH is etale at every point in the image of MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a point with image MATH. Let MATH. Assume <CASES> CASE: MATH is smooth at MATH, and CASE: the image MATH of MATH in MATH is nonzero. </CASES> Then there exists an affine open neighbourhood MATH of MATH such that MATH comes from MATH and such that MATH is an effective Cartier divisor in MATH with MATH and MATH smooth.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a point with image MATH. Assume <CASES> CASE: MATH is smooth at MATH, and CASE: the map MATH has a nonzero kernel. </CASES> Then there exists an affine open neighbourhood MATH of MATH and an effective Cartier divisor MATH containing MATH such that MATH is smooth.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a point with image MATH. Assume <CASES> CASE: MATH is smooth at MATH, CASE: the residue field extension MATH is separable, and CASE: MATH is not a generic point of MATH. </CASES> Then there exists an affine open neighbourhood MATH of MATH and an effective Cartier divisor MATH containing MATH such that MATH is smooth.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a point with image MATH. Assume <CASES> CASE: MATH is smooth at MATH, and CASE: MATH is a closed point of MATH and MATH is separable. </CASES> Then there exists an immersion MATH containing MATH such that <CASES> CASE: MATH is etale, and CASE: MATH set theoretically. </CASES>  
LEMMA	  Let MATH be a smooth morphism of schemes. Let MATH be a point in the image of MATH. Then there exists an etale neighbourhood MATH and a MATH-morphism MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be a smooth covering of MATH, see Topologies, Definition REF. Then there exists an etale covering MATH (see Topologies, Definition REF) which refines (see Sites, Definition REF) MATH.  
LEMMA	  Let MATH be a smooth morphism of schemes. Then there exists an etale covering MATH such that MATH factors as MATH where MATH is etale and MATH is a smooth morphism of affine schemes, which has a section, and has geometrically connected fibres.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH, MATH be schemes locally of finite type over MATH. Let MATH and MATH be points lying over the same point MATH. Assume MATH is a G-ring. Assume further we are given a local MATH-algebra map MATH For every MATH there exists an elementary etale neighbourhood MATH and an MATH-morphism MATH mapping MATH to MATH such that the diagram MATH commutes modulo MATH.  
LEMMA	  Let MATH be a locally Noetherian scheme. Let MATH, MATH be schemes locally of finite type over MATH. Let MATH and MATH be points lying over the same point MATH. Assume MATH is a G-ring. Assume we have an MATH-algebra isomorphism MATH between the complete local rings. Then for every MATH there exists morphisms MATH of pointed schemes over MATH such that both arrows define elementary etale neighbourhoods and such that the diagram MATH commutes modulo MATH.  
LEMMA	  Let MATH, MATH, MATH, MATH, MATH, MATH, MATH, MATH, and MATH be given as follows: we have morphisms of schemes MATH Here MATH is locally Noetherian and MATH is of finite type over MATH. The morphisms MATH and MATH are locally of finite type. The local ring MATH is a G-ring. The map MATH is a local homomorphism. Set MATH. Next, MATH is a point of MATH mapping to MATH and the closed point of MATH. Finally MATH is an isomorphism of MATH-algebras. In this situation there exists a commutative diagram MATH of schemes and points MATH, MATH such that <CASES> CASE: MATH is an elementary etale neighbourhood, CASE: MATH is an elementary etale neighbourhood, and CASE: MATH. </CASES> Let MATH correspond to MATH via the identification MATH. Then <CASES> CASE: MATH is an elementary etale neighbourhood. </CASES>  
LEMMA	  Consider a diagram MATH where MATH be a locally Noetherian scheme and the morphisms are locally of finite type. Assume MATH is a G-ring. Assume further we are given a local MATH-algebra map MATH and a local MATH-algebra map MATH where MATH and MATH is the unique point of MATH lying over MATH. For every MATH there exists a commutative diagram MATH of schemes over MATH and points MATH, MATH such that <CASES> CASE: MATH, MATH, MATH, and MATH, CASE: MATH is an elementary etale neighbourhood, CASE: the diagram MATH commutes module MATH, CASE: MATH is an elementary etale neighbourhood, CASE: the diagram MATH commutes. The equality comes from the fact that MATH and MATH are canonically isomorphic over MATH by parts (2) and (3). </CASES>  
LEMMA	  Let MATH be finite type morphisms of Noetherian schemes. Let MATH map to MATH and let MATH be a local MATH-algebra map. For every MATH there exists a finite type morphism MATH such that MATH factors through MATH and such that for every local MATH-algebra map MATH which factors through MATH the maps MATH and MATH agree modulo MATH.  
LEMMA	  Let MATH be finite type morphisms of Noetherian schemes. Let MATH map to MATH and let MATH be a local MATH-algebra map. There exists a finite type morphism MATH such that MATH factors through MATH and such that for every local MATH-algebra map MATH which factors through MATH the closed immersions MATH have isomorphic conormal algebras.  
LEMMA	  With notation an assumptions as in Lemma REF assume that MATH induces an isomorphism on completions. Then we can choose our diagram such that MATH is etale.  
LEMMA	  Let MATH be a scheme. Let MATH. Let MATH be an etale neighbourhood. There exists an affine open neighbourhood MATH and a surjective, finite locally free morphism MATH such that for every MATH there exists an open neighbourhood MATH and a commutative diagram MATH with MATH.  
LEMMA	  Let MATH be a surjective etale morphism of affine schemes. There exists a surjective, finite locally free morphism MATH and a finite open covering MATH such that each MATH factors through MATH. Diagram: MATH where the south-west arrow is a Zariski-covering.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH. Set MATH. Assume that <CASES> CASE: MATH is locally of finite type, and CASE: MATH is isolated. </CASES> Then there exist <CASES> CASE: an elementary etale neighbourhood MATH, CASE: an open subscheme MATH (see REF) </CASES> such that <CASES> CASE: MATH is a finite morphism, CASE: there is a unique point MATH of MATH mapping to MATH in MATH, and CASE: the point MATH maps to MATH under the morphism MATH, inducing MATH. </CASES> Moreover, for any elementary etale neighbourhood MATH setting MATH the triple MATH satisfies the properties CASE:, CASE:, and CASE: as well.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be points having the same image MATH in MATH. Assume that <CASES> CASE: MATH is locally of finite type, and CASE: MATH is isolated for MATH. </CASES> Then there exist <CASES> CASE: an elementary etale neighbourhood MATH, CASE: for each MATH an open subscheme MATH, </CASES> such that for each MATH we have <CASES> CASE: MATH is a finite morphism, CASE: there is a unique point MATH of MATH mapping to MATH in MATH, and CASE: the point MATH maps to MATH in MATH and MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be points having the same image MATH in MATH. Assume that <CASES> CASE: MATH is locally of finite type, and CASE: MATH is isolated for MATH. </CASES> Then there exist <CASES> CASE: an etale neighbourhood MATH, CASE: for each MATH an integer MATH and open subschemes MATH, MATH </CASES> such that we have <CASES> CASE: each MATH is a finite morphism, CASE: there is a unique point MATH of MATH mapping to MATH in MATH with MATH finite purely inseparable, CASE: if MATH, then MATH and MATH, and CASE: the points MATH map to MATH in MATH and no other points of MATH map to MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Let MATH. Let MATH. Assume that <CASES> CASE: MATH is locally of finite type, CASE: MATH is separated, and CASE: MATH are pairwise distinct isolated points of MATH. </CASES> Then there exists an elementary etale neighbourhood MATH and a decomposition MATH into open and closed subschemes such that the morphisms MATH are finite, the fibres of MATH over MATH are singletons MATH, each MATH maps to MATH with MATH, and the fibre of MATH over MATH contains no points mapping to any of the MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH. Let MATH. Assume that <CASES> CASE: MATH is locally of finite type, CASE: MATH is separated, and CASE: MATH are pairwise distinct isolated points of MATH. </CASES> Then there exists an etale neighbourhood MATH and a decomposition MATH into open and closed subschemes such that the morphisms MATH are finite, the fibres of MATH over MATH are singletons MATH, each MATH maps to MATH, MATH is purely inseparable, and the fibre of MATH over MATH contains no points mapping to any of the MATH.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH. Assume that <CASES> CASE: MATH is locally of finite type, CASE: MATH is separated, and CASE: MATH has at most finitely many isolated points. </CASES> Then there exists an elementary etale neighbourhood MATH and a decomposition MATH into open and closed subschemes such that the morphism MATH is finite, and the fibre MATH of the morphism MATH contains no isolated points. In particular, if MATH is a finite set, then MATH.  
LEMMA	  Let MATH be an integral ring map. Let MATH be a prime ideal. Assume <CASES> CASE: there are finitely many primes MATH lying over MATH, and CASE: for each MATH the maximal separable subextension MATH (Fields, Lemma REF) is finite over MATH. </CASES> Then there exists an etale ring map MATH and a prime MATH lying over MATH such that MATH with MATH integral having a unique prime MATH over MATH such that MATH is purely inseparable.  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH is of finite type and separated. Let MATH be the normalization of MATH in MATH, see Morphisms, Definition REF. Picture: MATH Then there exists an open subscheme MATH such that <CASES> CASE: MATH is an isomorphism, and CASE: MATH is the set of points at which MATH is quasi-finite. </CASES>  
LEMMA	  [ Quasi-finite, separated morphisms are quasi-affine ] Let MATH be a morphism of schemes. Assume MATH is quasi-finite and separated. Let MATH be the normalization of MATH in MATH, see Morphisms, Definition REF. Picture: MATH Then MATH is a quasi-compact open immersion and MATH is integral. In particular MATH is quasi-affine.  
LEMMA	[Zariski's Main Theorem]  REF Let MATH be a morphism of schemes. Assume MATH is quasi-finite and separated and assume that MATH is quasi-compact and quasi-separated. Then there exists a factorization MATH where MATH is a quasi-compact open immersion and MATH is finite.  
LEMMA	  With notation and hypotheses as in Lemma REF. Assume moreover that MATH is locally of finite presentation. Then we can choose the factorization such that MATH is finite and of finite presentation over MATH.  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent: <CASES> CASE: MATH is finite, CASE: MATH is proper with finite fibres, CASE: MATH is proper and locally quasi-finite, CASE: MATH is universally closed, separated, locally of finite type and has finite fibres. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Let MATH. Assume that MATH is proper and MATH is a finite set. Then there exists an open neighbourhood MATH of MATH such that MATH is finite.  
LEMMA	  Consider a commutative diagram of schemes MATH Let MATH. Assume <CASES> CASE: MATH is a proper morphism, CASE: MATH is separated and locally of finite type, and CASE: the image of MATH is finite. </CASES> Then there is an open subspace MATH containing MATH such that MATH factors through a closed subscheme MATH finite over MATH.  
LEMMA	  Let MATH be a separated, locally quasi-finite morphism with MATH affine. Then every finite set of points of MATH is contained in an open affine of MATH.  
LEMMA	  Let MATH be a quasi-finite morphism. There exists a dense open MATH such that MATH is finite.  
LEMMA	  Let MATH be flat, locally of finite presentation, separated, locally quasi-finite with universally bounded fibres. Then there exist closed subsets MATH such that with MATH the stratification MATH is characterized by the following universal property: Given MATH the projection MATH is finite locally free of degree MATH if and only if MATH (set theoretically).  
LEMMA	  Let MATH be a morphism of schemes which is flat, locally of finite presentation, separated, and quasi-finite. Then there exist closed subsets MATH such that with MATH the stratification MATH is characterized by the following universal property: Given a morphism MATH the projection MATH is finite locally free of degree MATH if and only if MATH (set theoretically). Moreover, the inclusion maps MATH are quasi-compact.  
LEMMA	  Let MATH be a flat, locally of finite presentation, separated, and locally quasi-finite morphism of schemes. Then there exist open subschemes MATH such that a morphism MATH where MATH is a field factors through MATH if and only if MATH has degree MATH over MATH.  
LEMMA	  Let MATH be a morphism of schemes which is flat, locally of finite presentation, and locally quasi-finite. Let MATH nonzero. Then there exist an open MATH such that MATH, an open MATH fitting into a commutative diagram MATH a quasi-coherent subsheaf MATH, an integer MATH, and an injective MATH-module map MATH whose image contains MATH.  
LEMMA	  Let MATH be a surjective etale morphism of schemes. Assume MATH is quasi-compact and quasi-separated. Then there exists a surjective integral morphism MATH, such that for every MATH there is an open neighbourhood MATH such that MATH factors through MATH. In fact, we may assume MATH is finite and of finite presentation.  
LEMMA	  Consider a diagram of morphisms of schemes MATH an a point MATH. Assume <CASES> CASE: MATH is of finite presentation and flat, CASE: MATH is finite locally free, CASE: MATH, CASE: all fibres of MATH are geometrically reduced, and CASE: MATH is geometrically connected over MATH. </CASES> Then there exists a quasi-compact open MATH such that MATH and such that all nonempty fibres of MATH are geometrically connected.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a point. Let MATH be an open subscheme. Assume <CASES> CASE: MATH is flat and of finite presentation, CASE: all fibres of MATH are geometrically reduced, and CASE: MATH is geometrically connected over MATH. </CASES> Then we can find an affine elementary etale neighbourhood MATH and a quasi-compact open MATH such that <CASES> CASE: all fibres of MATH are geometrically connected, CASE: MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite presentation and flat with geometrically reduced fibres. Then there exists an etale covering MATH such that MATH factors as MATH where MATH is etale and MATH is flat of finite presentation with geometrically connected and geometrically reduced fibres.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a point. Let MATH be an open subscheme. Assume <CASES> CASE: MATH is of finite presentation, CASE: MATH is normal, and CASE: MATH is geometrically irreducible over MATH. </CASES> Then we can find an affine elementary etale neighbourhood MATH and a quasi-compact open MATH such that <CASES> CASE: all fibres of MATH are geometrically integral, CASE: MATH. </CASES>  
LEMMA	  Let MATH be a morphism. Let MATH and set MATH. Assume that MATH is locally of finite type and that MATH. Then there exists a commutative diagram MATH and a point MATH with MATH such that with MATH we have <CASES> CASE: MATH is smooth of relative dimension MATH, CASE: MATH is an elementary etale neighbourhood, CASE: MATH is finite, and MATH, and CASE: MATH is a purely transcendental extension of MATH. </CASES> Moreover, if MATH is locally of finite presentation then MATH is of finite presentation.  
LEMMA	  [ A morphism of finite type is, in etale neighbourhoods, finite over a smooth morphism. ] Let MATH be a morphism. Let MATH and set MATH. Assume that MATH is locally of finite type and that MATH. Then there exists a commutative diagram MATH and a point MATH with MATH such that with MATH, MATH we have <CASES> CASE: MATH is smooth of relative dimension MATH, CASE: all fibres of MATH are geometrically integral, CASE: MATH is an elementary etale neighbourhood, CASE: MATH is finite, and MATH, CASE: MATH is a purely transcendental extension of MATH, and CASE: MATH is an elementary etale neighbourhood. </CASES> Moreover, if MATH is locally of finite presentation, then MATH is of finite presentation.  
LEMMA	  Assumption and notation as in Lemma REF. In addition to properties (1) -- (6) we may also arrange it so that <CASES> CASE: MATH, MATH, MATH are affine. </CASES>  
LEMMA	  Let MATH be a finite morphism. Let MATH with MATH such that MATH. Then <CASES> CASE: For every neighbourhood MATH of MATH in MATH, there exists a neighbourhood MATH of MATH such that MATH. CASE: The ring map MATH is finite. CASE: If MATH is of finite presentation, then MATH is of finite presentation. CASE: For any quasi-coherent MATH-module MATH we have MATH as MATH-modules. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be an fppf covering. Then there exist <CASES> CASE: an etale covering MATH, CASE: surjective finite locally free morphisms MATH, </CASES> such that the fppf covering MATH refines the given covering MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be an fppf covering. Then there exist <CASES> CASE: a Zariski open covering MATH, CASE: surjective finite locally free morphisms MATH, CASE: Zariski open coverings MATH, CASE: surjective finite locally free morphisms MATH </CASES> such that the fppf covering MATH refines the given covering MATH.  
LEMMA	  Let MATH be a scheme. If MATH is open and MATH is a surjective integral morphism, then there exists a surjective integral morphism MATH with MATH isomorphic to MATH as schemes over MATH.  
LEMMA	  Let MATH be a quasi-compact and quasi-separated scheme. If MATH is a quasi-compact open and MATH is a surjective finite morphism, then there exists a surjective finite morphism MATH with MATH isomorphic to MATH as schemes over MATH.  
LEMMA	  Let MATH be a scheme. Let MATH be an fppf covering. Then there exists a surjective integral morphism MATH and an open covering MATH such that for each MATH the morphism MATH factors through MATH for some MATH.  
LEMMA	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be an fppf covering. Then there exists a surjective finite morphism MATH of finite presentation and an open covering MATH such that for each MATH the morphism MATH factors through MATH for some MATH.  
LEMMA	  An fppf covering of schemes is a ph covering.  
LEMMA	  Let MATH be a scheme which has an ample invertible sheaf. Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is quasi-projective, CASE: MATH is H-quasi-projective, CASE: there exists a quasi-compact open immersion MATH of schemes over MATH with MATH projective, CASE: MATH is of finite type and MATH has an ample invertible sheaf, and CASE: MATH is of finite type and there exists an MATH-very ample invertible sheaf. </CASES>  
LEMMA	  Let MATH be a scheme which has an ample invertible sheaf. Let MATH be the full subcategory of the category of schemes over MATH satisfying the equivalent conditions of Lemma REF. <CASES> CASE: if MATH is a morphism of schemes and MATH has an ample invertible sheaf, then base change determines a functor MATH, CASE: if MATH and MATH, then MATH, CASE: the category MATH is closed under fibre products, CASE: the category MATH is closed under finite disjoint unions, CASE: if MATH is projective, then MATH, CASE: if MATH is quasi-affine of finite type, then MATH is in MATH, CASE: if MATH is quasi-finite and separated, then MATH, CASE: if MATH is a quasi-compact immersion, then MATH, CASE: add more here. </CASES>  
LEMMA	  Let MATH be a quasi-affine scheme. Let MATH be an integral morphism. Then MATH is quasi-affine and the diagram MATH is cartesian.  
LEMMA	  Let MATH be a scheme which has an ample invertible sheaf. Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is projective, CASE: MATH is H-projective, CASE: MATH is quasi-projective and proper, CASE: MATH is H-quasi-projective and proper, CASE: MATH is proper and MATH has an ample invertible sheaf, CASE: MATH is proper and there exists an MATH-ample invertible sheaf, CASE: MATH is proper and there exists an MATH-very ample invertible sheaf, CASE: there is a quasi-coherent graded MATH-algebra MATH generated by MATH over MATH with MATH a finite type MATH-module such that MATH.  </CASES>  
LEMMA	  Let MATH be a scheme which has an ample invertible sheaf. Let MATH be the full subcategory of the category of schemes over MATH satisfying the equivalent conditions of Lemma REF. <CASES> CASE: if MATH is a morphism of schemes and MATH has an ample invertible sheaf, then base change determines a functor MATH, CASE: if MATH and MATH, then MATH, CASE: the category MATH is closed under fibre products, CASE: the category MATH is closed under finite disjoint unions, CASE: if MATH is finite, then MATH is in MATH, CASE: add more here. </CASES>  
LEMMA	  REF Let MATH be a proper morphism of schemes. Let MATH be an invertible MATH-module. Let MATH be a point such that MATH is ample on MATH. Then there is an open neighbourhood MATH of MATH such that MATH is ample on MATH.  
LEMMA	  Let MATH be a ring. Let MATH be a proper scheme over MATH and let MATH be an ample invertible MATH-module. Set MATH. Then MATH and diagram (REF) becomes the diagram MATH having the properties explained above.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a closed subscheme. Let MATH. Assume <CASES> CASE: MATH is irreducible with generic point MATH, CASE: MATH is irreducible, CASE: MATH is dominant, CASE: MATH is locally of finite type, CASE: MATH, CASE: MATH is locally principal in MATH, and CASE: MATH. </CASES> Then the fibre MATH is (set theoretically) a union of irreducible components of MATH.  
LEMMA	  Let MATH be a local homomorphism of local rings, and MATH. Assume <CASES> CASE: MATH and MATH are domains and MATH, CASE: MATH is essentially of finite type over MATH, CASE: MATH is not contained in any minimal prime over MATH, and CASE: MATH. </CASES> Then MATH, i.e., the generic point of MATH is in the image of the morphism MATH.  
LEMMA	  Let MATH be a local homomorphism of local rings. Assume <CASES> CASE: MATH and MATH are domains and MATH, CASE: MATH is essentially of finite type over MATH, and CASE: MATH is flat over MATH. </CASES> Then we have MATH  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a specialization of points in MATH. Set MATH and MATH. Assume <CASES> CASE: MATH is a closed point of MATH, and CASE: MATH is locally of finite type. </CASES> Then the set MATH is dense in the closure of MATH in MATH.  
LEMMA	  Let MATH be a local ring map of local rings. Let MATH be an open subscheme which contains at least one prime not lying over MATH. Assume MATH is Noetherian, MATH essentially of finite type, and MATH is finite. Then there exists a MATH, MATH such that MATH is the localization of a quasi-finite ring map.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH with image MATH. Let MATH be an open subscheme. Assume MATH locally of finite type, MATH locally Noetherian, MATH a closed point of MATH, and assume there exists a point MATH with MATH and MATH. Then there exists a closed subscheme MATH such that (a) MATH, (b) MATH is quasi-finite at MATH, and (c) there exists a MATH, MATH, MATH and MATH.  
LEMMA	  Suppose that MATH is locally of finite type, MATH locally Noetherian, MATH a closed point of its fibre MATH, and MATH an open subscheme such that MATH and MATH, then the conclusions of Lemma REF hold.  
LEMMA	  Let MATH be a scheme. Let MATH be a universally closed and quasi-separated morphism. There exists a factorization MATH with the following properties: <CASES> CASE: the morphism MATH is universally closed, quasi-compact, quasi-separated, and surjective, CASE: the morphism MATH is integral, CASE: we have MATH, CASE: we have MATH, and CASE: MATH is the normalization of MATH in MATH, see Morphisms, Definition REF. </CASES> Formation of the factorization MATH commutes with flat base change.  
LEMMA	  In Lemma REF assume in addition that MATH is locally of finite type. Then for MATH the fibre MATH is finite and the field extensions MATH are finite.  
LEMMA	  Let MATH be a morphism of schemes. Let MATH. Then MATH is geometrically connected, if and only if for every etale neighbourhood MATH the base change MATH has connected fibre MATH.  
THEOM	[Stein factorization; Noetherian case]  Let MATH be a locally Noetherian scheme. Let MATH be a proper morphism. There exists a factorization MATH with the following properties: <CASES> CASE: the morphism MATH is proper with geometrically connected fibres, CASE: the morphism MATH is finite, CASE: we have MATH, CASE: we have MATH, and CASE: MATH is the normalization of MATH in MATH, see Morphisms, Definition REF. </CASES>  
THEOM	[Stein factorization; general case]  Let MATH be a scheme. Let MATH be a proper morphism. There exists a factorization MATH with the following properties: <CASES> CASE: the morphism MATH is proper with geometrically connected fibres, CASE: the morphism MATH is integral, CASE: we have MATH, CASE: we have MATH, and CASE: MATH is the normalization of MATH in MATH, see Morphisms, Definition REF. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Assume <CASES> CASE: MATH is proper, CASE: MATH is integral with generic point MATH, CASE: MATH is normal, CASE: MATH is reduced, CASE: every generic point of an irreducible component of MATH maps to MATH, CASE: we have MATH. </CASES> Then MATH and MATH has geometrically connected fibres.  
LEMMA	  Let MATH be a flat proper morphism of finite presentation. Let MATH be the function on MATH counting the numbers of geometric connected components of fibres of MATH introduced in Lemma REF. Then MATH is lower semi-continuous.  
LEMMA	  Let MATH be a morphism of schemes. Assume <CASES> CASE: MATH is proper, flat, and of finite presentation, and CASE: the geometric fibres of MATH are reduced. </CASES> Then the function MATH counting the numbers of geometric connected components of fibres of MATH is locally constant.  
LEMMA	  REF Let MATH be a henselian pair. Let MATH be separated and of finite type. Set MATH. Let MATH be an open and closed subscheme such that MATH is proper. Then there exists an open and closed subscheme MATH which is proper over MATH with MATH.  
LEMMA	[Generic flatness stratification]  Let MATH be a morphism of finite presentation between quasi-compact and quasi-separated schemes. Let MATH be an MATH-module of finite presentation. Then there exists a MATH and closed subschemes MATH such that MATH is defined by a finite type ideal sheaf, MATH is a thickening, and MATH pulled back to MATH is flat over MATH.  
LEMMA	  Let MATH be a morphism of finite presentation between quasi-compact and quasi-separated schemes. Then there exists a MATH and closed subschemes MATH such that MATH is defined by a finite type ideal sheaf, MATH is a thickening, and MATH is flat over MATH.  
LEMMA	  Let MATH be a Noetherian domain. Let MATH be finite type ring maps. Let MATH be a finite MATH-module and let MATH a finite MATH-module. Let MATH be an MATH-linear map. There exists an nonzero MATH such that the cokernel of MATH is a flat MATH-module.  
LEMMA	  Let MATH be a quasi-compact and quasi-separated scheme. Let MATH be a morphism of schemes over MATH with both MATH and MATH of finite presentation over MATH. Then there exists a MATH and closed subschemes MATH with the following properties: <CASES> CASE: MATH is defined by a finite type ideal sheaf, CASE: MATH is a thickening, and CASE: with MATH and MATH the base change of MATH to MATH we have: formation of the scheme theoretic image of MATH commutes with arbitrary base change (see discussion above the lemma). </CASES>  
LEMMA	  Let MATH be a morphism of schemes of finite presentation. Let MATH be a generic point of an irreducible component of MATH. Assume MATH is reduced. Then there exist <CASES> CASE: an open subscheme MATH containing MATH, CASE: a surjective, universally injective, finite locally free morphism MATH, CASE: a MATH and closed subschemes MATH such that MATH is defined by a finite type ideal sheaf, MATH is a thickening, and such that the morphism MATH is smooth. </CASES>  
LEMMA	  Let MATH be a morphism of finite presentation between quasi-compact and quasi-separated schemes. Then there exists a MATH and closed subschemes MATH such that <CASES> CASE: MATH is defined by a finite type ideal sheaf, CASE: MATH is a thickening, CASE: for each MATH there exists a surjective finite locally free morphism MATH, CASE: for each MATH there exists a MATH and closed subschemes MATH such that MATH is defined by a finite type ideal sheaf, MATH is a thickening, and such that the morphism MATH is smooth. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Let MATH be a generic point of an irreducible component of MATH. Assume MATH is separated, of finite presentation, and MATH. Then there exists a commutative diagram MATH of schemes with the following properties: <CASES> CASE: MATH is an open neighbourhood of MATH, CASE: MATH is a finite, surjective, universally injective morphism, CASE: MATH and MATH are the base changes, CASE: MATH is finite, surjective, and there is an open MATH such that <CASES> CASE: MATH is dense in all fibres of MATH, CASE: MATH is dense in all fibres of MATH, and CASE: MATH is a thickening, </CASES> CASE: MATH is an open immersion, CASE: MATH is finite etale, CASE: MATH is surjective and smooth, CASE: MATH is smooth, proper, with geometrically connected fibres of dimension MATH. </CASES>  
LEMMA	  Let MATH be a scheme. Let MATH be an fppf covering, see Topologies, Definition REF. Let MATH be a descent datum relative to MATH. If each morphism MATH is separated and locally quasi-finite, then the descent datum is effective.  
DEFNN	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be a quasi-coherent MATH-module. We say MATH is finitely presented relative to MATH or of finite presentation relative to MATH if there exists an affine open covering MATH and for every MATH an affine open covering MATH such that MATH is a MATH-module of finite presentation relative to MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be a quasi-coherent MATH-module. The following are equivalent <CASES> CASE: MATH is of finite presentation relative to MATH, CASE: for every affine opens MATH, MATH with MATH the MATH-module MATH is finitely presented relative to MATH. </CASES> Moreover, if this is true, then for every open subschemes MATH and MATH with MATH the restriction MATH is of finite presentation relative to MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be a quasi-coherent MATH-module. <CASES> CASE: If MATH is locally of finite presentation, then MATH is of finite presentation relative to MATH if and only if MATH is of finite presentation. CASE: The morphism MATH is locally of finite presentation if and only if MATH is of finite presentation relative to MATH. </CASES>  
LEMMA	  Let MATH be a finite morphism of schemes locally of finite type over a base scheme MATH. Let MATH be a quasi-coherent MATH-module. Then MATH is of finite presentation relative to MATH if and only if MATH is of finite presentation relative to MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be a quasi-coherent MATH-module. Let MATH be a morphism of schemes, set MATH and denote MATH the pullback of MATH to MATH. If MATH is of finite presentation relative to MATH, then MATH is of finite presentation relative to MATH.  
LEMMA	  Let MATH be morphisms of schemes which are locally of finite type. Let MATH be a quasi-coherent MATH-module. If MATH is locally of finite presentation and MATH of finite presentation relative to MATH, then MATH is of finite presentation relative to MATH.  
LEMMA	  Let MATH be morphisms of schemes which are locally of finite type. Let MATH be a quasi-coherent MATH-module. If MATH is locally of finite presentation and MATH is of finite presentation relative to MATH, then MATH is of finite presentation relative to MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be a short exact sequence of quasi-coherent MATH-modules. <CASES> CASE: If MATH are finitely presented relative to MATH, then so is MATH. CASE: If MATH is a finite type MATH-module and MATH is finitely presented relative to MATH, then MATH is finitely presented relative to MATH. </CASES>  
LEMMA	  [ A direct summand of a module inherits the property of being finitely presented relative to a base. ] Let MATH be a morphism of schemes which is locally of finite type. Let MATH be quasi-coherent MATH-modules. If MATH is finitely presented relative to MATH, then so are MATH and MATH.  
LEMMA	  Let MATH be a finite type morphism of affine schemes. Let MATH be an object of MATH. Let MATH. The following are equivalent <CASES> CASE: for some closed immersion MATH the object MATH of MATH is MATH-pseudo-coherent, and CASE: for all closed immersions MATH the object MATH of MATH is MATH-pseudo-coherent. </CASES>  
DEFNN	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be an object of MATH. Let MATH be an MATH-module. Fix MATH. <CASES> CASE: We say MATH is MATH-pseudo-coherent relative to MATH if there exists an affine open covering MATH and for each MATH an affine open covering MATH such that the equivalent conditions of Lemma REF are satisfied for each of the pairs MATH. CASE: We say MATH is pseudo-coherent relative to MATH if MATH is MATH-pseudo-coherent relative to MATH for all MATH. CASE: We say MATH is MATH-pseudo-coherent relative to MATH if MATH viewed as an object of MATH is MATH-pseudo-coherent relative to MATH. CASE: We say MATH is pseudo-coherent relative to MATH if MATH viewed as an object of MATH is pseudo-coherent relative to MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. If MATH in MATH is MATH-pseudo-coherent relative to MATH, then MATH is a quasi-coherent MATH-module for MATH. If MATH is pseudo-coherent relative to MATH, then MATH is an object of MATH.  
LEMMA	  Let MATH be an affine scheme. Let MATH be a standard open. Let MATH be a finite type morphism of affine schemes. Let MATH be an affine open. Let MATH be an object of MATH. If the equivalent conditions of Lemma REF are satisfied for the pair MATH, then the equivalent conditions of Lemma REF are satisfied for the pair MATH.  
LEMMA	  Let MATH be a finite type morphism of affine schemes. Let MATH be an object of MATH. Let MATH. Let MATH be a standard affine open covering. The following are equivalent <CASES> CASE: the equivalent conditions of Lemma REF hold for the pairs MATH, CASE: the equivalent conditions of Lemma REF hold for the pair MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be an object of MATH. Fix MATH. The following are equivalent <CASES> CASE: MATH is MATH-pseudo-coherent relative to MATH, CASE: for every affine opens MATH and MATH with MATH the equivalent conditions of Lemma REF are satisfied for the pair MATH. </CASES> Moreover, if this is true, then for every open subschemes MATH and MATH with MATH the restriction MATH is MATH-pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be an object of MATH. Fix MATH. The following are equivalent <CASES> CASE: MATH is MATH-pseudo-coherent relative to MATH, CASE: there exists an affine open covering MATH and for each MATH an affine open covering MATH such that the complex of MATH-modules MATH is MATH-pseudo-coherent relative to MATH, and CASE: for every affine opens MATH and MATH with MATH the complex of MATH-modules MATH is MATH-pseudo-coherent relative to MATH. </CASES>  
LEMMA	  Let MATH morphism of schemes locally of finite type over a base scheme MATH. Assume that MATH induces a homeomorphism of MATH with a closed subset of MATH. Let MATH be an object of MATH. Then MATH is MATH-pseudo-coherent relative to MATH if and only if MATH is MATH-pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be a finite morphism of schemes locally of finite type over a base scheme MATH. Let MATH be an object of MATH. Then MATH is MATH-pseudo-coherent relative to MATH if and only if MATH is MATH-pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be a distinguished triangle of MATH. Let MATH. <CASES> CASE: If MATH is MATH-pseudo-coherent relative to MATH and MATH is MATH-pseudo-coherent relative to MATH then MATH is MATH-pseudo-coherent relative to MATH. CASE: If MATH are MATH-pseudo-coherent relative to MATH, then MATH is MATH-pseudo-coherent relative to MATH. CASE: If MATH is MATH-pseudo-coherent relative to MATH and MATH is MATH-pseudo-coherent relative to MATH, then MATH is MATH-pseudo-coherent relative to MATH. </CASES> Moreover, if two out of three of MATH are pseudo-coherent relative to MATH, the so is the third.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH be an MATH-module. Then <CASES> CASE: MATH is MATH-pseudo-coherent relative to MATH for all MATH, CASE: MATH is MATH-pseudo-coherent relative to MATH if and only if MATH is a finite type MATH-module, CASE: MATH is MATH-pseudo-coherent relative to MATH if and only if MATH is quasi-coherent and finitely presented relative to MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH. Let MATH be objects of MATH. If MATH is MATH-pseudo-coherent relative to MATH so are MATH and MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH. Let MATH be a (locally) bounded above complex of MATH-modules such that MATH is MATH-pseudo-coherent relative to MATH for all MATH. Then MATH is MATH-pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH. Let MATH be an object of MATH. If MATH is (locally) bounded above and MATH is MATH-pseudo-coherent relative to MATH for all MATH, then MATH is MATH-pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. Let MATH. Let MATH be an object of MATH which is MATH-pseudo-coherent relative to MATH. Let MATH be a morphism of schemes. Set MATH and denote MATH the derived pullback of MATH to MATH. If MATH and MATH are Tor independent over MATH, then MATH is MATH-pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be a morphism of schemes locally of finite type over a base MATH. Let MATH. Let MATH be an object of MATH. Assume <CASES> CASE: MATH is pseudo-coherent relative to MATH, and CASE: MATH is MATH-pseudo-coherent relative to MATH. </CASES> Then MATH is MATH-pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be a morphism of schemes locally of finite type over a base MATH. Let MATH. Let MATH be an object of MATH. Assume MATH is pseudo-coherent relative to MATH. Then the following are equivalent <CASES> CASE: MATH is MATH-pseudo-coherent relative to MATH, and CASE: MATH is MATH-pseudo-coherent relative to MATH. </CASES>  
LEMMA	  Let MATH be a commutative diagram of schemes. Assume MATH is a closed immersion and MATH flat and locally of finite presentation. Let MATH be an object of MATH. Then the following are equivalent <CASES> CASE: MATH is MATH-pseudo-coherent relative to MATH, CASE: MATH is MATH-pseudo-coherent relative to MATH, and CASE: MATH is MATH-pseudo-coherent on MATH. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: there exist an affine open covering MATH and for each MATH an affine open covering MATH such that MATH is a pseudo-coherent ring map, CASE: for every pair of affine opens MATH, MATH such that MATH the ring map MATH is pseudo-coherent, and CASE: MATH is locally of finite type and MATH is pseudo-coherent relative to MATH. </CASES>  
DEFNN	  A morphism of schemes MATH is called pseudo-coherent if the equivalent conditions of Lemma REF are satisfied. In this case we also say that MATH is pseudo-coherent over MATH.  
LEMMA	  A flat base change of a pseudo-coherent morphism is pseudo-coherent.  
LEMMA	  A composition of pseudo-coherent morphisms of schemes is pseudo-coherent.  
LEMMA	  A pseudo-coherent morphism is locally of finite presentation.  
LEMMA	  A flat morphism which is locally of finite presentation is pseudo-coherent.  
LEMMA	  Let MATH be a morphism of schemes pseudo-coherent over a base scheme MATH. Then MATH is pseudo-coherent.  
LEMMA	  Let MATH be a finite morphism of schemes. Then MATH is pseudo-coherent if and only if MATH is pseudo-coherent as an MATH-module.  
LEMMA	  Let MATH be a morphism of schemes. If MATH is locally Noetherian, then MATH is pseudo-coherent if and only if MATH is locally of finite type.  
LEMMA	  The property MATH``MATH is pseudo-coherent'' is fpqc local on the base.  
LEMMA	  Let MATH be a flat ring map of finite presentation. Let MATH be an ideal. Then MATH is pseudo-coherent if and only if MATH is pseudo-coherent as a MATH-module.  
LEMMA	  The property MATH``MATH is pseudo-coherent'' is syntomic local on the source.  
LEMMA	  The property MATH``MATH is pseudo-coherent'' is fppf local on the source.  
LEMMA	  Let MATH be a morphism of schemes which is locally of finite type. The following are equivalent <CASES> CASE: there exist an affine open covering MATH and for each MATH an affine open covering MATH such that MATH is a perfect ring map, and CASE: for every pair of affine opens MATH, MATH such that MATH the ring map MATH is perfect. </CASES>  
DEFNN	  A morphism of schemes MATH is called perfect if the equivalent conditions of Lemma REF are satisfied. In this case we also say that MATH is perfect over MATH.  
LEMMA	  A flat base change of a perfect morphism is perfect.  
LEMMA	  A composition of perfect morphisms of schemes is perfect.  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is flat and perfect, and CASE: MATH is flat and locally of finite presentation. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH is regular and MATH is locally of finite type. Then MATH is perfect.  
LEMMA	  A regular immersion of schemes is perfect. A Koszul-regular immersion of schemes is perfect.  
LEMMA	  Let MATH be a commutative diagram of morphisms of schemes. Assume MATH smooth and MATH perfect. Then MATH is perfect.  
LEMMA	  The property MATH``MATH is perfect'' is fpqc local on the base.  
LEMMA	  Let MATH be a pseudo-coherent morphism of schemes. The following are equivalent <CASES> CASE: MATH is perfect, CASE: MATH locally has finite tor dimension as a sheaf of MATH-modules, and CASE: for all MATH the ring MATH has finite tor dimension as an MATH-module. </CASES>  
LEMMA	  Let MATH be a perfect closed immersion of schemes. Then MATH is a perfect MATH-module, i.e., it is a perfect object of MATH.  
LEMMA	  Let MATH be a Noetherian scheme. Let MATH be a perfect proper morphism of schemes. Let MATH be perfect. Then MATH is a perfect object of MATH.  
LEMMA	  The property MATH``MATH is perfect'' is fppf local on the source.  
LEMMA	  Let MATH and MATH be immersions of schemes. Assume <CASES> CASE: MATH is locally Noetherian, CASE: MATH is a regular immersion, and CASE: MATH is perfect. </CASES> Then MATH and MATH are regular immersions.  
LEMMA	  Let MATH be a scheme. Let MATH, MATH, MATH be schemes over MATH. Let MATH. Let MATH, MATH be immersions over MATH. Assume MATH and MATH smooth over MATH. Then the following are equivalent <CASES> CASE: MATH is a Koszul-regular immersion in a neighbourhood of MATH, and CASE: MATH is a Koszul-regular immersion in a neighbourhood of MATH. </CASES>  
DEFNN	  Let MATH be a morphism of schemes. <CASES> CASE: Let MATH. We say that MATH is Koszul at MATH if MATH is of finite type at MATH and there exists an open neighbourhood and a factorization of MATH as MATH where MATH is a Koszul-regular immersion and MATH is smooth. CASE: We say MATH is a Koszul morphism, or that MATH is a local complete intersection morphism if MATH is Koszul at every point. </CASES>  
LEMMA	  Let MATH be a local complete intersection morphism. Let MATH be a scheme smooth over MATH. Let MATH be an open subscheme and MATH an immersion of schemes over MATH. Then MATH is a Koszul-regular immersion.  
LEMMA	  Let MATH be a local complete intersection morphism. Then <CASES> CASE: MATH is locally of finite presentation, CASE: MATH is pseudo-coherent, and CASE: MATH is perfect. </CASES>  
LEMMA	  Let MATH be a morphism of affine schemes. Then MATH is a local complete intersection morphism if and only if MATH is a local complete intersection homomorphism, see More on Algebra, Definition REF.  
LEMMA	  A flat base change of a local complete intersection morphism is a local complete intersection morphism.  
LEMMA	  A composition of local complete intersection morphisms is a local complete intersection morphism.  
LEMMA	  [ A morphism is flat and lci if and only if it is syntomic. ] Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is flat and a local complete intersection morphism, and CASE: MATH is syntomic. </CASES>  
LEMMA	  A regular immersion of schemes is a local complete intersection morphism. A Koszul-regular immersion of schemes is a local complete intersection morphism.  
LEMMA	  Let MATH be a commutative diagram of morphisms of schemes. Assume MATH smooth and MATH is a local complete intersection morphism. Then MATH is a local complete intersection morphism.  
LEMMA	  Let MATH be a morphism of schemes. If MATH is locally of finite type and MATH and MATH are regular, then MATH is a local complete intersection morphism.  
LEMMA	  Let MATH be a commutative diagram of morphisms of schemes. Assume <CASES> CASE: MATH is locally Noetherian, CASE: MATH is locally of finite type, CASE: MATH is perfect, CASE: MATH is a local complete intersection morphism. </CASES> Then MATH is a local complete intersection morphism and MATH is Koszul at MATH for all MATH.  
LEMMA	  Let MATH be a commutative diagram of morphisms of schemes. Assume MATH is locally Noetherian, MATH is locally of finite type, MATH is regular, and MATH is a local complete intersection morphism. Then MATH is a local complete intersection morphism and MATH is Koszul at MATH for all MATH.  
LEMMA	  Let MATH be an immersion. If <CASES> CASE: MATH is perfect, CASE: MATH is locally Noetherian, and CASE: the conormal sheaf MATH is finite locally free, </CASES> then MATH is a regular immersion.  
LEMMA	  Let MATH be a local complete intersection homomorphism. Then the naive cotangent complex MATH is a perfect object of MATH of tor-amplitude in MATH.  
LEMMA	  Let MATH be a perfect morphism of locally Noetherian schemes. The following are equivalent <CASES> CASE: MATH is a local complete intersection morphism, CASE: MATH has tor-amplitude in MATH, and CASE: MATH is perfect with tor-amplitude in MATH. </CASES>  
LEMMA	  Let MATH be a flat morphism of finite presentation. The following are equivalent <CASES> CASE: MATH is a local complete intersection morphism, CASE: MATH is syntomic, CASE: MATH has tor-amplitude in MATH, and CASE: MATH is perfect with tor-amplitude in MATH. </CASES>  
LEMMA	  Let MATH be a finite type morphism of locally Noetherian schemes. Denote MATH the diagonal morphism. The following are equivalent <CASES> CASE: MATH is smooth, CASE: MATH is flat and MATH is a regular immersion, CASE: MATH is flat and MATH is a local complete intersection morphism, CASE: MATH is flat and MATH is perfect. </CASES>  
LEMMA	  The property MATH``MATH is a local complete intersection morphism'' is fpqc local on the base.  
LEMMA	  The property MATH``MATH is a local complete intersection morphism'' is syntomic local on the source.  
LEMMA	  Let MATH be a scheme. Let MATH be a morphism of schemes over MATH. Assume both MATH and MATH are flat and locally of finite presentation over MATH. Then the set MATH is open in MATH and its formation commutes with arbitrary base change MATH.  
LEMMA	  Let MATH be a local complete intersection morphism of schemes. Then MATH is unramified if and only if MATH is formally unramified and in this case the conormal sheaf MATH is finite locally free on MATH.  
LEMMA	  Let MATH be formally unramified morphisms of schemes. Assume that MATH is a local complete intersection morphism. The exact sequence MATH of Lemma REF is short exact.  
DEFNN	  A morphism of schemes MATH is weakly etale or absolutely flat if both MATH and the diagonal morphism MATH are flat.  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is weakly etale, and CASE: for every MATH the ring map MATH is weakly etale. </CASES>  
LEMMA	  Let MATH be a morphism of schemes such that MATH is flat. Let MATH be an MATH-module. If MATH is flat over MATH, then MATH is flat over MATH.  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: The morphism MATH is weakly etale. CASE: For every affine opens MATH, MATH with MATH the ring map MATH is weakly etale. CASE: There exists an open covering MATH and open coverings MATH such that each of the morphisms MATH, MATH is weakly etale. CASE: There exists an affine open covering MATH and affine open coverings MATH such that the ring map MATH is of weakly etale, for all MATH. </CASES> Moreover, if MATH is weakly etale then for any open subschemes MATH, MATH with MATH the restriction MATH is weakly-etale.  
LEMMA	  Let MATH be morphisms of schemes. <CASES> CASE: If MATH and MATH are flat, then MATH is flat. CASE: If MATH and MATH are weakly etale, then MATH is weakly etale. </CASES>  
LEMMA	  Let MATH and MATH be morphisms of schemes and let MATH be the base change of MATH. <CASES> CASE: If MATH is flat, then MATH is flat. CASE: If MATH is weakly etale, then MATH is weakly etale. </CASES>  
LEMMA	  Let MATH be morphisms of schemes. Assume that MATH is flat and surjective and that MATH is flat. Then MATH is flat.  
LEMMA	  Let MATH be a weakly etale morphism of schemes. Then MATH is formally unramified, i.e., MATH.  
LEMMA	  Let MATH be a morphism of schemes. Then MATH is weakly etale in each of the following cases <CASES> CASE: MATH is a flat monomorphism, CASE: MATH is an open immersion, CASE: MATH is flat and unramified, CASE: MATH is etale. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. If MATH is reduced and MATH weakly etale, then MATH is reduced.  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is weakly etale, and CASE: for MATH the local ring map MATH induces an isomorphism on strict henselizations. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. If MATH is a normal scheme and MATH weakly etale, then MATH is a normal scheme.  
LEMMA	  Let MATH be a scheme. Let MATH be a morphism of schemes over MATH. If MATH, MATH are weakly etale over MATH, then MATH is weakly etale.  
LEMMA	  Let MATH be a morphism of schemes. If MATH is weakly etale and a universal homeomorphism, it is an isomorphism.   
LEMMA	  Let MATH be a weakly etale morphism of schemes where MATH is a scheme in characteristic MATH. Then the relative Frobenius MATH is an isomorphism.  
THEOM	  Let MATH be a Dedekind ring with fraction field MATH. Let MATH be a scheme flat and of finite type over MATH. Assume MATH is a Nagata ring. There exists a finite extension MATH such that the normalized base change MATH is smooth over MATH at all generic points of all fibres.  
LEMMA	[Variant over curves]  Let MATH be a flat, finite type morphism of schemes. Assume MATH is Nagata, integral with function field MATH, and regular of dimension MATH. Then there exists a finite extension MATH such that in the diagram MATH the morphism MATH is smooth at all generic points of fibres. Here MATH is the normalization of MATH in MATH and MATH is the normalization.  
LEMMA	[Variant with separable extension]  Let MATH be a Dedekind ring with fraction field MATH. Let MATH be a scheme flat and of finite type over MATH. Assume MATH is a Nagata ring and that for every generic point MATH of an irreducible component of MATH the field extension MATH is separable. Then there exists a finite separable extension MATH such that the normalized base change MATH is smooth over MATH at all generic points of all fibres.  
LEMMA	[Variant with separable extensions over curves]  Let MATH be a flat, finite type morphism of schemes. Assume MATH is Nagata, integral with function field MATH, and regular of dimension MATH. Assume the field extensions MATH are separable for every generic point MATH of an irreducible component of MATH. Then there exists a finite separable extension MATH such that in the diagram MATH the morphism MATH is smooth at all generic points of fibres. Here MATH is the normalization of MATH in MATH and MATH is the normalization.  
DEFNN	  A scheme MATH is ind-quasi-affine if every quasi-compact open of MATH is quasi-affine. Similarly, a morphism of schemes MATH is ind-quasi-affine if MATH is ind-quasi-affine for each affine open MATH in MATH.  
LEMMA	  For a morphism of schemes MATH, the following are equivalent: <CASES> CASE: MATH is ind-quasi-affine, CASE: for every affine open subscheme MATH and every quasi-compact open subscheme MATH, the induced morphism MATH is quasi-affine.  CASE: for some cover MATH of MATH by quasi-compact and quasi-separated open subschemes MATH, every MATH, and every quasi-compact open subscheme MATH, the induced morphism MATH is quasi-affine. CASE: for every quasi-compact and quasi-separated open subscheme MATH and every quasi-compact open subscheme MATH, the induced morphism MATH is quasi-affine. </CASES> In particular, the property of being an ind-quasi-affine morphism is Zariski local on the base.  
LEMMA	  The property of being an ind-quasi-affine morphism is stable under composition.  
LEMMA	  Any quasi-affine morphism is ind-quasi-affine. Any immersion is ind-quasi-affine.  
LEMMA	  If MATH and MATH are morphisms of schemes such that MATH is ind-quasi-affine, then MATH is ind-quasi-affine.  
LEMMA	  The property of being ind-quasi-affine is stable under base change.  
LEMMA	  The property of being ind-quasi-affine is fpqc local on the base.  
LEMMA	  A separated locally quasi-finite morphism of schemes is ind-quasi-affine.  
LEMMA	  In Situation REF then for MATH there exist affine opens MATH and MATH with MATH and MATH.  
PROPN	  REF In Situation REF the pushout MATH exists in the category of schemes. Picture MATH The diagram is a fibre square, the morphism MATH is integral, the morphism MATH is a closed immersion, and MATH as sheaves of rings where MATH.  
LEMMA	  In Situation REF. If MATH and MATH are separated, then the pushout MATH (Proposition REF) is separated. Same with ``separated over MATH'', ``quasi-separated'', and ``quasi-separated over MATH''.  
LEMMA	  In Situation REF assume MATH is a locally Noetherian scheme and MATH, MATH, and MATH are locally of finite type over MATH. Then the pushout MATH (Proposition REF) is locally of finite type over MATH.  
LEMMA	  In Situation REF suppose given a commutative diagram MATH with cartesian squares and MATH separated and locally quasi-finite. Then <CASES> CASE: the pushouts MATH and MATH exist, CASE: MATH is separated and locally quasi-finite, and CASE: the squares MATH are cartesian. </CASES>  
LEMMA	  In Situation REF the category of schemes flat, separated, and locally quasi-finite over the pushout MATH is equivalent to the category of MATH as in Lemma REF with MATH flat. Similarly with ``flat'' replaced with ``etale''.  
LEMMA	  Let MATH and MATH be closed immersions of schemes. Then the pushout MATH exists in the category of schemes. Picture MATH The diagram is a fibre square, the morphisms MATH and MATH are closed immersions, and there is a short exact sequence MATH where MATH.  
LEMMA	  Let MATH and MATH be closed immersions of schemes. Let MATH and MATH be morphisms of schemes and let MATH be an isomorphism of schemes over MATH. Consider the morphism MATH Then we have <CASES> CASE: MATH is locally of finite type if and only if MATH and MATH are locally of finite type, CASE: MATH is flat if and only if MATH and MATH are flat, CASE: MATH is flat and locally of finite presentation if and only if MATH and MATH are flat and locally of finite presentation, CASE: MATH is smooth if and only if MATH and MATH are smooth, CASE: MATH is etale if and only if MATH and MATH are etale, and CASE: add more here as needed. </CASES>  
LEMMA	  Let MATH and MATH be morphisms of affine schemes. Assume MATH is a finite free MATH-module. Then MATH is representable by an affine scheme over MATH.  
LEMMA	  Let MATH and MATH be morphisms of schemes. If MATH is finite locally free and MATH is affine, then MATH is representable by a scheme affine over MATH.  
LEMMA	  Let MATH and MATH be morphisms of schemes. Assume <CASES> CASE: MATH is finite locally free, and CASE: for all MATH where MATH and MATH there exists an affine open MATH with MATH. </CASES> Then MATH is representable by a scheme.  
LEMMA	  Let MATH and MATH be morphisms of schemes. Assume MATH is finite locally free and MATH is separated and locally quasi-finite. Then MATH is representable by a scheme.  
LEMMA	  Consider a commutative diagram of schemes MATH Let MATH be a morphism. Denote by MATH and MATH the base changes of MATH and MATH to MATH. Assume MATH and MATH are flat. Then MATH and MATH are Tor independent over MATH.  
LEMMA	[Derived Chow's lemma]  Let MATH be a ring. Let MATH be a separated scheme of finite presentation over MATH. Let MATH. Then there exist an open neighbourhood MATH of MATH, an MATH, an open MATH, a closed subscheme MATH, a point MATH, and an object MATH in MATH such that <CASES> CASE: MATH is of finite presentation, CASE: MATH is an isomorphism over MATH and MATH, CASE: MATH is a closed immersion over MATH, CASE: MATH, in particular MATH, CASE: MATH, CASE: MATH is pseudo-coherent and supported on MATH. </CASES>  
LEMMA	  Let MATH, MATH, and MATH be as in Lemma REF. For any MATH we have MATH where MATH and MATH are the projections and where the morphism MATH is the finitely presented closed immersion MATH.  
LEMMA	  Let MATH be a ring. Let MATH be a scheme separated and of finite presentation over MATH. Let MATH. If MATH is pseudo-coherent in MATH for every pseudo-coherent MATH in MATH, then MATH is pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be a ring. Let MATH be a scheme separated and of finite presentation over MATH. Let  MATH If  MATH is pseudo-coherent in MATH for every perfect  MATH, then MATH is pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be a ring. Let MATH be a scheme separated, of finite presentation, and flat over MATH. Let  MATH If  MATH is perfect in MATH for every perfect MATH, then MATH is MATH-perfect.  
LEMMA	  Let MATH be locally of finite type. Let MATH be an fppf covering of schemes. Let MATH. Let MATH. Then MATH is MATH-pseudo-coherent relative to MATH if and only if each MATH is MATH-pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be morphisms of schemes. Assume MATH is flat and locally of finite presentation and MATH locally of finite type. Let MATH. Let MATH. Then MATH is MATH-pseudo-coherent relative to MATH if and only if MATH is MATH-pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be locally of finite type. Let MATH be an fppf covering of schemes. Denote MATH the base change of MATH and MATH the projection. Let MATH. Let MATH. Then MATH is MATH-pseudo-coherent relative to MATH if and only if each MATH is MATH-pseudo-coherent relative to MATH.  
LEMMA	  Let MATH be a finite order thickening of schemes. Let MATH be an object such that MATH is pseudo-coherent. Then MATH is pseudo-coherent.  
LEMMA	  Consider a cartesian diagram MATH of schemes. Assume MATH is flat and locally of finite presentation and MATH is a finite order thickening. Let MATH. If MATH is MATH-perfect, then MATH is MATH-perfect.  
LEMMA	  Let MATH be a pair consisting of a ring and an ideal MATH contained in the Jacobson radical. Set MATH and MATH. Let MATH be proper, flat, and of finite presentation. Denote MATH. Let MATH be pseudo-coherent. If the derived restriction MATH of MATH to MATH is MATH-perfect, then MATH is MATH-perfect.  
LEMMA	  Let MATH be a proper morphism of schemes. Let MATH be a point with MATH. If <CASES> CASE: MATH, or more generally CASE: there is a morphism MATH such that MATH is in the image of MATH and such that MATH where MATH is the base change of MATH by MATH. </CASES> Then MATH.  
LEMMA	  Let MATH be a proper morphism of schemes. Let MATH be a point with MATH and MATH. Then there is an open neighbourhood MATH of MATH such that MATH and the same is true after base change by any MATH.  
LEMMA	  Let MATH be a proper morphism of schemes such that MATH and MATH for all MATH. Let MATH be quasi-coherent on MATH. Then <CASES> CASE: MATH for MATH, and CASE: MATH if there is a surjection MATH with MATH quasi-coherent on MATH. </CASES> If MATH is affine, then we also have <CASES> CASE: MATH for MATH, and CASE: MATH if MATH is globally generated. </CASES>  
LEMMA	  Let MATH be a proper morphism of schemes. Assume <CASES> CASE: for all MATH we have MATH and MATH, and CASE: MATH is surjective. </CASES> Then MATH is surjective for any base change MATH of MATH.  
LEMMA	  Consider a commutative diagram MATH of morphisms of schemes. Let MATH be a point. Assume <CASES> CASE: MATH is locally of finite presentation and flat at points of MATH, CASE: MATH is proper, CASE: the fibres of MATH have dimension MATH and MATH, CASE: MATH is surjective. </CASES> Then there is an open MATH such that (a) MATH is flat over MATH, (b) MATH for MATH, (c) MATH, (d) MATH is surjective, and (b), (c), and (d) remain true after base change by any MATH.  
LEMMA	  Consider a commutative diagram MATH of morphisms of schemes. Assume MATH is flat, MATH is proper, MATH for MATH, and MATH. Then MATH is MATH-flat and formation of MATH commutes with arbitrary base change MATH.  
LEMMA	  Consider a commutative diagram MATH of morphisms of schemes. Let MATH be a point. Assume <CASES> CASE: MATH is locally of finite presentation and flat at points of MATH, CASE: MATH is locally of finite presentation, CASE: MATH is proper, CASE: the fibres of MATH have dimension MATH and MATH, CASE: MATH is an isomorphism. </CASES> Then there is an open MATH such that (a) MATH is flat over MATH, (b) MATH is flat over MATH, (c) MATH for MATH, (d) MATH, (e) MATH is an isomorphism, and (a) -- (e) remain true after base change of MATH by any MATH.  
LEMMA	  Let MATH be a proper morphism of Noetherian schemes such that MATH, such that the fibres of MATH have dimension MATH, and such that MATH for MATH. Then MATH is a bijection onto the subgroup of MATH with MATH for all MATH.  
DEFNN	  Let MATH be a scheme. An affine stratification is a locally finite stratification MATH whose strata MATH are affine and such that the inclusion morphisms MATH are affine.  
LEMMA	  Let MATH be a scheme. Let MATH be a finite affine stratification. There exists an affine stratification with index set MATH where MATH is the length of MATH.  
LEMMA	  Let MATH be a scheme. The following are equivalent <CASES> CASE: MATH has a finite affine stratification, and CASE: MATH is quasi-compact and quasi-separated. </CASES>  
DEFNN	  Let MATH be a nonempty quasi-compact and quasi-separated scheme. The affine stratification number is the smallest integer MATH such that the following equivalent conditions are satisfied <CASES> CASE: there exists a finite affine stratification MATH where MATH has length MATH, CASE: there exists an affine stratification MATH with index set MATH. </CASES>  
LEMMA	  Let MATH be a separated scheme which has an open covering by MATH affines. Then the affine stratification number of MATH is at most MATH.  
LEMMA	  Let MATH be a Noetherian scheme of dimension MATH. Then the affine stratification number of MATH is at most MATH.  
PROPN	  Let MATH be a nonempty quasi-compact and quasi-separated scheme with affine stratification number MATH. Then MATH, MATH for every quasi-coherent MATH-module MATH.  
LEMMA	  Let MATH be a morphism of schemes. The following are equivalent <CASES> CASE: MATH is universally open, CASE: for every morphism MATH which is locally of finite presentation the base change MATH is open, and CASE: for every MATH the morphism MATH is open. </CASES>  
LEMMA	  Let MATH be a morphism of schemes. If <CASES> CASE: MATH is locally quasi-finite, CASE: MATH is geometrically unibranch and locally Noetherian, and CASE: every irreducible component of MATH dominates an irreducible component of MATH, </CASES> then MATH is universally open.  
LEMMA	  Let MATH be a ring map. Say MATH is generated as an MATH-module by MATH. Set MATH. Then MATH is universally open if and only if the image of MATH in MATH is open.  
LEMMA	  Let MATH be a limit of a directed system of schemes with affine transition morphisms. Let MATH and let MATH be a morphism of schemes over MATH. Assume MATH, MATH, MATH are quasi-compact and quasi-separated. Let MATH be the base change of MATH to MATH and let MATH be the base change of MATH to MATH. If <CASES> CASE: MATH is locally quasi-finite and universally open, and CASE: MATH is locally of finite presentation, </CASES> then there exists an MATH such that MATH is locally quasi-finite and universally open.  
LEMMA	  Let MATH be a locally quasi-finite morphism. Then <CASES> CASE: the functions MATH of Lemmas REF and REF agree, CASE: if MATH is quasi-compact, then MATH attains a maximum MATH. </CASES>  
LEMMA	  Let MATH be a separated, locally quasi-finite, and universally open morphism of schemes. Let MATH be as in Lemma REF. If MATH for some MATH and MATH, then MATH in an open neighbourhood of MATH.  
LEMMA	  Let MATH be a separated, locally quasi-finite, and universally open morphism of schemes. Let MATH be as in Lemma REF. If MATH attains a maximum MATH, then the set MATH is open in MATH and the morphism MATH is finite.  
LEMMA	  Given a cartesian square MATH with MATH locally quasi-finite with finite fibres and a function MATH we have MATH.  
DEFNN	  Let MATH be a locally quasi-finite morphism. A weighting or a ponderation of MATH is a map MATH such that for any diagram MATH where MATH is etale, MATH is open, and MATH finite, the function MATH is locally constant.  
LEMMA	  Let MATH be a locally quasi-finite morphism. Let MATH be a weighting. Let MATH be the base change of MATH by a morphism MATH. Then the composition MATH of MATH and the projection MATH is a weighting of MATH.  
LEMMA	  Let MATH be a locally quasi-finite morphism. Let MATH be a weighting of MATH. If MATH is open, then MATH is a weighting of MATH.  
LEMMA	  Let MATH and MATH be locally quasi-finite morphisms. Let MATH be a weighting of MATH and let MATH be a weighting of MATH. Then the function MATH is a weighting of MATH.  
LEMMA	  Let MATH be a locally quasi-finite morphism. Let MATH be a weighting. If MATH for all MATH, then MATH is universally open.  
LEMMA	  Let MATH be a morphism of schemes. Assume MATH is locally quasi-finite, locally of finite presentation, and flat. Then there is a positive weighting MATH of MATH given by the rule that sends MATH lying over MATH to MATH where MATH is the inseparable degree (Fields, Definition REF).  
LEMMA	  Let MATH be a morphism of schemes. Assume <CASES> CASE: MATH is locally quasi-finite, and CASE: MATH is geometrically unibranch and locally Noetherian. </CASES> Then there is a weighting MATH given by the rule that sends MATH lying over MATH to the ``generic separable degree'' of MATH over MATH.  
LEMMA	  Let MATH be a locally quasi-finite morphism. Let MATH be a weighting of MATH. Then the level sets of the function MATH are locally constructible in MATH.  
LEMMA	  Let MATH be a locally quasi-finite morphism of finite presentation. Let MATH be a weighting of MATH. Then the level sets of the function MATH are locally constructible in MATH.  
LEMMA	  Let MATH be a locally quasi-finite morphism. Let MATH be a positive weighting of MATH. Then MATH is upper semi-continuous.  
LEMMA	  Let MATH be a separated, locally quasi-finite morphism with finite fibres. Let MATH be a positive weighting of MATH. Then MATH is lower semi-continuous.  
LEMMA	  Let MATH be a locally quasi-finite morphism with MATH quasi-compact. Let MATH be a weighting of MATH. Then MATH attains its maximum.  
LEMMA	  Let MATH be a separated, locally quasi-finite morphism. Let MATH be a positive weighting of MATH. Assume MATH attains its maximum MATH and let MATH be the open set of points MATH with MATH. Then the morphism MATH is finite.  
LEMMA	  Let MATH be a ring map which is finite and of finite presentation. There exists a finitely presented ring map MATH and an idempotent MATH such that for any ring map MATH and idempotent MATH there is a ring map MATH mapping MATH to MATH.  
LEMMA	  Let MATH be a morphism of affine schemes which is quasi-finite and of finite presentation. There exists a morphism MATH of finite presentation and an open subscheme MATH such that MATH is finite with the following property: given any morphism MATH of affine schemes and an open subscheme MATH such that MATH is finite, there exists a morphism MATH such that the inverse image of MATH is MATH.  
LEMMA	  Let MATH be a directed limit of affine schemes. Let MATH and let MATH be a morphism of affine schemes which is quasi-finite and of finite presentation. Let MATH and MATH for MATH be the base changes of MATH. If MATH is a weighting of MATH, then for sufficiently large MATH there exists a weighting MATH of MATH whose pullback to MATH is MATH.  
LEMMA	  Let MATH be a morphism of affine schemes which is quasi-finite and of finite presentation. Let MATH be a positive weighting of MATH. Let MATH be the maximum value of MATH. The open MATH of MATH is affine.  
PROPN	  Let MATH be a surjective quasi-finite morphism of schemes. Let MATH be a positive weighting of MATH. Assume MATH affine and MATH separated. Then the affine stratification number of MATH is at most the number of distinct values of MATH.  
DEFNN	  A morphism MATH of schemes is said to be completely decomposed if for all points MATH there is a point MATH with MATH such that the field extension MATH is trivial. A family of morphisms MATH of schemes with fixed target is said to be completely decomposed if MATH is completely decomposed.  
LEMMA	  The composition of two completely decomposed morphisms of schemes is completely decomposed. If MATH is completely decomposed and for each MATH we have a family MATH which is completely decomposed, then the family MATH is completely decomposed.  
LEMMA	  The base change of a completely decomposed morphism of schemes is completely decomposed. If MATH is completely decomposed and MATH is a morphism of schemes, then MATH is completely decomposed.  
LEMMA	  REF Let MATH be a morphism of schemes. Assume MATH is completely decomposed, MATH is locally of finite presentation, and MATH is quasi-compact and quasi-separated. Then there exist MATH and morphisms MATH, MATH with the following properties <CASES> CASE: MATH is surjective, CASE: MATH is an immersion for all MATH, CASE: MATH is of finite presentation for all MATH, and CASE: the base change MATH has a section for all MATH. </CASES>  
LEMMA	  Let MATH be a limit of a directed system of schemes with affine transition morphisms. Let MATH and let MATH be a morphism of schemes over MATH. For MATH let MATH be the base change of MATH to MATH and let MATH be the base change of MATH to MATH. If <CASES> CASE: MATH is completely decomposed, CASE: MATH is quasi-compact and quasi-separated, and CASE: MATH is locally of finite presentation, </CASES> then there exists an MATH such that MATH is completely decomposed.  
LEMMA	  Let MATH be a morphism of schemes. Assume <CASES> CASE: MATH has an ample family of invertible modules, CASE: there exists an MATH-ample invertible module on MATH. </CASES> Then MATH has an ample family of invertible modules.  
LEMMA	  Let MATH be an affine or quasi-affine morphism of schemes. If MATH has an ample family of invertible modules, so does MATH.  
LEMMA	  Let MATH be a scheme. Suppose given effective Cartier divisors MATH on MATH and invertible modules MATH such that MATH and MATH is ample. Then MATH has an ample family of invertible modules.  
LEMMA	  REF Let MATH be a quasi-compact and quasi-separated scheme with finitely many irreducible components. There exists a quasi-compact dense open MATH and a MATH-admissible blowing up MATH such that the scheme MATH has an ample family of invertible modules.  
PROPN	  Let MATH be a quasi-compact and quasi-separated scheme. There exists a morphism MATH which is of finite presentation, proper, and completely decomposed (Definition REF) such that the scheme MATH has an ample family of invertible modules.  
LEMMA	  A morphism MATH of affine schemes is a closed immersion  if and only if for every injective ring map MATH and commutative  square MATH there exists a lift MATH making the two triangles commute.  
LEMMA	  Let MATH be a scheme. If the canonical morphism MATH of Schemes, Lemma REF has a retraction, then MATH is an affine scheme.  
LEMMA	  Let MATH be a scheme. Let MATH be the canonical morphism of Schemes, Lemma REF. The largest quasi-coherent MATH-module contained in the kernel of MATH is zero. If MATH is quasi-compact, then MATH is injective. In particular, if MATH is quasi-compact, then MATH is a  dominant morphism.  
LEMMA	  Let MATH be a quasi-compact morphism of schemes. Then MATH is a closed immersion if and only if for every injective  ring map MATH and commutative square MATH there exists a lift MATH making the diagram commute.  
