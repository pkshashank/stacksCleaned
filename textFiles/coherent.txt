\begin{lemma} \label{lemma-cech-cohomology-quasi-coherent-trivial} Let $X$ be a scheme. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Let $\mathcal{U} : U = \bigcup_{i = 1}^n D(f_i)$ be a standard open covering of an affine open of $X$. Then $\check{H}^p(\mathcal{U}, \mathcal{F}) = 0$ for all $p > 0$. \end{lemma} 
\begin{lemma} \label{lemma-quasi-coherent-affine-cohomology-zero} \begin{slogan} Serre vanishing: Higher cohomology vanishes on affine schemes for quasi-coherent modules. \end{slogan} Let $X$ be a scheme. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. For any affine open $U \subset X$ we have $H^p(U, \mathcal{F}) = 0$ for all $p > 0$. \end{lemma} 
\begin{lemma} \label{lemma-relative-affine-vanishing} Let $f : X \to S$ be a morphism of schemes. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. If $f$ is affine then $R^if_*\mathcal{F} = 0$ for all $i > 0$. \end{lemma} 
\begin{lemma} \label{lemma-relative-affine-cohomology} Let $f : X \to S$ be an affine morphism of schemes. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Then $H^i(X, \mathcal{F}) = H^i(S, f_*\mathcal{F})$ for all $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-affine-diagonal} Let $X$ be a scheme. The following are equivalent \begin{enumerate} \item $X$ has affine diagonal $\Delta : X \to X \times X$, \item for $U, V \subset X$ affine open, the intersection $U \cap V$ is affine, and \item there exists an open covering $\mathcal{U} : X = \bigcup_{i \in I} U_i$ such that $U_{i_0 \ldots i_p}$ is affine open for all $p \ge 0$ and all $i_0, \ldots, i_p \in I$. \end{enumerate} In particular this holds if $X$ is separated. \end{lemma} 
\begin{lemma} \label{lemma-cech-cohomology-quasi-coherent} Let $X$ be a scheme. Let $\mathcal{U} : X = \bigcup_{i \in I} U_i$ be an open covering such that $U_{i_0 \ldots i_p}$ is affine open for all $p \ge 0$ and all $i_0, \ldots, i_p \in I$. In this case for any quasi-coherent sheaf $\mathcal{F}$ we have $$ \check{H}^p(\mathcal{U}, \mathcal{F}) = H^p(X, \mathcal{F}) $$ as $\Gamma(X, \mathcal{O}_X)$-modules for all $p$. \end{lemma} 
\begin{lemma} \label{lemma-quasi-compact-h1-zero-covering} \begin{reference} \cite{Serre-criterion}, \cite[II, Theorem 5.2.1 (d') and IV (1.7.17)]{EGA} \end{reference} \begin{slogan} Serre's criterion for affineness. \end{slogan} Let $X$ be a scheme. Assume that \begin{enumerate} \item $X$ is quasi-compact, \item for every quasi-coherent sheaf of ideals $\mathcal{I} \subset \mathcal{O}_X$ we have $H^1(X, \mathcal{I}) = 0$. \end{enumerate} Then $X$ is affine. \end{lemma} 
\begin{lemma} \label{lemma-quasi-separated-h1-zero-covering} \begin{reference} \cite{Serre-criterion}, \cite[II, Theorem 5.2.1]{EGA} \end{reference} \begin{slogan} Serre's criterion for affineness. \end{slogan} Let $X$ be a scheme. Assume that \begin{enumerate} \item $X$ is quasi-compact, \item $X$ is quasi-separated, and \item $H^1(X, \mathcal{I}) = 0$ for every quasi-coherent sheaf of ideals $\mathcal{I}$ of finite type. \end{enumerate} Then $X$ is affine. \end{lemma} 
\begin{lemma} \label{lemma-quasi-compact-h1-zero-invertible} Let $X$ be a scheme. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Assume that \begin{enumerate} \item $X$ is quasi-compact, \item for every quasi-coherent sheaf of ideals $\mathcal{I} \subset \mathcal{O}_X$ there exists an $n \geq 1$ such that $H^1(X, \mathcal{I} \otimes_{\mathcal{O}_X} \mathcal{L}^{\otimes n}) = 0$. \end{enumerate} Then $\mathcal{L}$ is ample. \end{lemma} 
\begin{lemma} \label{lemma-criterion-affine-morphism} Let $f : X \to Y$ be a quasi-compact morphism with $X$ and $Y$ quasi-separated. If $R^1f_*\mathcal{I} = 0$ for every quasi-coherent sheaf of ideals $\mathcal{I}$ on $X$, then $f$ is affine. \end{lemma} 
\begin{lemma}[Induction Principle] \label{lemma-induction-principle} \begin{reference} \cite[Proposition 3.3.1]{BvdB} \end{reference} Let $X$ be a quasi-compact and quasi-separated scheme. Let $P$ be a property of the quasi-compact opens of $X$. Assume that \begin{enumerate} \item $P$ holds for every affine open of $X$, \item if $U$ is quasi-compact open, $V$ affine open, $P$ holds for $U$, $V$, and $U \cap V$, then $P$ holds for $U \cup V$. \end{enumerate} Then $P$ holds for every quasi-compact open of $X$ and in particular for $X$. \end{lemma} 
\begin{lemma} \label{lemma-vanishing-nr-affines} \begin{slogan} For schemes with affine diagonal, the cohomology of quasi-coherent modules vanishes in degrees bigger than the number of affine opens needed in a covering. \end{slogan} Let $X$ be a quasi-compact scheme with affine diagonal (for example if $X$ is separated). Let $t = t(X)$ be the minimal number of affine opens needed to cover $X$. Then $H^n(X, \mathcal{F}) = 0$ for all $n \geq t$ and all quasi-coherent sheaves $\mathcal{F}$. \end{lemma} 
\begin{lemma} \label{lemma-affine-diagonal-universal-delta-functor} Let $X$ be a quasi-compact scheme with affine diagonal (for example if $X$ is separated). Then \begin{enumerate} \item given a quasi-coherent $\mathcal{O}_X$-module $\mathcal{F}$ there exists an embedding $\mathcal{F} \to \mathcal{F}'$ of quasi-coherent $\mathcal{O}_X$-modules such that $H^p(X, \mathcal{F}') = 0$ for all $p \geq 1$, and \item $\{H^n(X, -)\}_{n \geq 0}$ is a universal $\delta$-functor from $\QCoh(\mathcal{O}_X)$ to $\textit{Ab}$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-vanishing-nr-affines-quasi-separated} Let $X$ be a quasi-compact quasi-separated scheme. Let $X = U_1 \cup \ldots \cup U_n$ be an open covering with each $U_i$ quasi-compact and separated (for example affine). Set $$ d = \max\nolimits_{I \subset \{1, \ldots, n\}} \left(|I| + t(\bigcap\nolimits_{i \in I} U_i) - 1\right) $$ where $t(U)$ is the minimal number of affines needed to cover the scheme $U$. Then $H^p(X, \mathcal{F}) = 0$ for all $p \geq d$ and all quasi-coherent sheaves $\mathcal{F}$. \end{lemma} 
\begin{lemma} \label{lemma-quasi-coherence-higher-direct-images} Let $f : X \to S$ be a morphism of schemes. Assume that $f$ is quasi-separated and quasi-compact. \begin{enumerate} \item For any quasi-coherent $\mathcal{O}_X$-module $\mathcal{F}$ the higher direct images $R^pf_*\mathcal{F}$ are quasi-coherent on $S$. \item If $S$ is quasi-compact, there exists an integer $n = n(X, S, f)$ such that $R^pf_*\mathcal{F} = 0$ for all $p \geq n$ and any quasi-coherent sheaf $\mathcal{F}$ on $X$. \item In fact, if $S$ is quasi-compact we can find $n = n(X, S, f)$ such that for every morphism of schemes $S' \to S$ we have $R^p(f')_*\mathcal{F}' = 0$ for $p \geq n$ and any quasi-coherent sheaf $\mathcal{F}'$ on $X'$. Here $f' : X' = S' \times_S X \to S'$ is the base change of $f$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-quasi-coherence-higher-direct-images-application} Let $f : X \to S$ be a morphism of schemes. Assume that $f$ is quasi-separated and quasi-compact. Assume $S$ is affine. For any quasi-coherent $\mathcal{O}_X$-module $\mathcal{F}$ we have $$ H^q(X, \mathcal{F}) = H^0(S, R^qf_*\mathcal{F}) $$ for all $q \in \mathbf{Z}$. \end{lemma} 
\begin{lemma} \label{lemma-affine-base-change} Let $f : X \to S$ be a morphism of schemes. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Assume $f$ is affine. In this case $f_*\mathcal{F} \cong Rf_*\mathcal{F}$ is a quasi-coherent sheaf, and for every base change diagram (\ref{equation-base-change-diagram}) we have $$ g^*f_*\mathcal{F} = f'_*(g')^*\mathcal{F}. $$ \end{lemma} 
\begin{lemma}[Flat base change] \label{lemma-flat-base-change-cohomology} Consider a cartesian diagram of schemes $$ \xymatrix{ X' \ar[d]_{f'} \ar[r]_{g'} & X \ar[d]^f \\ S' \ar[r]^g & S } $$ Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module with pullback $\mathcal{F}' = (g')^*\mathcal{F}$. Assume that $g$ is flat and that $f$ is quasi-compact and quasi-separated. For any $i \geq 0$ \begin{enumerate} \item the base change map of Cohomology, Lemma \ref{cohomology-lemma-base-change-map-flat-case} is an isomorphism $$ g^*R^if_*\mathcal{F} \longrightarrow R^if'_*\mathcal{F}', $$ \item if $S = \Spec(A)$ and $S' = \Spec(B)$, then $H^i(X, \mathcal{F}) \otimes_A B = H^i(X', \mathcal{F}')$. \end{enumerate} \end{lemma} 
\begin{lemma}[Finite locally free base change] \label{lemma-finite-locally-free-base-change-cohomology} Consider a cartesian diagram of schemes $$ \xymatrix{ Y \ar[d]_{g} \ar[r]_h & X \ar[d]^f \\ \Spec(B) \ar[r] & \Spec(A) } $$ Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module with pullback $\mathcal{G} = h^*\mathcal{F}$. If $B$ is a finite locally free $A$-module, then $H^i(X, \mathcal{F}) \otimes_A B = H^i(Y, \mathcal{G})$. \end{lemma} 
\begin{lemma} \label{lemma-colimit-cohomology} Let $f : X \to S$ be a quasi-compact and quasi-separated morphism of schemes. Let $\mathcal{F} = \colim \mathcal{F}_i$ be a filtered colimit of abelian sheaves on $X$. Then for any $p \geq 0$ we have $$ R^pf_*\mathcal{F} = \colim R^pf_*\mathcal{F}_i. $$ \end{lemma} 
\begin{lemma} \label{lemma-separated-case-relative-cech} Let $f : X \to S$ be a morphism of schemes. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Assume $X$ is quasi-compact and $X$ and $S$ have affine diagonal (e.g., if $X$ and $S$ are separated). In this case we can compute $Rf_*\mathcal{F}$ as follows: \begin{enumerate} \item Choose a finite affine open covering $\mathcal{U} : X = \bigcup_{i = 1, \ldots, n} U_i$. \item For $i_0, \ldots, i_p \in \{1, \ldots, n\}$ denote $f_{i_0 \ldots i_p} : U_{i_0 \ldots i_p} \to S$ the restriction of $f$ to the intersection $U_{i_0 \ldots i_p} = U_{i_0} \cap \ldots \cap U_{i_p}$. \item Set $\mathcal{F}_{i_0 \ldots i_p}$ equal to the restriction of $\mathcal{F}$ to $U_{i_0 \ldots i_p}$. \item Set $$ \check{\mathcal{C}}^p(\mathcal{U}, f, \mathcal{F}) = \bigoplus\nolimits_{i_0 \ldots i_p} f_{i_0 \ldots i_p *} \mathcal{F}_{i_0 \ldots i_p} $$ and define differentials $d : \check{\mathcal{C}}^p(\mathcal{U}, f, \mathcal{F}) \to \check{\mathcal{C}}^{p + 1}(\mathcal{U}, f, \mathcal{F})$ as in Cohomology, Equation (\ref{cohomology-equation-d-cech}). \end{enumerate} Then the complex $\check{\mathcal{C}}^\bullet(\mathcal{U}, f, \mathcal{F})$ is a complex of quasi-coherent sheaves on $S$ which comes equipped with an isomorphism $$ \check{\mathcal{C}}^\bullet(\mathcal{U}, f, \mathcal{F}) \longrightarrow Rf_*\mathcal{F} $$ in $D^{+}(S)$. This isomorphism is functorial in the quasi-coherent sheaf $\mathcal{F}$. \end{lemma} 
\begin{lemma} \label{lemma-base-change-complex} With notation as in diagram (\ref{equation-base-change-diagram}). Assume $f : X \to S$ and $\mathcal{F}$ satisfy the hypotheses of Lemma \ref{lemma-separated-case-relative-cech}. Choose a finite affine open covering $\mathcal{U} : X = \bigcup U_i$ of $X$. There is a canonical isomorphism $$ g^*\check{\mathcal{C}}^\bullet(\mathcal{U}, f, \mathcal{F}) \longrightarrow Rf'_*\mathcal{F}' $$ in $D^{+}(S')$. Moreover, if $S' \to S$ is affine, then in fact $$ g^*\check{\mathcal{C}}^\bullet(\mathcal{U}, f, \mathcal{F}) = \check{\mathcal{C}}^\bullet(\mathcal{U}', f', \mathcal{F}') $$ with $\mathcal{U}' : X' = \bigcup U_i'$ where $U_i' = (g')^{-1}(U_i) = U_{i, S'}$ is also affine. \end{lemma} 
\begin{lemma} \label{lemma-hypercoverings} Let $f : X \to S$ be a morphism of schemes. Let $\mathcal{F}$ be a quasi-coherent sheaf on $X$. Assume that $f$ is quasi-compact and quasi-separated and that $S$ is quasi-compact and separated. There exists a bounded below complex $\mathcal{K}^\bullet$ of quasi-coherent $\mathcal{O}_S$-modules with the following property: For every morphism $g : S' \to S$ the complex $g^*\mathcal{K}^\bullet$ is a representative for $Rf'_*\mathcal{F}'$ with notation as in diagram (\ref{equation-base-change-diagram}). \end{lemma} 
\begin{lemma} \label{lemma-base-change-tensor-with-flat} Consider a cartesian diagram of schemes $$ \xymatrix{ X' \ar[d]_{f'} \ar[r]_{g'} & X \ar[d]^f \\ S' \ar[r]^g & S } $$ Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Let $\mathcal{G}$ be a quasi-coherent $\mathcal{O}_{S'}$-module flat over $S$. Assume $f$ is quasi-compact and quasi-separated. For any $i \geq 0$ there is an identification $$ \mathcal{G} \otimes_{\mathcal{O}_{S'}} g^*R^if_*\mathcal{F} = R^if'_*\left((f')^*\mathcal{G} \otimes_{\mathcal{O}_{X'}} (g')^*\mathcal{F}\right) $$ \end{lemma} 
\begin{lemma} \label{lemma-cohomology-projective-space-over-ring} \begin{reference} \cite[III Proposition 2.1.12]{EGA} \end{reference} Let $R$ be a ring. Let $n \geq 0$ be an integer. We have $$ H^q(\mathbf{P}^n, \mathcal{O}_{\mathbf{P}^n_R}(d)) = \left\{ \begin{matrix} (R[T_0, \ldots, T_n])_d & \text{if} & q = 0,\ d \geq 0 \\ \left(\frac{1}{T_0 \ldots T_n} R[\frac{1}{T_0}, \ldots, \frac{1}{T_n}]\right)_d & \text{if} & q = n,\ d < 0 \\ 0 & \text{if} & q, n, d\text{ not as above} \end{matrix} \right. $$ as $R$-modules. \end{lemma} 
\begin{lemma} \label{lemma-identify-functorially} The identifications of Equation (\ref{equation-identify}) are compatible with base change w.r.t.\ ring maps $R \to R'$. Moreover, for any $f \in R[T_0, \ldots, T_n]$ homogeneous of degree $m$ the map multiplication by $f$ $$ \mathcal{O}_{\mathbf{P}^n_R}(d) \longrightarrow \mathcal{O}_{\mathbf{P}^n_R}(d + m) $$ induces the map on the cohomology group via the identifications of Equation (\ref{equation-identify}) which is multiplication by $f$ for $H^0$ and the contragredient of multiplication by $f$ $$ (R[T_0, \ldots, T_n])_{-n - 1 - (d + m)} \longrightarrow (R[T_0, \ldots, T_n])_{-n - 1 - d} $$ on $H^n$. \end{lemma} 
\begin{lemma} \label{lemma-cohomology-projective-space-over-base} Let $S$ be a scheme. Let $n \geq 0$ be an integer. Consider the structure morphism $$ f : \mathbf{P}^n_S \longrightarrow S. $$ We have $$ R^qf_*(\mathcal{O}_{\mathbf{P}^n_S}(d)) = \left\{ \begin{matrix} (\mathcal{O}_S[T_0, \ldots, T_n])_d & \text{if} & q = 0 \\ 0 & \text{if} & q \not = 0, n \\ \SheafHom_{\mathcal{O}_S}( (\mathcal{O}_S[T_0, \ldots, T_n])_{- n - 1 - d}, \mathcal{O}_S) & \text{if} & q = n \end{matrix} \right. $$ \end{lemma} 
\begin{lemma} \label{lemma-cohomology-projective-bundle} Let $S$ be a scheme. Let $n \geq 1$. Let $\mathcal{E}$ be a finite locally free $\mathcal{O}_S$-module of constant rank $n + 1$. Consider the structure morphism $$ \pi : \mathbf{P}(\mathcal{E}) \longrightarrow S. $$ We have $$ R^q\pi_*(\mathcal{O}_{\mathbf{P}(\mathcal{E})}(d)) = \left\{ \begin{matrix} \text{Sym}^d(\mathcal{E}) & \text{if} & q = 0 \\ 0 & \text{if} & q \not = 0, n \\ \SheafHom_{\mathcal{O}_S}( \text{Sym}^{- n - 1 - d}(\mathcal{E}) \otimes_{\mathcal{O}_S} \wedge^{n + 1}\mathcal{E}, \mathcal{O}_S) & \text{if} & q = n \end{matrix} \right. $$ These identifications are compatible with base change and isomorphism between locally free sheaves. \end{lemma} 
\begin{lemma} \label{lemma-coherent-Noetherian} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$ be an $\mathcal{O}_X$-module. The following are equivalent \begin{enumerate} \item $\mathcal{F}$ is coherent, \item $\mathcal{F}$ is a quasi-coherent, finite type $\mathcal{O}_X$-module, \item $\mathcal{F}$ is a finitely presented $\mathcal{O}_X$-module, \item for any affine open $\Spec(A) = U \subset X$ we have $\mathcal{F}|_U = \widetilde M$ with $M$ a finite $A$-module, and \item there exists an affine open covering $X = \bigcup U_i$, $U_i = \Spec(A_i)$ such that each $\mathcal{F}|_{U_i} = \widetilde M_i$ with $M_i$ a finite $A_i$-module. \end{enumerate} In particular $\mathcal{O}_X$ is coherent, any invertible $\mathcal{O}_X$-module is coherent, and more generally any finite locally free $\mathcal{O}_X$-module is coherent. \end{lemma} 
\begin{lemma} \label{lemma-coherent-abelian-Noetherian} Let $X$ be a locally Noetherian scheme. The category of coherent $\mathcal{O}_X$-modules is abelian. More precisely, the kernel and cokernel of a map of coherent $\mathcal{O}_X$-modules are coherent. Any extension of coherent sheaves is coherent. \end{lemma} 
\begin{lemma} \label{lemma-coherent-Noetherian-quasi-coherent-sub-quotient} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. Any quasi-coherent submodule of $\mathcal{F}$ is coherent. Any quasi-coherent quotient module of $\mathcal{F}$ is coherent. \end{lemma} 
\begin{lemma} \label{lemma-tensor-hom-coherent} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$, $\mathcal{G}$ be coherent $\mathcal{O}_X$-modules. The $\mathcal{O}_X$-modules $\mathcal{F} \otimes_{\mathcal{O}_X} \mathcal{G}$ and $\SheafHom_{\mathcal{O}_X}(\mathcal{F}, \mathcal{G})$ are coherent. \end{lemma} 
\begin{lemma} \label{lemma-local-isomorphism} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$, $\mathcal{G}$ be coherent $\mathcal{O}_X$-modules. Let $\varphi : \mathcal{G} \to \mathcal{F}$ be a homomorphism of $\mathcal{O}_X$-modules. Let $x \in X$. \begin{enumerate} \item If $\mathcal{F}_x = 0$ then there exists an open neighbourhood $U \subset X$ of $x$ such that $\mathcal{F}|_U = 0$. \item If $\varphi_x : \mathcal{G}_x \to \mathcal{F}_x$ is injective, then there exists an open neighbourhood $U \subset X$ of $x$ such that $\varphi|_U$ is injective. \item If $\varphi_x : \mathcal{G}_x \to \mathcal{F}_x$ is surjective, then there exists an open neighbourhood $U \subset X$ of $x$ such that $\varphi|_U$ is surjective. \item If $\varphi_x : \mathcal{G}_x \to \mathcal{F}_x$ is bijective, then there exists an open neighbourhood $U \subset X$ of $x$ such that $\varphi|_U$ is an isomorphism. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-map-stalks-local-map} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$, $\mathcal{G}$ be coherent $\mathcal{O}_X$-modules. Let $x \in X$. Suppose $\psi : \mathcal{G}_x \to \mathcal{F}_x$ is a map of $\mathcal{O}_{X, x}$-modules. Then there exists an open neighbourhood $U \subset X$ of $x$ and a map $\varphi : \mathcal{G}|_U \to \mathcal{F}|_U$ such that $\varphi_x = \psi$. \end{lemma} 
\begin{lemma} \label{lemma-coherent-support-closed} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. Then $\text{Supp}(\mathcal{F})$ is closed, and $\mathcal{F}$ comes from a coherent sheaf on the scheme theoretic support of $\mathcal{F}$, see Morphisms, Definition \ref{morphisms-definition-scheme-theoretic-support}. \end{lemma} 
\begin{lemma} \label{lemma-i-star-equivalence} Let $i : Z \to X$ be a closed immersion of locally Noetherian schemes. Let $\mathcal{I} \subset \mathcal{O}_X$ be the quasi-coherent sheaf of ideals cutting out $Z$. The functor $i_*$ induces an equivalence between the category of coherent $\mathcal{O}_X$-modules annihilated by $\mathcal{I}$ and the category of coherent $\mathcal{O}_Z$-modules. \end{lemma} 
\begin{lemma} \label{lemma-finite-pushforward-coherent} Let $f : X \to Y$ be a morphism of schemes. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Assume $f$ is finite and $Y$ locally Noetherian. Then $R^pf_*\mathcal{F} = 0$ for $p > 0$ and $f_*\mathcal{F}$ is coherent if $\mathcal{F}$ is coherent. \end{lemma} 
\begin{lemma} \label{lemma-coherent-support-dimension-0} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$ be a coherent sheaf with $\dim(\text{Supp}(\mathcal{F})) \leq 0$. Then $\mathcal{F}$ is generated by global sections and $H^i(X, \mathcal{F}) = 0$ for $i > 0$. \end{lemma} 
\begin{lemma} \label{lemma-pushforward-coherent-on-open} Let $X$ be a scheme. Let $j : U \to X$ be the inclusion of an open. Let $T \subset X$ be a closed subset contained in $U$. If $\mathcal{F}$ is a coherent $\mathcal{O}_U$-module with $\text{Supp}(\mathcal{F}) \subset T$, then $j_*\mathcal{F}$ is a coherent $\mathcal{O}_X$-module. \end{lemma} 
\begin{lemma} \label{lemma-acc-coherent} Let $X$ be a Noetherian scheme. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. The ascending chain condition holds for quasi-coherent submodules of $\mathcal{F}$. In other words, given any sequence $$ \mathcal{F}_1 \subset \mathcal{F}_2 \subset \ldots \subset \mathcal{F} $$ of quasi-coherent submodules, then $\mathcal{F}_n = \mathcal{F}_{n + 1} = \ldots $ for some $n \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-power-ideal-kills-sheaf} Let $X$ be a Noetherian scheme. Let $\mathcal{F}$ be a coherent sheaf on $X$. Let $\mathcal{I} \subset \mathcal{O}_X$ be a quasi-coherent sheaf of ideals corresponding to a closed subscheme $Z \subset X$. Then there is some $n \geq 0$ such that $\mathcal{I}^n\mathcal{F} = 0$ if and only if $\text{Supp}(\mathcal{F}) \subset Z$ (set theoretically). \end{lemma} 
\begin{lemma}[Artin-Rees] \label{lemma-Artin-Rees} Let $X$ be a Noetherian scheme. Let $\mathcal{F}$ be a coherent sheaf on $X$. Let $\mathcal{G} \subset \mathcal{F}$ be a quasi-coherent subsheaf. Let $\mathcal{I} \subset \mathcal{O}_X$ be a quasi-coherent sheaf of ideals. Then there exists a $c \geq 0$ such that for all $n \geq c$ we have $$ \mathcal{I}^{n - c}(\mathcal{I}^c\mathcal{F} \cap \mathcal{G}) = \mathcal{I}^n\mathcal{F} \cap \mathcal{G} $$ \end{lemma} 
\begin{lemma} \label{lemma-directed-colimit-coherent} Let $X$ be a Noetherian scheme. Every quasi-coherent $\mathcal{O}_X$-module is the filtered colimit of its coherent submodules. \end{lemma} 
\begin{lemma} \label{lemma-homs-over-open} Let $X$ be a Noetherian scheme. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Let $\mathcal{G}$ be a coherent $\mathcal{O}_X$-module. Let $\mathcal{I} \subset \mathcal{O}_X$ be a quasi-coherent sheaf of ideals. Denote $Z \subset X$ the corresponding closed subscheme and set $U = X \setminus Z$. There is a canonical isomorphism $$ \colim_n \Hom_{\mathcal{O}_X}(\mathcal{I}^n\mathcal{G}, \mathcal{F}) \longrightarrow \Hom_{\mathcal{O}_U}(\mathcal{G}|_U, \mathcal{F}|_U). $$ In particular we have an isomorphism $$ \colim_n \Hom_{\mathcal{O}_X}( \mathcal{I}^n, \mathcal{F}) \longrightarrow \Gamma(U, \mathcal{F}). $$ \end{lemma} 
\begin{lemma} \label{lemma-extend-coherent} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$, $\mathcal{G}$ be coherent $\mathcal{O}_X$-modules. Let $U \subset X$ be open and let $\varphi : \mathcal{F}|_U \to \mathcal{G}|_U$ be an $\mathcal{O}_U$-module map. Then there exists a coherent submodule $\mathcal{F}' \subset \mathcal{F}$ agreeing with $\mathcal{F}$ over $U$ such that $\varphi$ extends to $\varphi' : \mathcal{F}' \to \mathcal{G}$. \end{lemma} 
\begin{definition} \label{definition-depth} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. Let $k \geq 0$ be an integer. \begin{enumerate} \item We say $\mathcal{F}$ has {\it depth $k$ at a point} $x$ of $X$ if $\text{depth}_{\mathcal{O}_{X, x}}(\mathcal{F}_x) = k$. \item We say $X$ has {\it depth $k$ at a point} $x$ of $X$ if $\text{depth}(\mathcal{O}_{X, x}) = k$. \item We say $\mathcal{F}$ has property {\it $(S_k)$} if $$ \text{depth}_{\mathcal{O}_{X, x}}(\mathcal{F}_x) \geq \min(k, \dim(\text{Supp}(\mathcal{F}_x))) $$ for all $x \in X$. \item We say $X$ has property {\it $(S_k)$} if $\mathcal{O}_X$ has property $(S_k)$. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-hom-into-depth} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$, $\mathcal{G}$ be coherent $\mathcal{O}_X$-modules and $x \in X$. \begin{enumerate} \item If $\mathcal{G}_x$ has depth $\geq 1$, then $\SheafHom_{\mathcal{O}_X}(\mathcal{F}, \mathcal{G})_x$ has depth $\geq 1$. \item If $\mathcal{G}_x$ has depth $\geq 2$, then $\Hom_{\mathcal{O}_X}(\mathcal{F}, \mathcal{G})_x$ has depth $\geq 2$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-hom-into-S2} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$, $\mathcal{G}$ be coherent $\mathcal{O}_X$-modules. \begin{enumerate} \item If $\mathcal{G}$ has property $(S_1)$, then $\SheafHom_{\mathcal{O}_X}(\mathcal{F}, \mathcal{G})$ has property $(S_1)$. \item If $\mathcal{G}$ has property $(S_2)$, then $\SheafHom_{\mathcal{O}_X}(\mathcal{F}, \mathcal{G})$ has property $(S_2)$. \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-Cohen-Macaulay} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. We say $\mathcal{F}$ is {\it Cohen-Macaulay} if and only if $(S_k)$ holds for all $k \geq 0$. \end{definition} 
\begin{lemma} \label{lemma-Cohen-Macaulay-over-regular} Let $X$ be a regular scheme. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. The following are equivalent \begin{enumerate} \item $\mathcal{F}$ is Cohen-Macaulay and $\text{Supp}(\mathcal{F}) = X$, \item $\mathcal{F}$ is finite locally free of rank $> 0$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-prepare-filter-support} Let $X$ be a Noetherian scheme. Let $\mathcal{F}$ be a coherent sheaf on $X$. Suppose that $\text{Supp}(\mathcal{F}) = Z \cup Z'$ with $Z$, $Z'$ closed. Then there exists a short exact sequence of coherent sheaves $$ 0 \to \mathcal{G}' \to \mathcal{F} \to \mathcal{G} \to 0 $$ with $\text{Supp}(\mathcal{G}') \subset Z'$ and $\text{Supp}(\mathcal{G}) \subset Z$. \end{lemma} 
\begin{lemma} \label{lemma-prepare-filter-irreducible} Let $X$ be a Noetherian scheme. Let $i : Z \to X$ be an integral closed subscheme. Let $\xi \in Z$ be the generic point. Let $\mathcal{F}$ be a coherent sheaf on $X$. Assume that $\mathcal{F}_\xi$ is annihilated by $\mathfrak m_\xi$. Then there exist an integer $r \geq 0$ and a coherent sheaf of ideals $\mathcal{I} \subset \mathcal{O}_Z$ and an injective map of coherent sheaves $$ i_*\left(\mathcal{I}^{\oplus r}\right) \to \mathcal{F} $$ which is an isomorphism in a neighbourhood of $\xi$. \end{lemma} 
\begin{lemma} \label{lemma-coherent-filter} Let $X$ be a Noetherian scheme. Let $\mathcal{F}$ be a coherent sheaf on $X$. There exists a filtration $$ 0 = \mathcal{F}_0 \subset \mathcal{F}_1 \subset \ldots \subset \mathcal{F}_m = \mathcal{F} $$ by coherent subsheaves such that for each $j = 1, \ldots, m$ there exist an integral closed subscheme $Z_j \subset X$ and a nonzero coherent sheaf of ideals $\mathcal{I}_j \subset \mathcal{O}_{Z_j}$ such that $$ \mathcal{F}_j/\mathcal{F}_{j - 1} \cong (Z_j \to X)_* \mathcal{I}_j $$ \end{lemma} 
\begin{lemma} \label{lemma-property-initial} Let $X$ be a Noetherian scheme. Let $\mathcal{P}$ be a property of coherent sheaves on $X$. Assume \begin{enumerate} \item For any short exact sequence of coherent sheaves $$ 0 \to \mathcal{F}_1 \to \mathcal{F} \to \mathcal{F}_2 \to 0 $$ if $\mathcal{F}_i$, $i = 1, 2$ have property $\mathcal{P}$ then so does $\mathcal{F}$. \item For every integral closed subscheme $Z \subset X$ and every quasi-coherent sheaf of ideals $\mathcal{I} \subset \mathcal{O}_Z$ we have $\mathcal{P}$ for $i_*\mathcal{I}$. \end{enumerate} Then property $\mathcal{P}$ holds for every coherent sheaf on $X$. \end{lemma} 
\begin{lemma} \label{lemma-property-irreducible} Let $X$ be a Noetherian scheme. Let $Z_0 \subset X$ be an irreducible closed subset with generic point $\xi$. Let $\mathcal{P}$ be a property of coherent sheaves on $X$ with support contained in $Z_0$ such that \begin{enumerate} \item For any short exact sequence of coherent sheaves if two out of three of them have property $\mathcal{P}$ then so does the third. \item For every integral closed subscheme $Z \subset Z_0 \subset X$, $Z \not = Z_0$ and every quasi-coherent sheaf of ideals $\mathcal{I} \subset \mathcal{O}_Z$ we have $\mathcal{P}$ for $(Z \to X)_*\mathcal{I}$. \item There exists some coherent sheaf $\mathcal{G}$ on $X$ such that \begin{enumerate} \item $\text{Supp}(\mathcal{G}) = Z_0$, \item $\mathcal{G}_\xi$ is annihilated by $\mathfrak m_\xi$, \item $\dim_{\kappa(\xi)} \mathcal{G}_\xi = 1$, and \item property $\mathcal{P}$ holds for $\mathcal{G}$. \end{enumerate} \end{enumerate} Then property $\mathcal{P}$ holds for every coherent sheaf $\mathcal{F}$ on $X$ whose support is contained in $Z_0$. \end{lemma} 
\begin{lemma} \label{lemma-property} Let $X$ be a Noetherian scheme. Let $\mathcal{P}$ be a property of coherent sheaves on $X$ such that \begin{enumerate} \item For any short exact sequence of coherent sheaves if two out of three of them have property $\mathcal{P}$ then so does the third. \item For every integral closed subscheme $Z \subset X$ with generic point $\xi$ there exists some coherent sheaf $\mathcal{G}$ such that \begin{enumerate} \item $\text{Supp}(\mathcal{G}) = Z$, \item $\mathcal{G}_\xi$ is annihilated by $\mathfrak m_\xi$, \item $\dim_{\kappa(\xi)} \mathcal{G}_\xi = 1$, and \item property $\mathcal{P}$ holds for $\mathcal{G}$. \end{enumerate} \end{enumerate} Then property $\mathcal{P}$ holds for every coherent sheaf on $X$. \end{lemma} 
\begin{lemma} \label{lemma-property-irreducible-higher-rank-cohomological} Let $X$ be a Noetherian scheme. Let $Z_0 \subset X$ be an irreducible closed subset with generic point $\xi$. Let $\mathcal{P}$ be a property of coherent sheaves on $X$ such that \begin{enumerate} \item For any short exact sequence of coherent sheaves $$ 0 \to \mathcal{F}_1 \to \mathcal{F} \to \mathcal{F}_2 \to 0 $$ if $\mathcal{F}_i$, $i = 1, 2$ have property $\mathcal{P}$ then so does $\mathcal{F}$. \item If $\mathcal{P}$ holds for $\mathcal{F}^{\oplus r}$ for some $r \geq 1$, then it holds for $\mathcal{F}$. \item For every integral closed subscheme $Z \subset Z_0 \subset X$, $Z \not = Z_0$ and every quasi-coherent sheaf of ideals $\mathcal{I} \subset \mathcal{O}_Z$ we have $\mathcal{P}$ for $(Z \to X)_*\mathcal{I}$. \item There exists some coherent sheaf $\mathcal{G}$ such that \begin{enumerate} \item $\text{Supp}(\mathcal{G}) = Z_0$, \item $\mathcal{G}_\xi$ is annihilated by $\mathfrak m_\xi$, and \item for every quasi-coherent sheaf of ideals $\mathcal{J} \subset \mathcal{O}_X$ such that $\mathcal{J}_\xi = \mathcal{O}_{X, \xi}$ there exists a quasi-coherent subsheaf $\mathcal{G}' \subset \mathcal{J}\mathcal{G}$ with $\mathcal{G}'_\xi = \mathcal{G}_\xi$ and such that $\mathcal{P}$ holds for $\mathcal{G}'$. \end{enumerate} \end{enumerate} Then property $\mathcal{P}$ holds for every coherent sheaf $\mathcal{F}$ on $X$ whose support is contained in $Z_0$. \end{lemma} 
\begin{lemma} \label{lemma-property-higher-rank-cohomological} Let $X$ be a Noetherian scheme. Let $\mathcal{P}$ be a property of coherent sheaves on $X$ such that \begin{enumerate} \item For any short exact sequence of coherent sheaves $$ 0 \to \mathcal{F}_1 \to \mathcal{F} \to \mathcal{F}_2 \to 0 $$ if $\mathcal{F}_i$, $i = 1, 2$ have property $\mathcal{P}$ then so does $\mathcal{F}$. \item If $\mathcal{P}$ holds  for $\mathcal{F}^{\oplus r}$ for some $r \geq 1$, then it holds for $\mathcal{F}$. \item For every integral closed subscheme $Z \subset X$ with generic point $\xi$ there exists some coherent sheaf $\mathcal{G}$ such that \begin{enumerate} \item $\text{Supp}(\mathcal{G}) = Z$, \item $\mathcal{G}_\xi$ is annihilated by $\mathfrak m_\xi$, and \item for every quasi-coherent sheaf of ideals $\mathcal{J} \subset \mathcal{O}_X$ such that $\mathcal{J}_\xi = \mathcal{O}_{X, \xi}$ there exists a quasi-coherent subsheaf $\mathcal{G}' \subset \mathcal{J}\mathcal{G}$ with $\mathcal{G}'_\xi = \mathcal{G}_\xi$ and such that $\mathcal{P}$ holds for $\mathcal{G}'$. \end{enumerate} \end{enumerate} Then property $\mathcal{P}$ holds for every coherent sheaf on $X$. \end{lemma} 
\begin{lemma} \label{lemma-finite-morphism-Noetherian} Let $f : Y \to X$ be a morphism of schemes. Assume $f$ is finite, surjective and $X$ locally Noetherian. Let $Z \subset X$ be an integral closed subscheme with generic point $\xi$. Then there exists a coherent sheaf $\mathcal{F}$ on $Y$ such that the support of $f_*\mathcal{F}$ is equal to $Z$ and $(f_*\mathcal{F})_\xi$ is annihilated by $\mathfrak m_\xi$. \end{lemma} 
\begin{lemma} \label{lemma-affine-morphism-projection-ideal} Let $f : Y \to X$ be a morphism of schemes. Let $\mathcal{F}$ be a quasi-coherent sheaf on $Y$. Let $\mathcal{I}$ be a quasi-coherent sheaf of ideals on $X$. If the morphism $f$ is affine then $\mathcal{I}f_*\mathcal{F} = f_*(f^{-1}\mathcal{I}\mathcal{F})$. \end{lemma} 
\begin{lemma} \label{lemma-image-affine-finite-morphism-affine-Noetherian} Let $f : Y \to X$ be a morphism of schemes. Assume \begin{enumerate} \item $f$ finite, \item $f$ surjective, \item $Y$ affine, and \item $X$ Noetherian. \end{enumerate} Then $X$ is affine. \end{lemma} 
\begin{lemma} \label{lemma-coherent-projective} Let $R$ be a Noetherian ring. Let $n \geq 0$ be an integer. For every coherent sheaf $\mathcal{F}$ on $\mathbf{P}^n_R$ we have the following: \begin{enumerate} \item There exists an $r \geq 0$ and $d_1, \ldots, d_r \in \mathbf{Z}$ and a surjection $$ \bigoplus\nolimits_{j = 1, \ldots, r} \mathcal{O}_{\mathbf{P}^n_R}(d_j) \longrightarrow \mathcal{F}. $$ \item We have $H^i(\mathbf{P}^n_R, \mathcal{F}) = 0$ unless $0 \leq i \leq n$. \item For any $i$ the cohomology group $H^i(\mathbf{P}^n_R, \mathcal{F})$ is a finite $R$-module. \item If $i > 0$, then $H^i(\mathbf{P}^n_R, \mathcal{F}(d)) = 0$ for all $d$ large enough. \item For any $k \in \mathbf{Z}$ the graded $R[T_0, \ldots, T_n]$-module $$ \bigoplus\nolimits_{d \geq k} H^0(\mathbf{P}^n_R, \mathcal{F}(d)) $$ is a finite $R[T_0, \ldots, T_n]$-module. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-coherent-on-proj} Let $A$ be a graded ring such that $A_0$ is Noetherian and $A$ is generated by finitely many elements of $A_1$ over $A_0$. Set $X = \text{Proj}(A)$. Then $X$ is a Noetherian scheme. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. \begin{enumerate} \item There exists an $r \geq 0$ and $d_1, \ldots, d_r \in \mathbf{Z}$ and a surjection $$ \bigoplus\nolimits_{j = 1, \ldots, r} \mathcal{O}_X(d_j) \longrightarrow \mathcal{F}. $$ \item For any $p$ the cohomology group $H^p(X, \mathcal{F})$ is a finite $A_0$-module. \item If $p > 0$, then $H^p(X, \mathcal{F}(d)) = 0$ for all $d$ large enough. \item For any $k \in \mathbf{Z}$ the graded $A$-module $$ \bigoplus\nolimits_{d \geq k} H^0(X, \mathcal{F}(d)) $$ is a finite $A$-module. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-recover-tail-graded-module} Let $A$ be a graded ring such that $A_0$ is Noetherian and $A$ is generated by finitely many elements of $A_1$ over $A_0$. Let $M$ be a finite graded $A$-module. Set $X = \text{Proj}(A)$ and let $\widetilde{M}$ be the quasi-coherent $\mathcal{O}_X$-module on $X$ associated to $M$. The maps $$ M_n \longrightarrow \Gamma(X, \widetilde{M}(n)) $$ from Constructions, Lemma \ref{constructions-lemma-apply-modules} are isomorphisms for all sufficiently large $n$. \end{lemma} 
\begin{proposition} \label{proposition-coherent-modules-on-proj} Let $A$ be a graded ring such that $A_0$ is Noetherian and $A$ is generated by finitely many elements of $A_1$ over $A_0$. Set $X = \text{Proj}(A)$. The functor $M \mapsto \widetilde M$ induces an equivalence $$ \text{Mod}^{fg}_A/\text{Mod}^{fg}_{A, torsion} \longrightarrow \textit{Coh}(\mathcal{O}_X) $$ whose quasi-inverse is given by $\mathcal{F} \longmapsto \bigoplus_{n \geq 0} \Gamma(X, \mathcal{F}(n))$. \end{proposition} 
\begin{lemma} \label{lemma-coherent-on-proj-general} Let $A$ be a Noetherian graded ring. Set $X = \text{Proj}(A)$. Then $X$ is a Noetherian scheme. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. \begin{enumerate} \item There exists an $r \geq 0$ and $d_1, \ldots, d_r \in \mathbf{Z}$ and a surjection $$ \bigoplus\nolimits_{j = 1, \ldots, r} \mathcal{O}_X(d_j) \longrightarrow \mathcal{F}. $$ \item For any $p$ the cohomology group $H^p(X, \mathcal{F})$ is a finite $A_0$-module. \item If $p > 0$, then $H^p(X, \mathcal{F}(d)) = 0$ for all $d$ large enough. \item For any $k \in \mathbf{Z}$ the graded $A$-module $$ \bigoplus\nolimits_{d \geq k} H^0(X, \mathcal{F}(d)) $$ is a finite $A$-module. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-recover-tail-graded-module-general} Let $A$ be a Noetherian graded ring and let $d$ be the lcm of generators of $A$ over $A_0$. Let $M$ be a finite graded $A$-module. Set $X = \text{Proj}(A)$ and let $\widetilde{M}$ be the quasi-coherent $\mathcal{O}_X$-module on $X$ associated to $M$. Let $k \in \mathbf{Z}$. \begin{enumerate} \item $N' = \bigoplus_{n \geq k} H^0(X, \widetilde{M(n)})$ is a finite $A$-module, \item $N = \bigoplus_{n \geq k} H^0(X, \widetilde{M}(n))$ is a finite $A$-module, \item there is a canonical map $N \to N'$, \item if $k$ is small enough there is a canonical map $M \to N'$, \item the map $M_n \to N'_n$ is an isomorphism for $n \gg 0$, \item $N_n \to N'_n$ is an isomorphism for $d | n$. \end{enumerate} \end{lemma} 
\begin{proposition} \label{proposition-coherent-modules-on-proj-general} Let $A$ be a Noetherian graded ring. Set $X = \text{Proj}(A)$. The functor $M \mapsto \widetilde M$ induces an equivalence $$ \text{Mod}^{fg}_A/\text{Mod}^{fg}_{A, irrelevant} \longrightarrow \textit{Coh}(\mathcal{O}_X) $$ whose quasi-inverse is given by $\mathcal{F} \longmapsto \bigoplus_{n \geq 0} \Gamma(X, \mathcal{F}(n))$. \end{proposition} 
\begin{lemma} \label{lemma-coherent-proper-ample} Let $R$ be a Noetherian ring. Let $X \to \Spec(R)$ be a proper morphism. Let $\mathcal{L}$ be an ample invertible sheaf on $X$. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. \begin{enumerate} \item The graded ring $A = \bigoplus_{d \geq 0} H^0(X, \mathcal{L}^{\otimes d})$ is a finitely generated $R$-algebra. \item There exists an $r \geq 0$ and $d_1, \ldots, d_r \in \mathbf{Z}$ and a surjection $$ \bigoplus\nolimits_{j = 1, \ldots, r} \mathcal{L}^{\otimes d_j} \longrightarrow \mathcal{F}. $$ \item For any $p$ the cohomology group $H^p(X, \mathcal{F})$ is a finite $R$-module. \item If $p > 0$, then $H^p(X, \mathcal{F} \otimes_{\mathcal{O}_X} \mathcal{L}^{\otimes d}) = 0$ for all $d$ large enough. \item For any $k \in \mathbf{Z}$ the graded $A$-module $$ \bigoplus\nolimits_{d \geq k} H^0(X, \mathcal{F} \otimes_{\mathcal{O}_X} \mathcal{L}^{\otimes d}) $$ is a finite $A$-module. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-kill-by-twisting} Let $f : X \to S$ be a morphism of schemes. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Let $\mathcal{L}$ be an invertible sheaf on $X$. Assume that \begin{enumerate} \item $S$ is Noetherian, \item $f$ is proper, \item $\mathcal{F}$ is coherent, and \item $\mathcal{L}$ is relatively ample on $X/S$. \end{enumerate} Then there exists an $n_0$ such that for all $n \geq n_0$ we have $$ R^pf_*\left(\mathcal{F} \otimes_{\mathcal{O}_X} \mathcal{L}^{\otimes n}\right) = 0 $$ for all $p > 0$. \end{lemma} 
\begin{lemma} \label{lemma-locally-projective-pushforward} Let $S$ be a locally Noetherian scheme. Let $f : X \to S$ be a locally projective morphism. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. Then $R^if_*\mathcal{F}$ is a coherent $\mathcal{O}_S$-module for all $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-vanshing-gives-ample} \begin{reference} \cite[III Proposition 2.6.1]{EGA} \end{reference} Let $R$ be a Noetherian ring. Let $f : X \to \Spec(R)$ be a proper morphism. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. The following are equivalent \begin{enumerate} \item $\mathcal{L}$ is ample on $X$ (this is equivalent to many other things, see Properties, Proposition \ref{properties-proposition-characterize-ample} and Morphisms, Lemma \ref{morphisms-lemma-finite-type-over-affine-ample-very-ample}), \item for every coherent $\mathcal{O}_X$-module $\mathcal{F}$ there exists an $n_0 \geq 0$ such that $H^p(X, \mathcal{F} \otimes \mathcal{L}^{\otimes n}) = 0$ for all $n \geq n_0$ and $p > 0$, and \item for every quasi-coherent sheaf of ideals $\mathcal{I} \subset \mathcal{O}_X$, there exists an $n \geq 1$ such that $H^1(X, \mathcal{I} \otimes \mathcal{L}^{\otimes n}) = 0$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-surjective-finite-morphism-ample} Let $R$ be a Noetherian ring. Let $f : Y \to X$ be a morphism of schemes proper over $R$. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Assume $f$ is finite and surjective. Then $\mathcal{L}$ is ample if and only if $f^*\mathcal{L}$ is ample. \end{lemma} 
\begin{lemma} \label{lemma-invert-s-cohomology} Let $X$ be a scheme. Let $\mathcal{L}$ be an invertible sheaf on $X$. Let $s \in \Gamma(X, \mathcal{L})$. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. If $X$ is quasi-compact and quasi-separated, the canonical map $$ H^p_*(X, \mathcal{L}, \mathcal{F})_{(s)} \longrightarrow H^p(X_s, \mathcal{F}) $$ which maps $\xi/s^n$ to $s^{-n}\xi$ is an isomorphism. \end{lemma} 
\begin{lemma} \label{lemma-section-affine-open-kills-classes} Let $X$ be a scheme. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Let $s \in \Gamma(X, \mathcal{L})$ be a section. Assume that \begin{enumerate} \item $X$ is quasi-compact and quasi-separated, and \item $X_s$ is affine. \end{enumerate} Then for every quasi-coherent $\mathcal{O}_X$-module $\mathcal{F}$ and every $p > 0$ and all $\xi \in H^p(X, \mathcal{F})$ there exists an $n \geq 0$ such that $s^n\xi = 0$ in $H^p(X, \mathcal{F} \otimes_{\mathcal{O}_X} \mathcal{L}^{\otimes n})$. \end{lemma} 
\begin{lemma} \label{lemma-ample-on-reduction} Let $i : Z \to X$ be a closed immersion of Noetherian schemes inducing a homeomorphism of underlying topological spaces. Let $\mathcal{L}$ be an invertible sheaf on $X$. Then $i^*\mathcal{L}$ is ample on $Z$, if and only if $\mathcal{L}$ is ample on $X$. \end{lemma} 
\begin{lemma} \label{lemma-thickening-quasi-affine} Let $i : Z \to X$ be a closed immersion of Noetherian schemes inducing a homeomorphism of underlying topological spaces. Then $X$ is quasi-affine if and only if $Z$ is quasi-affine. \end{lemma} 
\begin{lemma} \label{lemma-affine-in-presence-ample} Let $X$ be a scheme. Let $\mathcal{L}$ be an ample invertible $\mathcal{O}_X$-module. Let $n_0$ be an integer. If $H^p(X, \mathcal{L}^{\otimes -n}) = 0$ for $n \geq n_0$ and $p > 0$, then $X$ is affine. \end{lemma} 
\begin{lemma} \label{lemma-affine-if-quasi-affine} Let $X$ be a quasi-affine scheme. If $H^p(X, \mathcal{O}_X) = 0$ for $p > 0$, then $X$ is affine. \end{lemma} 
\begin{lemma} \label{lemma-chow-Noetherian} \begin{reference} \cite[II Theorem 5.6.1(a)]{EGA} \end{reference} Let $S$ be a Noetherian scheme. Let $f : X \to S$ be a separated morphism of finite type. Then there exist an $n \geq 0$ and a diagram $$ \xymatrix{ X \ar[rd] & X' \ar[d] \ar[l]^\pi \ar[r] & \mathbf{P}^n_S \ar[dl] \\ & S & } $$ where $X' \to \mathbf{P}^n_S$ is an immersion, and $\pi : X' \to X$ is proper and surjective. Moreover, we may arrange it such that there exists a dense open subscheme $U \subset X$ such that $\pi^{-1}(U) \to U$ is an isomorphism. \end{lemma} 
\begin{proposition} \label{proposition-proper-pushforward-coherent} \begin{reference} \cite[III Theorem 3.2.1]{EGA} \end{reference} Let $S$ be a locally Noetherian scheme. Let $f : X \to S$ be a proper morphism. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. Then $R^if_*\mathcal{F}$ is a coherent $\mathcal{O}_S$-module for all $i \geq 0$. \end{proposition} 
\begin{lemma} \label{lemma-proper-over-affine-cohomology-finite} Let $S = \Spec(A)$ with $A$ a Noetherian ring. Let $f : X \to S$ be a proper morphism. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. Then $H^i(X, \mathcal{F})$ is a finite $A$-module for all $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-graded-finiteness} Let $A$ be a Noetherian ring. Let $B$ be a finitely generated graded $A$-algebra. Let $f : X \to \Spec(A)$ be a proper morphism. Set $\mathcal{B} = f^*\widetilde B$. Let $\mathcal{F}$ be a quasi-coherent graded $\mathcal{B}$-module of finite type. \begin{enumerate} \item For every $p \geq 0$ the graded $B$-module $H^p(X, \mathcal{F})$ is a finite $B$-module. \item If $\mathcal{L}$ is an ample invertible $\mathcal{O}_X$-module, then there exists an integer $d_0$ such that $H^p(X, \mathcal{F} \otimes \mathcal{L}^{\otimes d}) = 0$ for all $p > 0$ and $d \geq d_0$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-cohomology-powers-ideal-times-F} \begin{reference} \cite[III Cor 3.3.2]{EGA} \end{reference} Let $A$ be a Noetherian ring. Let $I \subset A$ be an ideal. Set $B = \bigoplus_{n \geq 0} I^n$. Let $f : X \to \Spec(A)$ be a proper morphism. Let $\mathcal{F}$ be a coherent sheaf on $X$. Then for every $p \geq 0$ the graded $B$-module $\bigoplus_{n \geq 0} H^p(X, I^n\mathcal{F})$ is a finite $B$-module. \end{lemma} 
\begin{lemma} \label{lemma-cohomology-powers-ideal-times-sheaf} Given a morphism of schemes $f : X \to Y$, a quasi-coherent sheaf $\mathcal{F}$ on $X$, and a quasi-coherent sheaf of ideals $\mathcal{I} \subset \mathcal{O}_Y$. Assume $Y$ locally Noetherian, $f$ proper, and $\mathcal{F}$ coherent. Then $$ \mathcal{M} = \bigoplus\nolimits_{n \geq 0} R^pf_*(\mathcal{I}^n\mathcal{F}) $$ is a graded $\mathcal{A} = \bigoplus_{n \geq 0} \mathcal{I}^n$-module which is quasi-coherent and of finite type. \end{lemma} 
\begin{lemma} \label{lemma-cohomology-powers-ideal-application} Let $A$ be a Noetherian ring. Let $I \subset A$ be an ideal. Let $f : X \to \Spec(A)$ be a proper morphism. Let $\mathcal{F}$ be a coherent sheaf on $X$. Then for every $p \geq 0$ there exists an integer $c \geq 0$ such that \begin{enumerate} \item the multiplication map $I^{n - c} \otimes H^p(X, I^c\mathcal{F}) \to H^p(X, I^n\mathcal{F})$ is surjective for all $n \geq c$, \item the image of $H^p(X, I^{n + m}\mathcal{F}) \to H^p(X, I^n\mathcal{F})$ is contained in the submodule $I^{m - e} H^p(X, I^n\mathcal{F})$ where $e = \max(0, c - n)$ for $n + m \geq c$, $n, m \geq 0$, \item we have $$ \Ker(H^p(X, I^n\mathcal{F}) \to H^p(X, \mathcal{F})) = \Ker(H^p(X, I^n\mathcal{F}) \to H^p(X, I^{n - c}\mathcal{F})) $$ for $n \geq c$, \item there are maps $I^nH^p(X, \mathcal{F}) \to H^p(X, I^{n - c}\mathcal{F})$ for $n \geq c$ such that the compositions $$ H^p(X, I^n\mathcal{F}) \to  I^{n - c}H^p(X, \mathcal{F}) \to H^p(X, I^{n - 2c}\mathcal{F}) $$ and $$ I^nH^p(X, \mathcal{F}) \to H^p(X, I^{n - c}\mathcal{F}) \to I^{n - 2c}H^p(X, \mathcal{F}) $$ for $n \geq 2c$ are the canonical ones, and \item the inverse systems $(H^p(X, I^n\mathcal{F}))$ and $(I^nH^p(X, \mathcal{F}))$ are pro-isomorphic. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-ML-cohomology-powers-ideal} Let $A$ be a Noetherian ring. Let $I \subset A$ be an ideal. Let $f : X \to \Spec(A)$ be a proper morphism. Let $\mathcal{F}$ be a coherent sheaf on $X$. Fix $p \geq 0$. There exists a $c \geq 0$ such that \begin{enumerate} \item for all $n \geq c$ we have $$ \Ker(H^p(X, \mathcal{F}) \to H^p(X, \mathcal{F}/I^n\mathcal{F})) \subset I^{n - c}H^p(X, \mathcal{F}). $$ \item the inverse system $$ \left(H^p(X, \mathcal{F}/I^n\mathcal{F})\right)_{n \in \mathbf{N}} $$ satisfies the Mittag-Leffler condition (see Homology, Definition \ref{homology-definition-Mittag-Leffler}), and \item we have $$ \Im(H^p(X, \mathcal{F}/I^k\mathcal{F}) \to H^p(X, \mathcal{F}/I^n\mathcal{F})) = \Im(H^p(X, \mathcal{F}) \to H^p(X, \mathcal{F}/I^n\mathcal{F})) $$ for all $k \geq n + c$. \end{enumerate} \end{lemma} 
\begin{theorem}[Theorem on formal functions] \label{theorem-formal-functions} Let $A$ be a Noetherian ring. Let $I \subset A$ be an ideal. Let $f : X \to \Spec(A)$ be a proper morphism. Let $\mathcal{F}$ be a coherent sheaf on $X$. Fix $p \geq 0$. The system of maps $$ H^p(X, \mathcal{F})/I^nH^p(X, \mathcal{F}) \longrightarrow H^p(X, \mathcal{F}/I^n\mathcal{F}) $$ define an isomorphism of limits $$ H^p(X, \mathcal{F})^\wedge \longrightarrow \lim_n H^p(X, \mathcal{F}/I^n\mathcal{F}) $$ where the left hand side is the completion of the $A$-module $H^p(X, \mathcal{F})$ with respect to the ideal $I$, see Algebra, Section \ref{algebra-section-completion}. Moreover, this is in fact a homeomorphism for the limit topologies. \end{theorem} 
\begin{lemma} \label{lemma-spell-out-theorem-formal-functions} Let $A$ be a ring. Let $I \subset A$ be an ideal. Assume $A$ is Noetherian and complete with respect to $I$. Let $f : X \to \Spec(A)$ be a proper morphism. Let $\mathcal{F}$ be a coherent sheaf on $X$. Then $$ H^p(X, \mathcal{F}) = \lim_n H^p(X, \mathcal{F}/I^n\mathcal{F}) $$ for all $p \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-formal-functions-stalk} Given a morphism of schemes $f : X \to Y$ and a quasi-coherent sheaf $\mathcal{F}$ on $X$. Assume \begin{enumerate} \item $Y$ locally Noetherian, \item $f$ proper, and \item $\mathcal{F}$ coherent. \end{enumerate} Let $y \in Y$ be a point. Consider the infinitesimal neighbourhoods $$ \xymatrix{ X_n = \Spec(\mathcal{O}_{Y, y}/\mathfrak m_y^n) \times_Y X \ar[r]_-{i_n} \ar[d]_{f_n} & X \ar[d]^f \\ \Spec(\mathcal{O}_{Y, y}/\mathfrak m_y^n) \ar[r]^-{c_n} & Y } $$ of the fibre $X_1 = X_y$ and set $\mathcal{F}_n = i_n^*\mathcal{F}$. Then we have $$ \left(R^pf_*\mathcal{F}\right)_y^\wedge \cong \lim_n H^p(X_n, \mathcal{F}_n) $$ as $\mathcal{O}_{Y, y}^\wedge$-modules. \end{lemma} 
\begin{lemma} \label{lemma-higher-direct-images-zero-finite-fibre} Let $f : X \to Y$ be a morphism of schemes. Let $y \in Y$. Assume \begin{enumerate} \item $Y$ locally Noetherian, \item $f$ is proper, and \item $f^{-1}(\{y\})$ is finite. \end{enumerate} Then for any coherent sheaf $\mathcal{F}$ on $X$ we have $(R^pf_*\mathcal{F})_y = 0$ for all $p > 0$. \end{lemma} 
\begin{lemma} \label{lemma-higher-direct-images-zero-above-dimension-fibre} Let $f : X \to Y$ be a morphism of schemes. Let $y \in Y$. Assume \begin{enumerate} \item $Y$ locally Noetherian, \item $f$ is proper, and \item $\dim(X_y) = d$. \end{enumerate} Then for any coherent sheaf $\mathcal{F}$ on $X$ we have $(R^pf_*\mathcal{F})_y = 0$ for all $p > d$. \end{lemma} 
\begin{lemma} \label{lemma-characterize-finite} (For a more general version see More on Morphisms, Lemma \ref{more-morphisms-lemma-characterize-finite}.) Let $f : X \to S$ be a morphism of schemes. Assume $S$ is locally Noetherian. The following are equivalent \begin{enumerate} \item $f$ is finite, and \item $f$ is proper with finite fibres. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-proper-finite-fibre-finite-in-neighbourhood} \begin{slogan} A proper morphism is finite in a neighbourhood of a finite fiber. \end{slogan} (For a more general version see More on Morphisms, Lemma \ref{more-morphisms-lemma-proper-finite-fibre-finite-in-neighbourhood}.) Let $f : X \to S$ be a morphism of schemes. Let $s \in S$. Assume \begin{enumerate} \item $S$ is locally Noetherian, \item $f$ is proper, and \item $f^{-1}(\{s\})$ is a finite set. \end{enumerate} Then there exists an open neighbourhood $V \subset S$ of $s$ such that $f|_{f^{-1}(V)} : f^{-1}(V) \to V$ is finite. \end{lemma} 
\begin{lemma} \label{lemma-ample-on-fibre} Let $f : X \to Y$ be a proper morphism of schemes with $Y$ Noetherian. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. Let $y \in Y$ be a point such that $\mathcal{L}_y$ is ample on $X_y$. Then there exists a $d_0$ such that for all $d \geq d_0$ we have $$ R^pf_*(\mathcal{F} \otimes_{\mathcal{O}_X} \mathcal{L}^{\otimes d})_y = 0 \text{ for }p > 0 $$ and the map $$ f_*(\mathcal{F} \otimes_{\mathcal{O}_X} \mathcal{L}^{\otimes d})_y \longrightarrow H^0(X_y, \mathcal{F}_y \otimes_{\mathcal{O}_{X_y}} \mathcal{L}_y^{\otimes d}) $$ is surjective. \end{lemma} 
\begin{lemma} \label{lemma-ample-in-neighbourhood} (For a more general version see More on Morphisms, Lemma \ref{more-morphisms-lemma-ample-in-neighbourhood}.) Let $f : X \to Y$ be a proper morphism of schemes with $Y$ Noetherian. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Let $y \in Y$ be a point such that $\mathcal{L}_y$ is ample on $X_y$. Then there is an open neighbourhood $V \subset Y$ of $y$ such that $\mathcal{L}|_{f^{-1}(V)}$ is ample on $f^{-1}(V)/V$. \end{lemma} 
\begin{lemma} \label{lemma-perfect-direct-image} Let $A$ be a Noetherian ring and set $S = \Spec(A)$. Let $f : X \to S$ be a proper morphism of schemes. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module flat over $S$. Then \begin{enumerate} \item $R\Gamma(X, \mathcal{F})$ is a perfect object of $D(A)$, and \item for any ring map $A \to A'$ the base change map $$ R\Gamma(X, \mathcal{F}) \otimes_A^{\mathbf{L}} A' \longrightarrow R\Gamma(X_{A'}, \mathcal{F}_{A'}) $$ is an isomorphism. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-inverse-systems-affine} If $X = \Spec(A)$ is the spectrum of a Noetherian ring and $\mathcal{I}$ is the quasi-coherent sheaf of ideals associated to the ideal $I \subset A$, then $\textit{Coh}(X, \mathcal{I})$ is equivalent to the category of finite $A^\wedge$-modules where $A^\wedge$ is the completion of $A$ with respect to $I$. \end{lemma} 
\begin{lemma} \label{lemma-inverse-systems-abelian} Let $X$ be a Noetherian scheme and let $\mathcal{I} \subset \mathcal{O}_X$ be a quasi-coherent sheaf of ideals. \begin{enumerate} \item The category $\textit{Coh}(X, \mathcal{I})$ is abelian. \item For $U \subset X$ open the restriction functor $\textit{Coh}(X, \mathcal{I}) \to \textit{Coh}(U, \mathcal{I}|_U)$ is exact. \item Exactness in $\textit{Coh}(X, \mathcal{I})$ may be checked by restricting to the members of an open covering of $X$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-inverse-systems-surjective} Let $X$ be a Noetherian scheme and let $\mathcal{I} \subset \mathcal{O}_X$ be a quasi-coherent sheaf of ideals. A map $(\mathcal{F}_n) \to (\mathcal{G}_n)$ is surjective in $\textit{Coh}(X, \mathcal{I})$ if and only if $\mathcal{F}_1 \to \mathcal{G}_1$ is surjective. \end{lemma} 
\begin{lemma} \label{lemma-exact} The functor (\ref{equation-completion-functor}) is exact. \end{lemma} 
\begin{lemma} \label{lemma-completion-internal-hom} Let $X$ be a Noetherian scheme and let $\mathcal{I} \subset \mathcal{O}_X$ be a quasi-coherent sheaf of ideals. Let $\mathcal{F}$, $\mathcal{G}$ be coherent $\mathcal{O}_X$-modules. Set $\mathcal{H} = \SheafHom_{\mathcal{O}_X}(\mathcal{G}, \mathcal{F})$. Then $$ \lim H^0(X, \mathcal{H}/\mathcal{I}^n\mathcal{H}) = \Mor_{\textit{Coh}(X, \mathcal{I})} (\mathcal{G}^\wedge, \mathcal{F}^\wedge). $$ \end{lemma} 
\begin{lemma} \label{lemma-existence-easy} Let $X$ be a Noetherian scheme and let $\mathcal{I} \subset \mathcal{O}_X$ be a quasi-coherent sheaf of ideals. Let $\mathcal{G}$ be a coherent $\mathcal{O}_X$-module. Let $(\mathcal{F}_n)$ an object of $\textit{Coh}(X, \mathcal{I})$. \begin{enumerate} \item If $\alpha : (\mathcal{F}_n) \to \mathcal{G}^\wedge$ is a map whose kernel and cokernel are annihilated by a power of $\mathcal{I}$, then there exists a unique (up to unique isomorphism) triple $(\mathcal{F}, a, \beta)$ where \begin{enumerate} \item $\mathcal{F}$ is a coherent $\mathcal{O}_X$-module, \item $a : \mathcal{F} \to \mathcal{G}$ is an $\mathcal{O}_X$-module map whose kernel and cokernel are annihilated by a power of $\mathcal{I}$, \item $\beta : (\mathcal{F}_n) \to \mathcal{F}^\wedge$ is an isomorphism, and \item $\alpha = a^\wedge \circ \beta$. \end{enumerate} \item If $\alpha : \mathcal{G}^\wedge \to (\mathcal{F}_n)$ is a map whose kernel and cokernel are annihilated by a power of $\mathcal{I}$, then there exists a unique (up to unique isomorphism) triple $(\mathcal{F}, a, \beta)$ where \begin{enumerate} \item $\mathcal{F}$ is a coherent $\mathcal{O}_X$-module, \item $a : \mathcal{G} \to \mathcal{F}$ is an $\mathcal{O}_X$-module map whose kernel and cokernel are annihilated by a power of $\mathcal{I}$, \item $\beta : \mathcal{F}^\wedge \to (\mathcal{F}_n)$ is an isomorphism, and \item $\alpha = \beta \circ a^\wedge$. \end{enumerate} \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-torsion-hom-ext} Let $X$ be a Noetherian scheme and let $\mathcal{I} \subset \mathcal{O}_X$ be a quasi-coherent sheaf of ideals. Any object of $\textit{Coh}(X, \mathcal{I})$ which is annihilated by a power of $\mathcal{I}$ is in the essential image of (\ref{equation-completion-functor}). Moreover, if $\mathcal{F}$, $\mathcal{G}$ are in $\textit{Coh}(\mathcal{O}_X)$ and either $\mathcal{F}$ or $\mathcal{G}$ is annihilated by a power of $\mathcal{I}$, then the maps $$ \xymatrix{ \Hom_X(\mathcal{F}, \mathcal{G}) \ar[d] & \Ext_X(\mathcal{F}, \mathcal{G}) \ar[d] \\ \Hom_{\textit{Coh}(X, \mathcal{I})}(\mathcal{F}^\wedge, \mathcal{G}^\wedge) & \Ext_{\textit{Coh}(X, \mathcal{I})}(\mathcal{F}^\wedge, \mathcal{G}^\wedge) } $$ are isomorphisms. \end{lemma} 
\begin{lemma} \label{lemma-finite-over-rees-algebra} Let $X$ be a Noetherian scheme and let $\mathcal{I} \subset \mathcal{O}_X$ be a quasi-coherent sheaf of ideals. If $(\mathcal{F}_n)$ is an object of $\textit{Coh}(X, \mathcal{I})$ then $\bigoplus \Ker(\mathcal{F}_{n + 1} \to \mathcal{F}_n)$ is a finite type, graded, quasi-coherent $\bigoplus \mathcal{I}^n/\mathcal{I}^{n + 1}$-module. \end{lemma} 
\begin{lemma} \label{lemma-inverse-systems-pullback} Let $f : X \to Y$ be a morphism of Noetherian schemes. Let $\mathcal{J} \subset \mathcal{O}_Y$ be a quasi-coherent sheaf of ideals and set $\mathcal{I} = f^{-1}\mathcal{J} \mathcal{O}_X$. Then there is a right exact functor $$ f^* : \textit{Coh}(Y, \mathcal{J}) \longrightarrow \textit{Coh}(X, \mathcal{I}) $$ which sends $(\mathcal{G}_n)$ to $(f^*\mathcal{G}_n)$. If $f$ is flat, then $f^*$ is an exact functor. \end{lemma} 
\begin{lemma} \label{lemma-inverse-systems-pullback-equivalence} Let $f : X' \to X$ be a morphism of Noetherian schemes. Let $Z \subset X$ be a closed subscheme and denote $Z' = f^{-1}Z$ the scheme theoretic inverse image. Let $\mathcal{I} \subset \mathcal{O}_X$, $\mathcal{I}' \subset \mathcal{O}_{X'}$ be the corresponding quasi-coherent sheaves of ideals. If $f$ is flat and the induced morphism $Z' \to Z$ is an isomorphism, then the pullback functor $f^* : \textit{Coh}(X, \mathcal{I}) \to \textit{Coh}(X', \mathcal{I}')$ (Lemma \ref{lemma-inverse-systems-pullback}) is an equivalence. \end{lemma} 
\begin{lemma} \label{lemma-inverse-systems-ideals-equivalence} Let $X$ be a Noetherian scheme. Let $\mathcal{I}, \mathcal{J} \subset \mathcal{O}_X$ be quasi-coherent sheaves of ideals. If $V(\mathcal{I}) = V(\mathcal{J})$ is the same closed subset of $X$, then $\textit{Coh}(X, \mathcal{I})$ and $\textit{Coh}(X, \mathcal{J})$ are equivalent. \end{lemma} 
\begin{lemma} \label{lemma-fully-faithful} Let $A$ be Noetherian ring complete with respect to an ideal $I$. Let $f : X \to \Spec(A)$ be a proper morphism. Let $\mathcal{I} = I\mathcal{O}_X$. Then the functor (\ref{equation-completion-functor}) is fully faithful. \end{lemma} 
\begin{lemma} \label{lemma-vanishing-projective} Let $A$ be Noetherian ring and $I \subset A$ an ideal. Let $f : X \to \Spec(A)$ be a proper morphism and let $\mathcal{L}$ be an $f$-ample invertible sheaf. Let $\mathcal{I} = I\mathcal{O}_X$. Let $(\mathcal{F}_n)$ be an object of $\textit{Coh}(X, \mathcal{I})$. Then there exists an integer $d_0$ such that $$ H^1(X, \Ker(\mathcal{F}_{n + 1} \to \mathcal{F}_n) \otimes \mathcal{L}^{\otimes d} ) = 0 $$ for all $n \geq 0$ and all $d \geq d_0$. \end{lemma} 
\begin{lemma} \label{lemma-existence-projective} Let $A$ be Noetherian ring complete with respect to an ideal $I$. Let $f : X \to \Spec(A)$ be a projective morphism. Let $\mathcal{I} = I\mathcal{O}_X$. Then the functor (\ref{equation-completion-functor}) is an equivalence. \end{lemma} 
\begin{lemma} \label{lemma-existence-tricky} Let $X$ be a Noetherian scheme. Let $\mathcal{I}, \mathcal{K} \subset \mathcal{O}_X$ be quasi-coherent sheaves of ideals. Let $X_e \subset X$ be the closed subscheme cut out by $\mathcal{K}^e$. Let $\mathcal{I}_e = \mathcal{I}\mathcal{O}_{X_e}$. Let $(\mathcal{F}_n)$ be an object of $\textit{Coh}(X, \mathcal{I})$. Assume \begin{enumerate} \item the functor $\textit{Coh}(\mathcal{O}_{X_e}) \to \textit{Coh}(X_e, \mathcal{I}_e)$ is an equivalence for all $e \geq 1$, and \item there exists a coherent sheaf $\mathcal{H}$ on $X$ and a map $\alpha : (\mathcal{F}_n) \to \mathcal{H}^\wedge$ whose kernel and cokernel are annihilated by a power of $\mathcal{K}$. \end{enumerate} Then $(\mathcal{F}_n)$ is in the essential image of (\ref{equation-completion-functor}). \end{lemma} 
\begin{lemma} \label{lemma-inverse-systems-push-pull} Let $Y$ be a Noetherian scheme. Let $\mathcal{J}, \mathcal{K} \subset \mathcal{O}_Y$ be quasi-coherent sheaves of ideals. Let $f : X \to Y$ be a proper morphism which is an isomorphism over $V = Y \setminus V(\mathcal{K})$. Set $\mathcal{I} = f^{-1}\mathcal{J} \mathcal{O}_X$. Let $(\mathcal{G}_n)$ be an object of $\textit{Coh}(Y, \mathcal{J})$, let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module, and let $\beta : (f^*\mathcal{G}_n)  \to \mathcal{F}^\wedge$ be an isomorphism in $\textit{Coh}(X, \mathcal{I})$. Then there exists a map $$ \alpha : (\mathcal{G}_n) \longrightarrow (f_*\mathcal{F})^\wedge $$ in $\textit{Coh}(Y, \mathcal{J})$ whose kernel and cokernel are annihilated by a power of $\mathcal{K}$. \end{lemma} 
\begin{proposition} \label{proposition-existence-proper} Let $A$ be a Noetherian ring complete with respect to an ideal $I$. Let $f : X \to \Spec(A)$ be a proper morphism of schemes. Set $\mathcal{I} = I\mathcal{O}_X$. Then the functor (\ref{equation-completion-functor}) is an equivalence. \end{proposition} 
\begin{lemma} \label{lemma-closed-proper-over-base} Let $f : X \to S$ be a morphism of schemes which is locally of finite type. Let $Z \subset X$ be a closed subset. The following are equivalent \begin{enumerate} \item the morphism $Z \to S$ is proper if $Z$ is endowed with the reduced induced closed subscheme structure (Schemes, Definition \ref{schemes-definition-reduced-induced-scheme}), \item for some closed subscheme structure on $Z$ the morphism $Z \to S$ is proper, \item for any closed subscheme structure on $Z$ the morphism $Z \to S$ is proper. \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-proper-over-base} Let $f : X \to S$ be a morphism of schemes which is locally of finite type. Let $Z \subset X$ be a closed subset. We say {\it $Z$ is proper over $S$} if the equivalent conditions of Lemma \ref{lemma-closed-proper-over-base} are satisfied. \end{definition} 
\begin{lemma} \label{lemma-closed-closed-proper-over-base} Let $f : X \to S$ be a morphism of schemes which is locally of finite type. Let $Y \subset Z \subset X$ be closed subsets. If $Z$ is proper over $S$, then the same is true for $Y$. \end{lemma} 
\begin{lemma} \label{lemma-base-change-closed-proper-over-base} Consider a cartesian diagram of schemes $$ \xymatrix{ X' \ar[d]_{f'} \ar[r]_{g'} & X \ar[d]^f \\ S' \ar[r]^g & S } $$ with $f$ locally of finite type. If $Z$ is a closed subset of $X$ proper over $S$, then $(g')^{-1}(Z)$ is a closed subset of $X'$ proper over $S'$. \end{lemma} 
\begin{lemma} \label{lemma-functoriality-closed-proper-over-base} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of schemes which are locally of finite type over $S$. \begin{enumerate} \item If $Y$ is separated over $S$ and $Z \subset X$ is a closed subset proper over $S$, then $f(Z)$ is a closed subset of $Y$ proper over $S$. \item If $f$ is universally closed and $Z \subset X$ is a closed subset proper over $S$, then $f(Z)$ is a closed subset of $Y$ proper over $S$. \item If $f$ is proper and $Z \subset Y$ is a closed subset proper over $S$, then $f^{-1}(Z)$ is a closed subset of $X$ proper over $S$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-union-closed-proper-over-base} Let $f : X \to S$ be a morphism of schemes which is locally of finite type. Let $Z_i \subset X$, $i = 1, \ldots, n$ be closed subsets. If $Z_i$, $i = 1, \ldots, n$ are proper over $S$, then the same is true for $Z_1 \cup \ldots \cup Z_n$. \end{lemma} 
\begin{lemma} \label{lemma-module-support-proper-over-base} Let $f : X \to S$ be a morphism of schemes which is locally of finite type. Let $\mathcal{F}$ be a finite type, quasi-coherent $\mathcal{O}_X$-module. The following are equivalent \begin{enumerate} \item the support of $\mathcal{F}$ is proper over $S$, \item the scheme theoretic support of $\mathcal{F}$ (Morphisms, Definition \ref{morphisms-definition-scheme-theoretic-support}) is proper over $S$, and \item there exists a closed subscheme $Z \subset X$ and a finite type, quasi-coherent $\mathcal{O}_Z$-module $\mathcal{G}$ such that (a) $Z \to S$ is proper, and (b) $(Z \to X)_*\mathcal{G} = \mathcal{F}$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-base-change-module-support-proper-over-base} Consider a cartesian diagram of schemes $$ \xymatrix{ X' \ar[d]_{f'} \ar[r]_{g'} & X \ar[d]^f \\ S' \ar[r]^g & S } $$ with $f$ locally of finite type. Let $\mathcal{F}$ be a finite type, quasi-coherent $\mathcal{O}_X$-module. If the support of $\mathcal{F}$ is proper over $S$, then the support of $(g')^*\mathcal{F}$ is proper over $S'$. \end{lemma} 
\begin{lemma} \label{lemma-cat-module-support-proper-over-base} Let $f : X \to S$ be a morphism of schemes which is locally of finite type. Let $\mathcal{F}$, $\mathcal{G}$ be finite type, quasi-coherent $\mathcal{O}_X$-module. \begin{enumerate} \item If the supports of $\mathcal{F}$, $\mathcal{G}$ are proper over $S$, then the same is true for $\mathcal{F} \oplus \mathcal{G}$, for any extension of $\mathcal{G}$ by $\mathcal{F}$, for $\Im(u)$ and $\Coker(u)$ given any $\mathcal{O}_X$-module map $u : \mathcal{F} \to \mathcal{G}$, and for any quasi-coherent quotient of $\mathcal{F}$ or $\mathcal{G}$. \item If $S$ is locally Noetherian, then the category of coherent $\mathcal{O}_X$-modules with support proper over $S$ is a Serre subcategory (Homology, Definition \ref{homology-definition-serre-subcategory}) of the abelian category of coherent $\mathcal{O}_X$-modules. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-support-proper-over-base-pushforward} Let $S$ be a locally Noetherian scheme. Let $f : X \to S$ be a morphism of schemes which is locally of finite type. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module with support proper over $S$. Then $R^pf_*\mathcal{F}$ is a coherent $\mathcal{O}_S$-module for all $p \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-systems-with-proper-support} Let $S$ be a Noetherian scheme. Let $f : X \to S$ be a finite type morphism. Let $\mathcal{I} \subset \mathcal{O}_X$ be a quasi-coherent sheaf of ideals. The following are Serre subcategories of $\textit{Coh}(X, \mathcal{I})$ \begin{enumerate} \item the full subcategory of $\textit{Coh}(X, \mathcal{I})$ consisting of those objects $(\mathcal{F}_n)$ such that the support of $\mathcal{F}_1$ is proper over $S$, \item the full subcategory of $\textit{Coh}(X, \mathcal{I})$ consisting of those objects $(\mathcal{F}_n)$ such that there exists a closed subscheme $Z \subset X$ proper over $S$ with $\mathcal{I}_Z \mathcal{F}_n = 0$ for all $n \geq 1$. \end{enumerate} \end{lemma} 
\begin{theorem}[Grothendieck's existence theorem] \label{theorem-grothendieck-existence} \begin{reference} \cite[III Theorem 5.1.5]{EGA} \end{reference} Let $A$ be a Noetherian ring complete with respect to an ideal $I$. Let $X$ be a separated, finite type scheme over $A$. Then the functor (\ref{equation-completion-functor-proper-over-A}) $$ \textit{Coh}_{\text{support proper over }A}(\mathcal{O}_X) \longrightarrow \textit{Coh}_{\text{support proper over }A}(X, \mathcal{I}) $$ is an equivalence. \end{theorem} 
\begin{lemma} \label{lemma-algebraize-formal-closed-subscheme} Let $A$ be a Noetherian ring complete with respect to an ideal $I$. Write $S = \Spec(A)$ and $S_n = \Spec(A/I^n)$. Let $X \to S$ be a separated morphism of finite type. For $n \geq 1$ we set $X_n = X \times_S S_n$. Suppose given a commutative diagram $$ \xymatrix{ Z_1 \ar[r] \ar[d] & Z_2 \ar[r] \ar[d] & Z_3 \ar[r] \ar[d] & \ldots \\ X_1 \ar[r]^{i_1} & X_2 \ar[r]^{i_2} & X_3 \ar[r] & \ldots } $$ of schemes with cartesian squares. Assume that \begin{enumerate} \item $Z_1 \to X_1$ is a closed immersion, and \item $Z_1 \to S_1$ is proper. \end{enumerate} Then there exists a closed immersion of schemes $Z \to X$ such that $Z_n = Z \times_S S_n$. Moreover, $Z$ is proper over $S$. \end{lemma} 
\begin{lemma} \label{lemma-algebraize-formal-scheme-finite-over-proper} Let $A$ be a Noetherian ring complete with respect to an ideal $I$. Write $S = \Spec(A)$ and $S_n = \Spec(A/I^n)$. Let $X \to S$ be a separated morphism of finite type. For $n \geq 1$ we set $X_n = X \times_S S_n$. Suppose given a commutative diagram $$ \xymatrix{ Y_1 \ar[r] \ar[d] & Y_2 \ar[r] \ar[d] & Y_3 \ar[r] \ar[d] & \ldots \\ X_1 \ar[r]^{i_1} & X_2 \ar[r]^{i_2} & X_3 \ar[r] & \ldots } $$ of schemes with cartesian squares. Assume that \begin{enumerate} \item $Y_n \to X_n$ is a finite morphism, and \item $Y_1 \to S_1$ is proper. \end{enumerate} Then there exists a finite morphism of schemes $Y \to X$ such that $Y_n = Y \times_S S_n$. Moreover, $Y$ is proper over $S$. \end{lemma} 
\begin{lemma} \label{lemma-algebraize-morphism} Let $A$ be a Noetherian ring complete with respect to an ideal $I$. Write $S = \Spec(A)$ and $S_n = \Spec(A/I^n)$. Let $X$, $Y$ be schemes over $S$. For $n \geq 1$ we set $X_n = X \times_S S_n$ and $Y_n = Y \times_S S_n$. Suppose given a compatible system of commutative diagrams $$ \xymatrix{ & & X_{n + 1} \ar[rd] \ar[rr]_{g_{n + 1}} & & Y_{n + 1} \ar[ld] \\ X_n \ar[rru] \ar[rd] \ar[rr]_{g_n} & & Y_n \ar[rru] \ar[ld] & S_{n + 1} \\ & S_n \ar[rru] } $$ Assume that \begin{enumerate} \item $X \to S$ is proper, and \item $Y \to S$ is separated of finite type. \end{enumerate} Then there exists a unique morphism of schemes $g : X \to Y$ over $S$ such that $g_n$ is the base change of $g$ to $S_n$. \end{lemma} 
\begin{theorem}[Grothendieck's algebraization theorem] \label{theorem-algebraization} Let $A$ be a Noetherian ring complete with respect to an ideal $I$. Set $S = \Spec(A)$ and $S_n = \Spec(A/I^n)$. Consider a commutative diagram $$ \xymatrix{ X_1 \ar[r]_{i_1} \ar[d] & X_2 \ar[r]_{i_2} \ar[d] & X_3 \ar[r] \ar[d] & \ldots \\ S_1 \ar[r] & S_2 \ar[r] & S_3 \ar[r] & \ldots } $$ of schemes with cartesian squares. Suppose given $(\mathcal{L}_n, \varphi_n)$ where each $\mathcal{L}_n$ is an invertible sheaf on $X_n$ and $\varphi_n : i_n^*\mathcal{L}_{n + 1} \to \mathcal{L}_n$ is an isomorphism. If \begin{enumerate} \item $X_1 \to S_1$ is proper, and \item $\mathcal{L}_1$ is ample on $X_1$ \end{enumerate} then there exists a proper morphism of schemes $X \to S$ and an ample invertible $\mathcal{O}_X$-module $\mathcal{L}$ and isomorphisms $X_n \cong X \times_S S_n$ and $\mathcal{L}_n \cong \mathcal{L}|_{X_n}$ compatible with the morphisms $i_n$ and $\varphi_n$. \end{theorem} 
