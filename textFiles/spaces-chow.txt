\begin{lemma} \label{lemma-delta-is-dimension} In Situation \ref{situation-setup} assume $B$ is Jacobson and that $\delta(b) = 0$ for every closed point $b$ of $|B|$. Let $X/B$ be good. If $Z \subset X$ is an integral closed subspace with generic point $\xi \in |Z|$, then the following integers are the same: \begin{enumerate} \item $\delta(\xi) = \delta_{X/B}(\xi)$, \item $\dim(|Z|)$, \item $\text{codim}(\{z\}, |Z|)$ for $z \in |Z|$ closed, \item the dimension of the local ring of $Z$ at $z$ for $z \in |Z|$ closed, and \item $\dim(\mathcal{O}_{Z, \overline{z}})$ for $z \in |Z|$ closed. \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-delta-dimension} In Situation \ref{situation-setup} for any good $X/B$ and any irreducible closed subset $T \subset |X|$ we define $$ \dim_\delta(T) = \delta(\xi) $$ where $\xi \in T$ is the generic point of $T$. We will call this the {\it $\delta$-dimension of $T$}. If $T \subset |X|$ is any closed subset, then we define $\dim_\delta(T)$ as the supremum of the $\delta$-dimensions of the irreducible components of $T$. If $Z$ is a closed subspace of $X$, then we set $\dim_\delta(Z) = \dim_\delta(|Z|)$. \end{definition} 
\begin{definition} \label{definition-cycles} In Situation \ref{situation-setup} let $X/B$ be good. Let $k \in \mathbf{Z}$. \begin{enumerate} \item A {\it cycle on $X$} is a formal sum $$ \alpha = \sum n_Z [Z] $$ where the sum is over integral closed subspaces $Z \subset X$, each $n_Z \in \mathbf{Z}$, and $\{|Z|; n_Z \not = 0\}$ is a locally finite collection of subsets of $|X|$ (Topology, Definition \ref{topology-definition-locally-finite}). \item A {\it $k$-cycle} on $X$ is a cycle $$ \alpha = \sum n_Z [Z] $$ where $n_Z \not = 0 \Rightarrow \dim_\delta(Z) = k$. \item The abelian group of all $k$-cycles on $X$ is denoted $Z_k(X)$. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-length} Let $S$ be a scheme and let $X$ be an algebraic space over $S$. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Let $x \in |X|$. Let $d \in \{0, 1, 2, \ldots, \infty\}$. The following are equivalent \begin{enumerate} \item $\text{length}_{\mathcal{O}_{X, \overline{x}}} \mathcal{F}_{\overline{x}} = d$ \item for some \'etale morphism $U \to X$ with $U$ a scheme and $u \in U$ mapping to $x$ we have $\text{length}_{\mathcal{O}_{U, u}} (\mathcal{F}|_U)_u = d$ \item for any \'etale morphism $U \to X$ with $U$ a scheme and $u \in U$ mapping to $x$ we have $\text{length}_{\mathcal{O}_{U, u}} (\mathcal{F}|_U)_u = d$ \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-length-at-x} Let $S$ be a scheme and let $X$ be an algebraic space over $S$. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Let $x \in |X|$. Let $d \in \{0, 1, 2, \ldots, \infty\}$. We say {\it $\mathcal{F}$ has length $d$ at $x$} if the equivalent conditions of Lemma \ref{lemma-length} are satisfied. \end{definition} 
\begin{lemma} \label{lemma-length-closed-immersion} Let $S$ be a scheme. Let $i : Y \to X$ be a closed immersion of algebraic spaces over $S$. Let $\mathcal{G}$ be a quasi-coherent $\mathcal{O}_Y$-module. Let $y \in |Y|$ with image $x \in |X|$. Let $d \in \{0, 1, 2, \ldots, \infty\}$. The following are equivalent \begin{enumerate} \item $\mathcal{G}$ has length $d$ at $y$, and \item $i_*\mathcal{G}$ has length $d$ at $x$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-length-finite} Let $S$ be a scheme and let $X$ be a locally Noetherian algebraic space over $S$. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. Let $x \in |X|$. The following are equivalent \begin{enumerate} \item for some \'etale morphism $U \to X$ with $U$ a scheme and $u \in U$ mapping to $x$ we have $u$ is a generic point of an irreducible component of $\text{Supp}(\mathcal{F}|_U)$, \item for any \'etale morphism $U \to X$ with $U$ a scheme and $u \in U$ mapping to $x$ we have $u$ is a generic point of an irreducible component of $\text{Supp}(\mathcal{F}|_U)$, \item the length of $\mathcal{F}$ at $x$ is finite and nonzero. \end{enumerate} If $X$ is decent (equivalently quasi-separated) then these are also equivalent to \begin{enumerate} \item[(4)] $x$ is a generic point of an irreducible component of $\text{Supp}(\mathcal{F})$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-point-of-max-dimension} In Situation \ref{situation-setup} let $X/B$ be good. Let $T \subset |X|$ be a closed subset and $t \in T$. If $\dim_\delta(T) \leq k$ and $\delta(t) = k$, then $t$ is a generic point of an irreducible component of $T$. \end{lemma} 
\begin{definition} \label{definition-cycle-associated-to-closed-subscheme} In Situation \ref{situation-setup} let $X/B$ be good. Let $Y \subset X$ be a closed subspace. \begin{enumerate} \item For an irreducible component $Z \subset Y$ with generic point $\xi$ the length of $\mathcal{O}_Y$ at $\xi$ (Definition \ref{definition-length-at-x}) is called the {\it multiplicity of $Z$ in $Y$}. By Lemma \ref{lemma-length-finite} applied to $\mathcal{O}_Y$ on $Y$ this is a positive integer. \item Assume $\dim_\delta(Y) \leq k$. The {\it $k$-cycle associated to $Y$} is $$ [Y]_k = \sum m_{Z, Y}[Z] $$ where the sum is over the irreducible components $Z$ of $Y$ of $\delta$-dimension $k$ and $m_{Z, Y}$ is the multiplicity of $Z$ in $Y$. This is a $k$-cycle by Spaces over Fields, Lemma \ref{spaces-over-fields-lemma-components-locally-finite}. \end{enumerate} \end{definition} 
\begin{definition} \label{definition-cycle-associated-to-coherent-sheaf} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module. \begin{enumerate} \item For an integral closed subspace $Z \subset X$ with generic point $\xi$ such that $|Z|$ is an irreducible component of $\text{Supp}(\mathcal{F})$ the length of $\mathcal{F}$ at $\xi$ (Definition \ref{definition-length-at-x}) is called the {\it multiplicity of $Z$ in $\mathcal{F}$}. By Lemma \ref{lemma-length-finite} this is a positive integer. \item Assume $\dim_\delta(\text{Supp}(\mathcal{F})) \leq k$. The {\it $k$-cycle associated to $\mathcal{F}$} is $$ [\mathcal{F}]_k = \sum m_{Z, \mathcal{F}}[Z] $$ where the sum is over the integral closed subspaces $Z \subset X$ corresponding to irreducible components of $\text{Supp}(\mathcal{F})$ of $\delta$-dimension $k$ and $m_{Z, \mathcal{F}}$ is the multiplicity of $Z$ in $\mathcal{F}$. This is a $k$-cycle by Spaces over Fields, Lemma \ref{spaces-over-fields-lemma-components-locally-finite}. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-reformulate-coeff-coherent} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{F}$ be a coherent $\mathcal{O}_X$-module with $\dim_\delta(\text{Supp}(\mathcal{F})) \leq k$. Let $Z$ be an integral closed subspace of $X$ with $\dim_\delta(Z) = k$. Let $\xi \in |Z|$ be the generic point. Then the coefficient of $Z$ in $[\mathcal{F}]_k$ is the length of $\mathcal{F}$ at $\xi$. \end{lemma} 
\begin{lemma} \label{lemma-cycle-closed-coherent} In Situation \ref{situation-setup} let $X/B$ be good. Let $Y \subset X$ be a closed subspace. If $\dim_\delta(Y) \leq k$, then $[Y]_k = [i_*\mathcal{O}_Y]_k$ where $i : Y \to X$ is the inclusion morphism. \end{lemma} 
\begin{lemma} \label{lemma-additivity-sheaf-cycle} In Situation \ref{situation-setup} let $X/B$ be good. Let $0 \to \mathcal{F} \to \mathcal{G} \to \mathcal{H} \to 0$ be a short exact sequence of coherent $\mathcal{O}_X$-modules. Assume that the $\delta$-dimension of the supports of $\mathcal{F}$, $\mathcal{G}$, and $\mathcal{H}$ are $\leq k$. Then $[\mathcal{G}]_k = [\mathcal{F}]_k + [\mathcal{H}]_k$. \end{lemma} 
\begin{lemma} \label{lemma-proper-image} In Situation \ref{situation-setup} let $X,Y/B$ be good and let $f : X \to Y$ be a morphism over $B$. If $Z \subset X$ is an integral closed subspace, then there exists a unique integral closed subspace $Z' \subset Y$ such that there is a commutative diagram $$ \xymatrix{ Z \ar[r] \ar[d] & X \ar[d]^f \\ Z' \ar[r] & Y } $$ with $Z \to Z'$ dominant. If $f$ is proper, then $Z \to Z'$ is proper and surjective. \end{lemma} 
\begin{lemma} \label{lemma-equal-dimension} In Situation \ref{situation-setup} let $X, Y/B$ be good and let $f : X \to Y$ be a morphism over $B$. Assume $X$, $Y$ integral and $\dim_\delta(X) = \dim_\delta(Y)$. Then either $f$ factors through a proper closed subspace of $Y$, or $f$ is dominant and the extension of function fields $R(X) / R(Y)$ is finite. \end{lemma} 
\begin{lemma} \label{lemma-quasi-compact-locally-finite} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a morphism over $B$. Assume $f$ is quasi-compact, and $\{T_i\}_{i \in I}$ is a locally finite collection of closed subsets of $|X|$. Then $\{\overline{|f|(T_i)}\}_{i \in I}$ is a locally finite collection of closed subsets of $|Y|$. \end{lemma} 
\begin{definition} \label{definition-proper-pushforward} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a morphism over $B$. Assume $f$ is proper. \begin{enumerate} \item Let $Z \subset X$ be an integral closed subspace with $\dim_\delta(Z) = k$. Let $Z' \subset Y$ be the image of $Z$ as in Lemma \ref{lemma-proper-image}. We define $$ f_*[Z] = \left\{ \begin{matrix} 0 & \text{if} & \dim_\delta(Z')< k, \\ \deg(Z/Z') [Z'] & \text{if} & \dim_\delta(Z') = k. \end{matrix} \right. $$ The degree of $Z$ over $Z'$ is defined and finite if $\dim_\delta(Z') = \dim_\delta(Z)$ by Lemma \ref{lemma-equal-dimension} and Spaces over Fields, Definition \ref{spaces-over-fields-definition-degree}. \item Let $\alpha = \sum n_Z [Z]$ be a $k$-cycle on $X$. The {\it pushforward} of $\alpha$ as the sum $$ f_* \alpha = \sum n_Z f_*[Z] $$ where each $f_*[Z]$ is defined as above. The sum is locally finite by Lemma \ref{lemma-quasi-compact-locally-finite} above. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-compose-pushforward} In Situation \ref{situation-setup} let $X, Y, Z/B$ be good. Let $f : X \to Y$ and $g : Y \to Z$ be proper morphisms over $B$. Then $g_* \circ f_* = (g \circ f)_*$ as maps $Z_k(X) \to Z_k(Z)$. \end{lemma} 
\begin{lemma} \label{lemma-cycle-push-sheaf} In Situation \ref{situation-setup} let $f : X \to Y$ be a proper morphism of good algebraic spaces over $B$. \begin{enumerate} \item Let $Z \subset X$ be a closed subspace with $\dim_\delta(Z) \leq k$. Then $$ f_*[Z]_k = [f_*{\mathcal O}_Z]_k. $$ \item Let $\mathcal{F}$ be a coherent sheaf on $X$ such that $\dim_\delta(\text{Supp}(\mathcal{F})) \leq k$. Then $$ f_*[\mathcal{F}]_k = [f_*{\mathcal F}]_k. $$ \end{enumerate} Note that the statement makes sense since $f_*\mathcal{F}$ and $f_*\mathcal{O}_Z$ are coherent $\mathcal{O}_Y$-modules by Cohomology of Spaces, Lemma \ref{spaces-cohomology-lemma-proper-pushforward-coherent}. \end{lemma} 
\begin{lemma} \label{lemma-flat-inverse-image-dimension} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a morphism over $B$. Assume $f$ is flat of relative dimension $r$. For any closed subset $T \subset |Y|$ we have $$ \dim_\delta(|f|^{-1}(T)) = \dim_\delta(T) + r. $$ provided $|f|^{-1}(T)$ is nonempty. If $Z \subset Y$ is an integral closed subscheme and $Z' \subset f^{-1}(Z)$ is an irreducible component, then $Z'$ dominates $Z$ and $\dim_\delta(Z') = \dim_\delta(Z) + r$. \end{lemma} 
\begin{lemma} \label{lemma-inverse-image-locally-finite} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a morphism over $B$. Assume $\{T_i\}_{i \in I}$ is a locally finite collection of closed subsets of $|Y|$. Then $\{|f|^{-1}(T_i)\}_{i \in I}$ is a locally finite collection of closed subsets of $X$. \end{lemma} 
\begin{definition} \label{definition-flat-pullback} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a morphism over $B$. Assume $f$ is flat of relative dimension $r$. \begin{enumerate} \item Let $Z \subset Y$ be an integral closed subspace of $\delta$-dimension $k$. We define $f^*[Z]$ to be the $(k+r)$-cycle on $X$ associated to the scheme theoretic inverse image $$ f^*[Z] = [f^{-1}(Z)]_{k+r}. $$ This makes sense since $\dim_\delta(f^{-1}(Z)) = k + r$ by Lemma \ref{lemma-flat-inverse-image-dimension}. \item Let $\alpha = \sum n_i [Z_i]$ be a $k$-cycle on $Y$. The {\it flat pullback of $\alpha$ by $f$} is the sum $$ f^* \alpha = \sum n_i f^*[Z_i] $$ where each $f^*[Z_i]$ is defined as above. The sum is locally finite by Lemma \ref{lemma-inverse-image-locally-finite}. \item We denote $f^* : Z_k(Y) \to Z_{k + r}(X)$ the map of abelian groups so obtained. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-exact-sequence-open} In Situation \ref{situation-setup} let $X/B$ be good. Let $U \subset X$ be an open subspace. Let $Y$ be the reduced closed subspace of $X$ with $|Y| = |X| \setminus |U|$ and denote $i : Y \to X$ the inclusion morphism. For every $k \in \mathbf{Z}$ the sequence $$ \xymatrix{ Z_k(Y) \ar[r]^{i_*} & Z_k(X) \ar[r]^{j^*} & Z_k(U) \ar[r] & 0 } $$ is an exact complex of abelian groups. \end{lemma} 
\begin{lemma} \label{lemma-etale-pullback} In Situation \ref{situation-setup} let $f : X \to Y$ be an \'etale morphism of good algebraic spaces over $B$. If $Z \subset Y$ is an integral closed subspace, then $f^*[Z] = \sum [Z']$ where the sum is over the irreducible components (Remark \ref{remark-irreducible-component}) of $f^{-1}(Z)$. \end{lemma} 
\begin{lemma} \label{lemma-compose-flat-pullback} In Situation \ref{situation-setup} let $X, Y, Z/B$ be good. Let $f : X \to Y$ and $g : Y \to Z$ be flat morphisms of relative dimensions $r$ and $s$ over $B$. Then $g \circ f$ is flat of relative dimension $r + s$ and $$ f^* \circ g^* = (g \circ f)^* $$ as maps $Z_k(Z) \to Z_{k + r + s}(X)$. \end{lemma} 
\begin{lemma} \label{lemma-pullback-coherent} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a flat morphism of relative dimension $r$. \begin{enumerate} \item Let $Z \subset Y$ be a closed subspace with $\dim_\delta(Z) \leq k$. Then we have $\dim_\delta(f^{-1}(Z)) \leq k + r$ and $[f^{-1}(Z)]_{k + r} = f^*[Z]_k$ in $Z_{k + r}(X)$. \item Let $\mathcal{F}$ be a coherent sheaf on $Y$ with $\dim_\delta(\text{Supp}(\mathcal{F})) \leq k$. Then we have $\dim_\delta(\text{Supp}(f^*\mathcal{F})) \leq k + r$ and $$ f^*[{\mathcal F}]_k = [f^*{\mathcal F}]_{k+r} $$ in $Z_{k + r}(X)$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-flat-pullback-proper-pushforward} In Situation \ref{situation-setup} let $$ \xymatrix{ X' \ar[r]_{g'} \ar[d]_{f'} & X \ar[d]^f \\ Y' \ar[r]^g & Y } $$ be a fibre product diagram of good algebraic spaces over $B$. Assume $f : X \to Y$ proper and $g : Y' \to Y$ flat of relative dimension $r$. Then also $f'$ is proper and $g'$ is flat of relative dimension $r$. For any $k$-cycle $\alpha$ on $X$ we have $$ g^*f_*\alpha = f'_*(g')^*\alpha $$ in $Z_{k + r}(Y')$. \end{lemma} 
\begin{lemma} \label{lemma-finite-flat} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a finite locally free morphism of degree $d$ (see Morphisms of Spaces, Definition \ref{spaces-morphisms-definition-finite-locally-free}). Then $f$ is both proper and flat of relative dimension $0$, and $$ f_*f^*\alpha = d\alpha $$ for every $\alpha \in Z_k(Y)$. \end{lemma} 
\begin{lemma} \label{lemma-divisor-delta-dimension} In Situation \ref{situation-setup} let $X/B$ be good. Assume $X$ is integral. \begin{enumerate} \item If $Z \subset X$ is an integral closed subspace, then the following are equivalent: \begin{enumerate} \item $Z$ is a prime divisor, \item $|Z|$ has codimension $1$ in $|X|$, and \item $\dim_\delta(Z) = \dim_\delta(X) - 1$. \end{enumerate} \item If $Z$ is an irreducible component of an effective Cartier divisor on $X$, then $\dim_\delta(Z) = \dim_\delta(X) - 1$. \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-principal-divisor} In Situation \ref{situation-setup} let $X/B$ be good. Assume $X$ is integral with $\dim_\delta(X) = n$. Let $f \in R(X)^*$. The {\it principal divisor associated to $f$} is the $(n - 1)$-cycle $$ \text{div}(f) = \text{div}_X(f) = \sum \text{ord}_Z(f) [Z] $$ defined in Spaces over Fields, Definition \ref{spaces-over-fields-definition-principal-divisor}. This makes sense because prime divisors have $\delta$-dimension $n - 1$ by Lemma \ref{lemma-divisor-delta-dimension}. \end{definition} 
\begin{lemma} \label{lemma-etale-pullback-principal-divisor} In Situation \ref{situation-setup} let $f : X \to Y$ be an \'etale morphism of good algebraic spaces over $B$. Assume $Y$ is integral. Let $g \in R(Y)^*$. As cycles on $X$ we have $$ f^*(\text{div}_Y(g)) = \sum\nolimits_{X'} (X' \to X)_*\text{div}_{X'}(g \circ f|_{X'}) $$ where the sum is over the irreducible components of $X$ (Remark \ref{remark-irreducible-component}). \end{lemma} 
\begin{lemma} \label{lemma-proper-pushforward-alteration} In Situation \ref{situation-setup} let $X, Y/B$ be good. Assume $X$, $Y$ are integral and $n = \dim_\delta(X) = \dim_\delta(Y)$. Let $p : X \to Y$ be a dominant proper morphism. Let $f \in R(X)^*$. Set $$ g = \text{Nm}_{R(X)/R(Y)}(f). $$ Then we have $p_*\text{div}(f) = \text{div}(g)$. \end{lemma} 
\begin{definition} \label{definition-rational-equivalence} In Situation \ref{situation-setup} let $X/B$ be good. Let $k \in \mathbf{Z}$. \begin{enumerate} \item Given any locally finite collection $\{W_j \subset X\}$ of integral closed subspaces with $\dim_\delta(W_j) = k + 1$, and any $f_j \in R(W_j)^*$ we may consider $$ \sum (i_j)_*\text{div}(f_j) \in Z_k(X) $$ where $i_j : W_j \to X$ is the inclusion morphism. This makes sense as the morphism $\coprod i_j : \coprod W_j \to X$ is proper. \item We say that $\alpha \in Z_k(X)$ is {\it rationally equivalent to zero} if $\alpha$ is a cycle of the form displayed above. \item We say $\alpha, \beta \in Z_k(X)$ are {\it rationally equivalent} and we write $\alpha \sim_{rat} \beta$ if $\alpha - \beta$ is rationally equivalent to zero. \item We define $$ \CH_k(X) = Z_k(X) / \sim_{rat} $$ to be the {\it Chow group of $k$-cycles on $X$}. This is sometimes called the {\it Chow group of $k$-cycles modulo rational equivalence on $X$}. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-restrict-to-open} In Situation \ref{situation-setup} let $X/B$ be good. Let $U \subset X$ be an open subspace. Let $Y$ be the reduced closed subspace of $X$ with $|Y| = |X| \setminus |U|$ and denote $i : Y \to X$ the inclusion morphism. Let $k \in \mathbf{Z}$. Suppose $\alpha, \beta \in Z_k(X)$. If $\alpha|_U \sim_{rat} \beta|_U$ then there exist a cycle $\gamma \in Z_k(Y)$ such that $$ \alpha \sim_{rat} \beta + i_*\gamma. $$ In other words, the sequence $$ \xymatrix{ \CH_k(Y) \ar[r]^{i_*} & \CH_k(X) \ar[r]^{j^*} & \CH_k(U) \ar[r] & 0 } $$ is an exact complex of abelian groups. \end{lemma} 
\begin{lemma} \label{lemma-prepare-flat-pullback-rational-equivalence} In Situation \ref{situation-setup} let $X, Y/B$ be good. Assume $Y$ integral with $\dim_\delta(Y) = k$. Let $f : X \to Y$ be a flat morphism of relative dimension $r$. Then for $g \in R(Y)^*$ we have $$ f^*\text{div}_Y(g) = \sum m_{X', X} (X' \to X)_*\text{div}_{X'}(g \circ f|_{X'}) $$ as $(k + r - 1)$-cycles on $X$ where the sum is over the irreducible components $X'$ of $X$ and $m_{X', X}$ is the multiplicity of $X'$ in $X$. \end{lemma} 
\begin{lemma} \label{lemma-flat-pullback-rational-equivalence} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a flat morphism of relative dimension $r$. Let $\alpha \sim_{rat} \beta$ be rationally equivalent $k$-cycles on $Y$. Then $f^*\alpha \sim_{rat} f^*\beta$ as $(k + r)$-cycles on $X$. \end{lemma} 
\begin{lemma} \label{lemma-proper-pushforward-rational-equivalence} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $p : X \to Y$ be a proper morphism. Suppose $\alpha, \beta \in Z_k(X)$ are rationally equivalent. Then $p_*\alpha$ is rationally equivalent to $p_*\beta$. \end{lemma} 
\begin{definition} \label{definition-divisor-invertible-sheaf} In Situation \ref{situation-setup} let $X/B$ be good. Assume $X$ is integral and $n = \dim_\delta(X)$. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. \begin{enumerate} \item For any nonzero meromorphic section $s$ of $\mathcal{L}$ we define the {\it Weil divisor associated to $s$} is the $(n - 1)$-cycle $$ \text{div}_\mathcal{L}(s) = \sum \text{ord}_{Z, \mathcal{L}}(s) [Z] $$ defined in Spaces over Fields, Definition \ref{spaces-over-fields-definition-divisor-invertible-sheaf}. This makes sense because Weil divisors have $\delta$-dimension $n - 1$ by Lemma \ref{lemma-divisor-delta-dimension}. \item We define {\it Weil divisor associated to $\mathcal{L}$} as $$ c_1(\mathcal{L}) \cap [X] = \text{class of }\text{div}_\mathcal{L}(s) \in \CH_{n - 1}(X) $$ where $s$ is any nonzero meromorphic section of $\mathcal{L}$ over $X$. This is well defined by Spaces over Fields, Lemma \ref{spaces-over-fields-lemma-divisor-meromorphic-well-defined}. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-compute-c1} In Situation \ref{situation-setup} let $X/B$ be good. Assume $X$ is integral and $n = \dim_\delta(X)$. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Let $s \in \Gamma(X, \mathcal{L})$ be a nonzero global section. Then $$ \text{div}_\mathcal{L}(s) = [Z(s)]_{n - 1} $$ in $Z_{n - 1}(X)$ and $$ c_1(\mathcal{L}) \cap [X] = [Z(s)]_{n - 1} $$ in $\CH_{n - 1}(X)$. \end{lemma} 
\begin{lemma} \label{lemma-Gm-torsor} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. The morphism $$ q : T = \underline{\Spec}\left( \bigoplus\nolimits_{n \in \mathbf{Z}} \mathcal{L}^{\otimes n}\right) \longrightarrow X $$ has the following properties: \begin{enumerate} \item $q$ is surjective, smooth, affine, of relative dimension $1$, \item there is an isomorphism $\alpha : q^*\mathcal{L} \cong \mathcal{O}_T$, \item formation of $(q : T \to X, \alpha)$ commutes with base change, \item $q^* : Z_k(X) \to Z_{k + 1}(T)$ is injective, \item if $Z \subset X$ is an integral closed subspace, then $q^{-1}(Z) \subset T$ is an integral closed subspace, \item if $Z \subset X$ is a closed subspace of $X$ of $\delta$-dimension $\leq k$, then $q^{-1}(Z)$ is a closed subspace of $T$ of $\delta$-dimension $\leq k + 1$ and $q^*[Z]_k = [q^{-1}(Z)]_{k + 1}$, \item if $\xi' \in |T|$ is the generic point of the fibre of $|T| \to |X|$ over $\xi$, then the ring map $\mathcal{O}_{X, \xi}^h \to \mathcal{O}_{T, \xi'}^h$ is flat, we have $\mathfrak m_{\xi'}^h = \mathfrak m_\xi^h \mathcal{O}_{T, \xi'}^h$, and the residue field extension is purely transcendental of transcendence degree $1$, and \item add more here as needed. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-Gm-torsor-divisor-meromorphic-section} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Assume $X$ is integral. Let $s$ be a nonzero meromorphic section of $\mathcal{L}$. Let $q : T \to X$ be the morphism of Lemma \ref{lemma-Gm-torsor}. Then $$ q^*\text{div}_\mathcal{L}(s) = \text{div}_T(q^*(s)) $$ where we view the pullback $q^*(s)$ as a nonzero meromorphic function on $T$ using the isomorphism $q^*\mathcal{L} \to \mathcal{O}_T$ \end{lemma} 
\begin{definition} \label{definition-cap-c1} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. We define, for every integer $k$, an operation $$ c_1(\mathcal{L}) \cap - : Z_{k + 1}(X) \to \CH_k(X) $$ called {\it intersection with the first Chern class of $\mathcal{L}$}. \begin{enumerate} \item Given an integral closed subspace $i : W \to X$ with $\dim_\delta(W) = k + 1$ we define $$ c_1(\mathcal{L}) \cap [W] = i_*(c_1({i^*\mathcal{L}}) \cap [W]) $$ where the right hand side is defined in Definition \ref{definition-divisor-invertible-sheaf}. \item For a general $(k + 1)$-cycle $\alpha = \sum n_i [W_i]$ we set $$ c_1(\mathcal{L}) \cap \alpha = \sum n_i c_1(\mathcal{L}) \cap [W_i] $$ \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-c1-cap-additive} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$, $\mathcal{N}$ be an invertible sheaves on $X$. Then $$ c_1(\mathcal{L}) \cap \alpha  + c_1(\mathcal{N}) \cap \alpha = c_1(\mathcal{L} \otimes_{\mathcal{O}_X} \mathcal{N}) \cap \alpha $$ in $\CH_k(X)$ for every $\alpha \in Z_{k - 1}(X)$. Moreover, $c_1(\mathcal{O}_X) \cap \alpha = 0$ for all $\alpha$. \end{lemma} 
\begin{lemma} \label{lemma-prepare-geometric-cap} In Situation \ref{situation-setup} let $Y/B$ be good. Let $\mathcal{L}$ be an invertible $\mathcal{O}_Y$-module. Let $s \in \Gamma(Y, \mathcal{L})$ be a regular section and assume $\dim_\delta(Y) \leq k + 1$. Write $[Y]_{k + 1} = \sum n_i[Y_i]$ where $Y_i \subset Y$ are the irreducible components of $Y$ of $\delta$-dimension $k + 1$. Set $s_i = s|_{Y_i} \in \Gamma(Y_i, \mathcal{L}|_{Y_i})$. Then \begin{equation} \label{equation-equal-as-cycles} [Z(s)]_k =  \sum n_i[Z(s_i)]_k \end{equation} as $k$-cycles on $Y$. \end{lemma} 
\begin{lemma} \label{lemma-geometric-cap} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Let $Y \subset X$ be a closed subscheme with $\dim_\delta(Y) \leq k + 1$ and let $s \in \Gamma(Y, \mathcal{L}|_Y)$ be a regular section. Then $$ c_1(\mathcal{L}) \cap [Y]_{k + 1} = [Z(s)]_k $$ in $\CH_k(X)$. \end{lemma} 
\begin{lemma} \label{lemma-prepare-flat-pullback-cap-c1} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a flat morphism of relative dimension $r$. Let $\mathcal{L}$ be an invertible sheaf on $Y$. Assume $Y$ is integral and $n = \dim_\delta(Y)$. Let $s$ be a nonzero meromorphic section of $\mathcal{L}$. Then we have $$ f^*\text{div}_\mathcal{L}(s) = \sum n_i\text{div}_{f^*\mathcal{L}|_{X_i}}(s_i) $$ in $Z_{n + r - 1}(X)$. Here the sum is over the irreducible components $X_i \subset X$ of $\delta$-dimension $n + r$, the section $s_i = f|_{X_i}^*(s)$ is the pullback of $s$, and $n_i = m_{X_i, X}$ is the multiplicity of $X_i$ in $X$. \end{lemma} 
\begin{lemma} \label{lemma-flat-pullback-cap-c1} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a flat morphism of relative dimension $r$. Let $\mathcal{L}$ be an invertible sheaf on $Y$. Let $\alpha$ be a $k$-cycle on $Y$. Then $$ f^*(c_1(\mathcal{L}) \cap \alpha) = c_1(f^*\mathcal{L}) \cap f^*\alpha $$ in $\CH_{k + r - 1}(X)$. \end{lemma} 
\begin{lemma} \label{lemma-equal-c1-as-cycles} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a proper morphism. Let $\mathcal{L}$ be an invertible sheaf on $Y$. Assume $X$, $Y$ integral, $f$ dominant, and $\dim_\delta(X) = \dim_\delta(Y)$. Let $s$ be a nonzero meromorphic section $s$ of $\mathcal{L}$ on $Y$. Then $$ f_*\left(\text{div}_{f^*\mathcal{L}}(f^*s)\right) = [R(X) : R(Y)]\text{div}_\mathcal{L}(s). $$ as cycles on $Y$. In particular $$ f_*(c_1(f^*\mathcal{L}) \cap [X]) = c_1(\mathcal{L}) \cap f_*[Y]. $$ \end{lemma} 
\begin{lemma} \label{lemma-pushforward-cap-c1} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $p : X \to Y$ be a proper morphism. Let $\alpha \in Z_{k + 1}(X)$. Let $\mathcal{L}$ be an invertible sheaf on $Y$. Then $$ p_*(c_1(p^*\mathcal{L}) \cap \alpha) = c_1(\mathcal{L}) \cap p_*\alpha $$ in $\CH_k(Y)$. \end{lemma} 
\begin{lemma}[Key formula] \label{lemma-key-formula} In the situation above the cycle $$ \sum (Z_i \to X)_*\left( \text{ord}_{B_i}(f_i) \text{div}_{\mathcal{N}|_{Z_i}}(t_i|_{Z_i}) - \text{ord}_{B_i}(g_i) \text{div}_{\mathcal{L}|_{Z_i}}(s_i|_{Z_i}) \right) $$ is equal to the cycle $$ \sum (Z_i \to X)_*\text{div}(\partial_{B_i}(f_i, g_i)) $$ \end{lemma} 
\begin{lemma} \label{lemma-commutativity-on-integral} In Situation \ref{situation-setup} let $X/B$ be good. Assume $X$ integral and $\dim_\delta(X) = n$. Let $\mathcal{L}$, $\mathcal{N}$ be invertible on $X$. Choose a nonzero meromorphic section $s$ of $\mathcal{L}$ and a nonzero meromorphic section $t$ of $\mathcal{N}$. Set $\alpha = \text{div}_\mathcal{L}(s)$ and $\beta = \text{div}_\mathcal{N}(t)$. Then $$ c_1(\mathcal{N}) \cap \alpha = c_1(\mathcal{L}) \cap \beta $$ in $\CH_{n - 2}(X)$. \end{lemma} 
\begin{lemma} \label{lemma-factors} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$ be invertible on $X$. The operation $\alpha \mapsto c_1(\mathcal{L}) \cap \alpha$ factors through rational equivalence to give an operation $$ c_1(\mathcal{L}) \cap - : \CH_{k + 1}(X) \to \CH_k(X) $$ \end{lemma} 
\begin{lemma} \label{lemma-cap-commutative} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$, $\mathcal{N}$ be invertible on $X$. For any $\alpha \in \CH_{k + 2}(X)$ we have $$ c_1(\mathcal{L}) \cap c_1(\mathcal{N}) \cap \alpha = c_1(\mathcal{N}) \cap c_1(\mathcal{L}) \cap \alpha $$ as elements of $\CH_k(X)$. \end{lemma} 
\begin{definition} \label{definition-gysin-homomorphism} In Situation \ref{situation-setup} let $X/B$ be good. Let $(\mathcal{L}, s)$ be a pair consisting of an invertible sheaf and a global section $s \in \Gamma(X, \mathcal{L})$. Let $D = Z(s)$ be the vanishing locus of $s$, and denote $i : D \to X$ the closed immersion. We define, for every integer $k$, a (refined) {\it Gysin homomorphism} $$ i^* : Z_{k + 1}(X) \to \CH_k(D). $$ by the following rules: \begin{enumerate} \item Given a integral closed subspace $W \subset X$ with $\dim_\delta(W) = k + 1$ we define \begin{enumerate} \item if $W \not \subset D$, then $i^*[W] = [D \cap W]_k$ as a $k$-cycle on $D$, and \item if $W \subset D$, then $i^*[W] = i'_*(c_1(\mathcal{L}|_W) \cap [W])$, where $i' : W \to D$ is the induced closed immersion. \end{enumerate} \item For a general $(k + 1)$-cycle $\alpha = \sum n_j[W_j]$ we set $$ i^*\alpha = \sum n_j i^*[W_j] $$ \item If $D$ is an effective Cartier divisor, then we denote $D \cdot \alpha = i_*i^*\alpha$ the pushforward of the class to a class on $X$. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-support-cap-effective-Cartier} In Situation \ref{situation-setup} let $X/B$ be good. Let $(\mathcal{L}, s, i : D \to X)$ be as in Definition \ref{definition-gysin-homomorphism}. Let $\alpha$ be a $(k + 1)$-cycle on $X$. Then $i_*i^*\alpha = c_1(\mathcal{L}) \cap \alpha$ in $\CH_k(X)$. In particular, if $D$ is an effective Cartier divisor, then $D \cdot \alpha = c_1(\mathcal{O}_X(D)) \cap \alpha$. \end{lemma} 
\begin{lemma} \label{lemma-closed-in-X-gysin} In Situation \ref{situation-setup}. Let $f : X' \to X$ be a proper morphism of good algebraic spaces over $B$. Let $(\mathcal{L}, s, i : D \to X)$ be as in Definition \ref{definition-gysin-homomorphism}. Form the diagram $$ \xymatrix{ D' \ar[d]_g \ar[r]_{i'} & X' \ar[d]^f \\ D \ar[r]^i & X } $$ as in Remark \ref{remark-pullback-pairs}. For any $(k + 1)$-cycle $\alpha'$ on $X'$ we have $i^*f_*\alpha' = g_*(i')^*\alpha'$ in $\CH_k(D)$ (this makes sense as $f_*$ is defined on the level of cycles). \end{lemma} 
\begin{lemma} \label{lemma-gysin-flat-pullback} In Situation \ref{situation-setup}. Let $f : X' \to X$ be a flat morphism of relative dimension $r$ of good algebraic spaces over $B$. Let $(\mathcal{L}, s, i : D \to X)$ be as in Definition \ref{definition-gysin-homomorphism}. Form the diagram $$ \xymatrix{ D' \ar[d]_g \ar[r]_{i'} & X' \ar[d]^f \\ D \ar[r]^i & X } $$ as in Remark \ref{remark-pullback-pairs}. For any $(k + 1)$-cycle $\alpha$ on $X$ we have $(i')^*f^*\alpha = g^*i^*\alpha'$ in $\CH_{k + r}(D)$ (this makes sense as $f^*$ is defined on the level of cycles). \end{lemma} 
\begin{lemma} \label{lemma-easy-gysin} In Situation \ref{situation-setup} let $X/B$ be good. Let $(\mathcal{L}, s, i : D \to X)$ be as in Definition \ref{definition-gysin-homomorphism}. Let $Z \subset X$ be a closed subscheme such that $\dim_\delta(Z) \leq k + 1$ and such that $D \cap Z$ is an effective Cartier divisor on $Z$. Then $i^*([Z]_{k + 1}) = [D \cap Z]_k$. \end{lemma} 
\begin{lemma} \label{lemma-gysin-factors-general} In Situation \ref{situation-setup} let $X/B$ be good. Assume $X$ integral and $n = \dim_\delta(X)$. Let $i : D \to X$ be an effective Cartier divisor. Let $\mathcal{N}$ be an invertible $\mathcal{O}_X$-module and let $t$ be a nonzero meromorphic section of $\mathcal{N}$. Then $i^*\text{div}_\mathcal{N}(t) = c_1(\mathcal{N}) \cap [D]_{n - 1}$ in $\CH_{n - 2}(D)$. \end{lemma} 
\begin{lemma} \label{lemma-gysin-factors} In Situation \ref{situation-setup} let $X/B$ be good. Let $(\mathcal{L}, s, i : D \to X)$ be as in Definition \ref{definition-gysin-homomorphism}. The Gysin homomorphism factors through rational equivalence to give a map $i^* : \CH_{k + 1}(X) \to \CH_k(D)$. \end{lemma} 
\begin{lemma} \label{lemma-gysin-commutes-cap-c1} In Situation \ref{situation-setup} let $X/B$ be good. Let $(\mathcal{L}, s, i : D \to X)$ be a triple as in Definition \ref{definition-gysin-homomorphism}. Let $\mathcal{N}$ be an invertible $\mathcal{O}_X$-module. Then $i^*(c_1(\mathcal{N}) \cap \alpha) = c_1(i^*\mathcal{N}) \cap i^*\alpha$ in $\CH_{k - 2}(D)$ for all $\alpha \in \CH_k(Z)$. \end{lemma} 
\begin{lemma} \label{lemma-gysin-commutes-gysin} In Situation \ref{situation-setup} let $X/B$ be good. Let $(\mathcal{L}, s, i : D \to X)$ and $(\mathcal{L}', s', i' : D' \to X)$ be two triples as in Definition \ref{definition-gysin-homomorphism}. Then the diagram $$ \xymatrix{ \CH_k(X) \ar[r]_{i^*} \ar[d]_{(i')^*} & \CH_{k - 1}(D) \ar[d] \\ \CH_{k - 1}(D') \ar[r] & \CH_{k - 2}(D \cap D') } $$ commutes where each of the maps is a gysin map. \end{lemma} 
\begin{lemma} \label{lemma-relative-effective-cartier} In Situation \ref{situation-setup}. Let $X, Y/B$ be good. Let $p : X \to Y$ be a flat morphism of relative dimension $r$. Let $i : D \to X$ be a relative effective Cartier divisor (Divisors on Spaces, Definition \ref{spaces-divisors-definition-relative-effective-Cartier-divisor}). Let $\mathcal{L} = \mathcal{O}_X(D)$. For any $\alpha \in \CH_{k + 1}(Y)$ we have $$ i^*p^*\alpha = (p|_D)^*\alpha $$ in $\CH_{k + r}(D)$ and $$ c_1(\mathcal{L}) \cap p^*\alpha = i_* ((p|_D)^*\alpha) $$ in $\CH_{k + r}(X)$. \end{lemma} 
\begin{lemma} \label{lemma-pullback-affine-fibres-surjective} In Situation \ref{situation-setup} let $X, Y/B$ be good. Let $f : X \to Y$ be a quasi-compact flat morphism over $B$ of relative dimension $r$. Assume that for every $y \in Y$ we have $X_y \cong \mathbf{A}^r_{\kappa(y)}$. Then $f^* : \CH_k(Y) \to \CH_{k + r}(X)$ is surjective for all $k \in \mathbf{Z}$. \end{lemma} 
\begin{lemma} \label{lemma-linebundle} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Let $$ p : L = \underline{\Spec}(\text{Sym}^*(\mathcal{L})) \longrightarrow X $$ be the associated vector bundle over $X$. Then $p^* : \CH_k(X) \to \CH_{k + 1}(L)$ is an isomorphism for all $k$. \end{lemma} 
\begin{definition} \label{definition-bivariant-class} \begin{reference} Similar to \cite[Definition 17.1]{F} \end{reference} In Situation \ref{situation-setup} let $f : X \to Y$ be a morphism of good algebraic spaces over $B$. Let $p \in \mathbf{Z}$. A {\it bivariant class $c$ of degree $p$ for $f$} is given by a rule which assigns to every morphism $Y' \to Y$ of good algebraic spaces over $B$ and every $k$ a map $$ c \cap - : \CH_k(Y') \longrightarrow \CH_{k - p}(X') $$ where $X' = Y' \times_Y X$, satisfying the following conditions \begin{enumerate} \item if $Y'' \to Y'$ is a proper morphism, then $c \cap (Y'' \to Y')_*\alpha'' = (X'' \to X')_*(c \cap \alpha'')$ for all $\alpha''$ on $Y''$, \item if $Y'' \to Y'$ a morphism of good algebraic spaces over $B$ which is flat of relative dimension $r$, then $c \cap (Y'' \to Y')^*\alpha' = (X'' \to X')^*(c \cap \alpha')$ for all $\alpha'$ on $Y'$, \item if $(\mathcal{L}', s', i' : D' \to Y')$ is as in Definition \ref{definition-gysin-homomorphism} with pullback $(\mathcal{N}', t', j' : E' \to X')$ to $X'$, then we have $c \cap (i')^*\alpha' = (j')^*(c \cap \alpha')$ for all $\alpha'$ on $Y'$. \end{enumerate} The collection of all bivariant classes of degree $p$ for $f$ is denoted $A^p(X \to Y)$. \end{definition} 
\begin{definition} \label{definition-chow-cohomology} In Situation \ref{situation-setup} let $X/B$ be good. The {\it Chow cohomology} of $X$ is the graded $\mathbf{Z}$-algebra $A^*(X)$ whose degree $p$ component is $A^p(X \to X)$. \end{definition} 
\begin{lemma} \label{lemma-cap-c1-bivariant} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Then the rule that to $f : X' \to X$ assigns $c_1(f^*\mathcal{L}) \cap - : \CH_k(X') \to \CH_{k - 1}(X')$ is a bivariant class of degree $1$. \end{lemma} 
\begin{lemma} \label{lemma-flat-pullback-bivariant} In Situation \ref{situation-setup} let $f : X \to Y$ be a morphism of good algebraic spaces over $B$ which is flat of relative dimension $r$. Then the rule that to $Y' \to Y$ assigns $(f')^* : \CH_k(Y') \to \CH_{k + r}(X')$ where $X' = X \times_Y Y'$ is a bivariant class of degree $-r$. \end{lemma} 
\begin{lemma} \label{lemma-gysin-bivariant} In Situation \ref{situation-setup} let $X/B$ be good. Let $(\mathcal{L}, s, i : D \to X)$ be a triple as in Definition \ref{definition-gysin-homomorphism}. Then the rule that to $f : X' \to X$ assigns $(i')^* : \CH_k(X') \to \CH_{k - 1}(D')$ where $D' = D \times_X X'$ is a bivariant class of degree $1$. \end{lemma} 
\begin{lemma} \label{lemma-push-proper-bivariant} In Situation \ref{situation-setup} let $f : X \to Y$ and $g : Y \to Z$ be morphisms of good algebraic spaces over $B$. Let $c \in A^p(X \to Z)$ and assume $f$ is proper. Then the rule that to $X' \to X$ assigns $\alpha \longmapsto f_*(c \cap \alpha)$ is a bivariant class of degree $p$. \end{lemma} 
\begin{lemma} \label{lemma-c1-center} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Then $c_1(\mathcal{L}) \in A^1(X)$ commutes with every element $c \in A^p(X)$. \end{lemma} 
\begin{lemma} \label{lemma-bivariant-zero} In Situation \ref{situation-setup} let $X/B$ be good. Let $c \in A^p(X)$. Then $c$ is zero if and only if $c \cap [Y] = 0$ in $\CH_*(Y)$ for every integral algebraic space $Y$ locally of finite type over $X$. \end{lemma} 
\begin{lemma} \label{lemma-cap-projective-bundle} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}$ be a finite locally free $\mathcal{O}_X$-module $\mathcal{E}$ of rank $r$. Let $(\pi : P \to X, \mathcal{O}_P(1))$ be the projective bundle associated to $\mathcal{E}$. For any $\alpha \in \CH_k(X)$ the element $$ \pi_*\left( c_1(\mathcal{O}_P(1))^s \cap \pi^*\alpha \right) \in \CH_{k + r - 1 - s}(X) $$ is $0$ if $s < r - 1$ and is equal to $\alpha$ when $s = r - 1$. \end{lemma} 
\begin{lemma}[Projective space bundle formula] \label{lemma-chow-ring-projective-bundle} Let $(S, \delta)$ be as in Situation \ref{situation-setup}. Let $X$ be locally of finite type over $S$. Let $\mathcal{E}$ be a finite locally free $\mathcal{O}_X$-module $\mathcal{E}$ of rank $r$. Let $(\pi : P \to X, \mathcal{O}_P(1))$ be the projective bundle associated to $\mathcal{E}$. The map $$ \bigoplus\nolimits_{i = 0}^{r - 1} \CH_{k + i}(X) \longrightarrow \CH_{k + r - 1}(P), $$ $$ (\alpha_0, \ldots, \alpha_{r-1}) \longmapsto \pi^*\alpha_0 + c_1(\mathcal{O}_P(1)) \cap \pi^*\alpha_1 + \ldots + c_1(\mathcal{O}_P(1))^{r - 1} \cap \pi^*\alpha_{r-1} $$ is an isomorphism. \end{lemma} 
\begin{lemma} \label{lemma-vectorbundle} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}$ be a finite locally free sheaf of rank $r$ on $X$. Let $$ p : E = \underline{\Spec}(\text{Sym}^*(\mathcal{E})) \longrightarrow X $$ be the associated vector bundle over $X$. Then $p^* : \CH_k(X) \to \CH_{k + r}(E)$ is an isomorphism for all $k$. \end{lemma} 
\begin{lemma} \label{lemma-segre-classes} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}$ be a finite locally free sheaf of rank $r$ on $X$. Let $(\pi : P \to X, \mathcal{O}_P(1))$ be the projective space bundle associated to $\mathcal{E}$. For every morphism $X' \to X$ of good algebraic spaces over $B$ there are unique maps $$ c_i(\mathcal{E}) \cap - : \CH_k(X') \longrightarrow \CH_{k - i}(X'),\quad i = 0, \ldots, r $$ such that for $\alpha \in \CH_k(X')$ we have $c_0(\mathcal{E}) \cap \alpha = \alpha$ and $$ \sum\nolimits_{i = 0, \ldots, r} (-1)^i c_1(\mathcal{O}_{P'}(1))^i \cap (\pi')^*\left(c_{r - i}(\mathcal{E}) \cap \alpha\right) = 0 $$ where $\pi' : P' \to X'$ is the base change of $\pi$. Moreover, these maps define a bivariant class $c_i(\mathcal{E})$ of degree $i$ on $X$. \end{lemma} 
\begin{definition} \label{definition-chern-classes} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}$ be a finite locally free sheaf of rank $r$ on $X$. For $i = 0, \ldots, r$ the {\it $i$th Chern class of $\mathcal{E}$} is the bivariant class $c_i(\mathcal{E}) \in A^i(X)$ of degree $i$ constructed in Lemma \ref{lemma-segre-classes}. The {\it total Chern class of $\mathcal{E}$} is the formal sum $$ c(\mathcal{E}) = c_0(\mathcal{E}) + c_1(\mathcal{E}) + \ldots + c_r(\mathcal{E}) $$ which is viewed as a nonhomogeneous bivariant class on $X$. \end{definition} 
\begin{lemma} \label{lemma-first-chern-class} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. The first Chern class of $\mathcal{L}$ on $X$ of Definition \ref{definition-chern-classes} is equal to the bivariant class of Lemma \ref{lemma-cap-c1-bivariant}. \end{lemma} 
\begin{lemma} \label{lemma-cap-commutative-chern} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}$ be a locally free $\mathcal{O}_X$-module of rank $r$. Then $c_j(\mathcal{L}) \in A^j(X)$ commutes with every element $c \in A^p(X)$. In particular, if $\mathcal{F}$ is a second locally free $\mathcal{O}_X$-module on $X$ of rank $s$, then $$ c_i(\mathcal{E}) \cap c_j(\mathcal{F}) \cap \alpha = c_j(\mathcal{F}) \cap c_i(\mathcal{E}) \cap \alpha $$ as elements of $\CH_{k - i - j}(X)$ for all $\alpha \in \CH_k(X)$. \end{lemma} 
\begin{lemma} \label{lemma-chern-classes-E-tensor-L} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}$ be a finite locally free sheaf of rank $r$ on $X$. Let $\mathcal{L}$ be an invertible sheaf on $X$. Then we have \begin{equation} \label{equation-twist} c_i({\mathcal E} \otimes {\mathcal L}) = \sum\nolimits_{j = 0}^i \binom{r - i + j}{j} c_{i - j}({\mathcal E}) c_1({\mathcal L})^j \end{equation} in $A^*(X)$. \end{lemma} 
\begin{lemma} \label{lemma-get-rid-of-trivial-subbundle} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}$, $\mathcal{F}$ be finite locally free sheaves on $X$ of ranks $r$, $r - 1$ which fit into a short exact sequence $$ 0 \to \mathcal{O}_X \to \mathcal{E} \to \mathcal{F} \to 0 $$ Then we have $$ c_r(\mathcal{E}) = 0, \quad c_j(\mathcal{E}) = c_j(\mathcal{F}), \quad j = 0, \ldots, r - 1 $$ in $A^*(X)$. \end{lemma} 
\begin{lemma} \label{lemma-additivity-invertible-subsheaf} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}$, $\mathcal{F}$ be finite locally free sheaves on $X$ of ranks $r$, $r - 1$ which fit into a short exact sequence $$ 0 \to \mathcal{L} \to \mathcal{E} \to \mathcal{F} \to 0 $$ where $\mathcal{L}$ is an invertible sheaf. Then $$ c(\mathcal{E}) = c(\mathcal{L}) c(\mathcal{F}) $$ in $A^*(X)$. \end{lemma} 
\begin{lemma} \label{lemma-additivity-chern-classes} In Situation \ref{situation-setup} let $X/B$ be good. Suppose that $\mathcal{E}$ sits in an exact sequence $$ 0 \to \mathcal{E}_1 \to \mathcal{E} \to \mathcal{E}_2 \to 0 $$ of finite locally free sheaves $\mathcal{E}_i$ of rank $r_i$. The total Chern classes satisfy $$ c(\mathcal{E}) = c(\mathcal{E}_1) c(\mathcal{E}_2) $$ in $A^*(X)$. \end{lemma} 
\begin{lemma} \label{lemma-chern-filter-by-linebundles} In Situation \ref{situation-setup} let $X/B$ be good. Let ${\mathcal L}_i$, $i = 1, \ldots, r$ be invertible $\mathcal{O}_X$-modules. Let $\mathcal{E}$ be a locally free rank $\mathcal{O}_X$-module endowed with a filtration $$ 0 = \mathcal{E}_0 \subset \mathcal{E}_1 \subset \mathcal{E}_2 \subset \ldots \subset \mathcal{E}_r = \mathcal{E} $$ such that $\mathcal{E}_i/\mathcal{E}_{i - 1} \cong \mathcal{L}_i$. Set $c_1({\mathcal L}_i) = x_i$. Then $$ c(\mathcal{E}) = \prod\nolimits_{i = 1}^r (1 + x_i) $$ in $A^*(X)$. \end{lemma} 
\begin{lemma} \label{lemma-splitting-principle} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}_i$ be a finite collection of locally free $\mathcal{O}_X$-modules of rank $r_i$. There exists a projective flat morphism $\pi : P \to X$ of relative dimension $d$ such that \begin{enumerate} \item for any morphism $f : Y \to X$ of good algebraic spaces over $B$ the map $\pi_Y^* : \CH_*(Y) \to \CH_{* + d}(Y \times_X P)$ is injective, and \item each $\pi^*\mathcal{E}_i$ has a filtration whose successive quotients $\mathcal{L}_{i, 1}, \ldots, \mathcal{L}_{i, r_i}$ are invertible ${\mathcal O}_P$-modules. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-chern-classes-dual} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}$ be a finite locally free $\mathcal{O}_X$-module with dual $\mathcal{E}^\vee$. Then $$ c_i(\mathcal{E}^\vee) = (-1)^i c_i(\mathcal{E}) $$ in $A^i(X)$. \end{lemma} 
\begin{lemma} \label{lemma-chern-classes-tensor-product} In Situation \ref{situation-setup} let $X/B$ be good. Let $\mathcal{E}$ and $\mathcal{F}$ be a finite locally free $\mathcal{O}_X$-modules of ranks $r$ and $s$. Then we have $$ c_1(\mathcal{E} \otimes \mathcal{F}) = r c_1(\mathcal{F}) + s c_1(\mathcal{E}) $$ $$ c_2(\mathcal{E} \otimes \mathcal{F}) = r^2 c_2(\mathcal{F}) + rs c_1(\mathcal{F})c_1(\mathcal{E}) + s^2 c_2(\mathcal{E}) $$ and so on (see proof). \end{lemma} 
\begin{definition} \label{definition-degree-zero-cycle} Let $k$ be a field. Let $p : X \to \Spec(k)$ be a proper morphism of algebraic spaces. The {\it degree of a zero cycle} on $X$ is given by proper pushforward $$ p_* : \CH_0(X) \longrightarrow \CH_0(\Spec(k)) \longrightarrow \mathbf{Z} $$ (Lemma \ref{lemma-proper-pushforward-rational-equivalence}) composed with the natural isomorphism $\CH_0(\Spec(k)) \to \mathbf{Z}$ which maps $[\Spec(k)]$ to $1$. Notation: $\deg(\alpha)$. \end{definition} 
\begin{lemma} \label{lemma-spell-out-degree-zero-cycle} Let $k$ be a field. Let $X$ be a proper algebraic space over $k$. Let $\alpha = \sum n_i[Z_i]$ be in $Z_0(X)$. Then $$ \deg(\alpha) = \sum n_i\deg(Z_i) $$ where $\deg(Z_i)$ is the degree of $Z_i \to \Spec(k)$, i.e., $\deg(Z_i) = \dim_k \Gamma(Z_i, \mathcal{O}_{Z_i})$. \end{lemma} 
\begin{lemma} \label{lemma-degrees-and-numerical-intersections} Let $k$ be a field. Let $X$ be a proper algebraic space over $k$. Let $Z \subset X$ be a closed subspace of dimension $d$. Let $\mathcal{L}_1, \ldots, \mathcal{L}_d$ be invertible $\mathcal{O}_X$-modules. Then $$ (\mathcal{L}_1 \cdots \mathcal{L}_d \cdot Z) = \deg( c_1(\mathcal{L}_1) \cap \ldots \cap c_1(\mathcal{L}_1) \cap [Z]_d) $$ where the left hand side is defined in Spaces over Fields, Definition \ref{spaces-over-fields-definition-intersection-number}. \end{lemma} 
