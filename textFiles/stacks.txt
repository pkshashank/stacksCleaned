\begin{lemma} \label{lemma-painful} This actually does give a presheaf. \end{lemma} 
\begin{definition} \label{definition-mor-presheaf} Let $\mathcal{C}$ be a category. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category, see Categories, Section \ref{categories-section-fibred-categories}. Given an object $U$ of $\mathcal{C}$ and objects $x$, $y$ of the fibre category, the {\it presheaf of morphisms from $x$ to $y$} is the presheaf $$ (f : V \to U) \longmapsto \Mor_{\mathcal{S}_V}(f^*x, f^*y) $$ described above. It is denoted $\mathit{Mor}(x, y)$. The subpresheaf $\mathit{Isom}(x, y)$ whose value over $V$ is the set of isomorphisms $f^*x \to f^*y$ in the fibre category $\mathcal{S}_V$ is called the {\it presheaf of isomorphisms from $x$ to $y$}. \end{definition} 
\begin{lemma} \label{lemma-presheaf-mor-map-fibred-categories} Let $F : \mathcal{S}_1 \to \mathcal{S}_2$ be a $1$-morphism of fibred categories over the category $\mathcal{C}$. Let $U \in \Ob(\mathcal{C})$ and $x, y\in \Ob((\mathcal{S}_1)_U)$. Then $F$ defines a canonical morphism of presheaves $$ \mathit{Mor}_{\mathcal{S}_1}(x, y) \longrightarrow \mathit{Mor}_{\mathcal{S}_2}(F(x), F(y)) $$ on $\mathcal{C}/U$. \end{lemma} 
\begin{lemma} \label{lemma-isom-as-2-fibre-product} Let $\mathcal{C}$ be a category. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category, see Categories, Section \ref{categories-section-fibred-categories}. Let $U \in \Ob(\mathcal{C})$ and let $x, y \in \Ob(\mathcal{S}_U)$. Denote $x, y : \mathcal{C}/U \to \mathcal{S}$ also the corresponding $1$-morphisms, see Categories, Lemma \ref{categories-lemma-yoneda-2category}. Then \begin{enumerate} \item the $2$-fibre product $\mathcal{S} \times_{\mathcal{S} \times \mathcal{S}, (x, y)} \mathcal{C}/U$ is fibred in setoids over $\mathcal{C}/U$, and \item $\mathit{Isom}(x, y)$ is the presheaf of sets corresponding to this category fibred in setoids, see Categories, Lemma \ref{categories-lemma-2-category-fibred-setoids}. \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-descent-data} Let $\mathcal{C}$ be a category. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category. Make a choice of pullbacks as in Categories, Definition \ref{categories-definition-pullback-functor-fibred-category}. Let $\mathcal{U} = \{f_i : U_i \to U\}_{i \in I}$ be a family of morphisms of $\mathcal{C}$. Assume all the fibre products $U_i \times_U U_j$, and $U_i \times_U U_j \times_U U_k$ exist. \begin{enumerate} \item A {\it descent datum $(X_i, \varphi_{ij})$ in $\mathcal{S}$ relative to the family $\{f_i : U_i \to U\}$} is given by an object $X_i$ of $\mathcal{S}_{U_i}$ for each $i \in I$, an isomorphism $\varphi_{ij} : \text{pr}_0^*X_i \to \text{pr}_1^*X_j$ in $\mathcal{S}_{U_i \times_U U_j}$ for each pair $(i, j) \in I^2$ such that for every triple of indices $(i, j, k) \in I^3$ the diagram $$ \xymatrix{ \text{pr}_0^*X_i \ar[rd]_{\text{pr}_{01}^*\varphi_{ij}} \ar[rr]_{\text{pr}_{02}^*\varphi_{ik}} & & \text{pr}_2^*X_k \\ & \text{pr}_1^*X_j \ar[ru]_{\text{pr}_{12}^*\varphi_{jk}} & } $$ in the category $\mathcal{S}_{U_i \times_U U_j \times_U U_k}$ commutes. This is called the {\it cocycle condition}. \item A {\it morphism $\psi : (X_i, \varphi_{ij}) \to (X'_i, \varphi'_{ij})$ of descent data} is given by a family $\psi = (\psi_i)_{i\in I}$ of morphisms $\psi_i : X_i \to X'_i$ in $\mathcal{S}_{U_i}$ such that all the diagrams $$ \xymatrix{ \text{pr}_0^*X_i \ar[r]_{\varphi_{ij}} \ar[d]_{\text{pr}_0^*\psi_i} & \text{pr}_1^*X_j \ar[d]^{\text{pr}_1^*\psi_j} \\ \text{pr}_0^*X'_i \ar[r]^{\varphi'_{ij}} & \text{pr}_1^*X'_j \\ } $$ in the categories $\mathcal{S}_{U_i \times_U U_j}$ commute. \item The category of descent data relative to $\mathcal{U}$ is denoted $DD(\mathcal{U})$. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-pullback} (Pullback of descent data.) Let $\mathcal{C}$ be a category. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category. Make a choice pullbacks as in Categories, Definition \ref{categories-definition-pullback-functor-fibred-category}. Let $\mathcal{U} = \{f_i : U_i \to U\}_{i \in I}$, and $\mathcal{V} = \{V_j \to V\}_{j \in J}$ be a families of morphisms of $\mathcal{C}$ with fixed target. Assume all the fibre products $U_i \times_U U_{i'}$, $U_i \times_U U_{i'} \times_U U_{i''}$, $V_j \times_V V_{j'}$, and $V_j \times_V V_{j'} \times_V V_{j''}$ exist. Let $\alpha : I \to J$, $h : U \to V$ and $g_i : U_i \to V_{\alpha(i)}$ be a morphism of families of maps with fixed target, see Sites, Definition \ref{sites-definition-morphism-coverings}. \begin{enumerate} \item Let $(Y_j, \varphi_{jj'})$ be a descent datum relative to the family $\{V_j \to V\}$. The system $$ \left( g_i^*Y_{\alpha(i)}, (g_i \times g_{i'})^*\varphi_{\alpha(i)\alpha(i')} \right) $$ is a descent datum relative to $\mathcal{U}$. \item This construction defines a functor between descent data relative to $\mathcal{V}$ and descent data relative to $\mathcal{U}$. \item Given a second $\alpha' : I \to J$, $h' : U \to V$ and $g'_i : U_i \to V_{\alpha'(i)}$ morphism of families of maps with fixed target, then if $h = h'$ the two resulting functors between descent data are canonically isomorphic. \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-pullback-functor} With $\mathcal{U} = \{U_i \to U\}_{i \in I}$, $\mathcal{V} = \{V_j \to V\}_{j \in J}$, $\alpha : I \to J$, $h : U \to V$, and $g_i : U_i \to V_{\alpha(i)}$ as in Lemma \ref{lemma-pullback} the functor $$ (Y_j, \varphi_{jj'}) \longmapsto (g_i^*Y_{\alpha(i)}, (g_i \times g_{i'})^*\varphi_{\alpha(i)\alpha(i')}) $$ constructed in that lemma is called the {\it pullback functor} on descent data. \end{definition} 
\begin{definition} \label{definition-effective-descent-datum} Let $\mathcal{C}$ be a category. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category. Make a choice of pullbacks as in Categories, Definition \ref{categories-definition-pullback-functor-fibred-category}. Let $\mathcal{U} = \{f_i : U_i \to U\}_{i \in I}$ be a family of morphisms with target $U$. Assume all the fibre products $U_i \times_U U_j$ and $U_i \times_U U_j \times_U U_k$ exist. \begin{enumerate} \item Given an object $X$ of $\mathcal{S}_U$ the {\it trivial descent datum} is the descent datum $(X, \text{id}_X)$ with respect to the family $\{\text{id}_U : U \to U\}$. \item Given an object $X$ of $\mathcal{S}_U$ we have a {\it canonical descent datum} on the family of objects $f_i^*X$ by pulling back the trivial descent datum $(X, \text{id}_X)$ via the obvious map $\{f_i : U_i \to U\} \to \{\text{id}_U : U \to U\}$. We denote this descent datum $(f_i^*X, can)$. \item A descent datum $(X_i, \varphi_{ij})$ relative to $\{f_i : U_i \to U\}$ is called {\it effective} if there exists an object $X$ of $\mathcal{S}_U$ such that $(X_i, \varphi_{ij})$ is isomorphic to $(f_i^*X, can)$. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-trivial-cocycle} In the situation of Definition \ref{definition-effective-descent-datum} part (2) the maps $can_{ij} : \text{pr}_0^*f_i^*X \to \text{pr}_1^*f_j^*X$ are equal to $(\alpha_{\text{pr}_1, f_j})_X \circ (\alpha_{\text{pr}_0, f_i})_X^{-1}$ where $\alpha_{\cdot, \cdot}$ is as in Categories, Lemma \ref{categories-lemma-fibred} and where we use the equality $f_i \circ \text{pr}_0 = f_j \circ \text{pr}_1$ as maps $U_i \times_U U_j \to U$. \end{lemma} 
\begin{lemma} \label{lemma-compare-descent-condition} Let $\mathcal{C}$ be a category. Let $\mathcal{V} = \{V_j \to U\}_{j \in J} \to \mathcal{U} = \{U_i \to U\}_{i \in I}$ be a morphism of families of maps with fixed target of $\mathcal{C}$ given by $\text{id} : U \to U$, $\alpha : J \to I$ and $f_j : V_j \to U_{\alpha(j)}$. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category. If \begin{enumerate} \item for $0 \leq p \leq 3$ and $0 \leq q \leq 3$ with $p + q \geq 2$ and $i_1, \ldots, i_p \in I$ and $j_1, \ldots, j_q \in J$ the fibre products $U_{i_1} \times_U \ldots \times_U U_{i_p} \times_U V_{j_1} \times_U \ldots \times_U V_{j_q}$ exist, \item the functor $\mathcal{S}_U \to DD(\mathcal{V})$ is an equivalence, \item for every $i \in I$ the functor $\mathcal{S}_{U_i} \to DD(\mathcal{V}_i)$ is fully faithful, and \item for every $i, i' \in I$ the functor $\mathcal{S}_{U_i \times_U U_{i'}} \to DD(\mathcal{V}_{ii'})$ is faithful. \end{enumerate} Here $\mathcal{V}_i = \{U_i \times_U V_j \to U_i\}_{j \in J}$ and $\mathcal{V}_{ii'} = \{U_i \times_U U_{i'} \times_U V_j \to U_i \times_U U_{i'}\}_{j \in J}$. Then $\mathcal{S}_U \to DD(\mathcal{U})$ is an equivalence. \end{lemma} 
\begin{definition} \label{definition-stack} Let $\mathcal{C}$ be a site. A {\it stack} over $\mathcal{C}$ is a category $p : \mathcal{S} \to \mathcal{C}$ over $\mathcal{C}$ which satisfies the following conditions: \begin{enumerate} \item $p : \mathcal{S} \to \mathcal{C}$ is a fibred category, see Categories, Definition \ref{categories-definition-fibred-category}, \item for any $U \in \Ob(\mathcal{C})$ and any $x, y \in \mathcal{S}_U$ the presheaf $\mathit{Mor}(x, y)$ (see Definition \ref{definition-mor-presheaf}) is a sheaf on the site $\mathcal{C}/U$, and \item for any covering $\mathcal{U} = \{f_i : U_i \to U\}_{i \in I}$ of the site $\mathcal{C}$, any descent datum in $\mathcal{S}$ relative to $\mathcal{U}$ is effective. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-stack-equivalences} Let $\mathcal{C}$ be a site. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category over $\mathcal{C}$. The following are equivalent \begin{enumerate} \item $\mathcal{S}$ is a stack over $\mathcal{C}$, and \item for any covering $\mathcal{U} = \{f_i : U_i \to U\}_{i \in I}$ of the site $\mathcal{C}$ the functor $$ \mathcal{S}_U \longrightarrow DD(\mathcal{U}) $$ which associates to an object its canonical descent datum is an equivalence. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-substack} Let $p : \mathcal{S} \to \mathcal{C}$ be a stack over the site $\mathcal{C}$. Let $\mathcal{S}'$ be a subcategory of $\mathcal{S}$. Assume \begin{enumerate} \item if $\varphi : y \to x$ is a strongly cartesian morphism of $\mathcal{S}$ and $x$ is an object of $\mathcal{S}'$, then $y$ is isomorphic to an object of $\mathcal{S}'$, \item $\mathcal{S}'$ is a full subcategory of $\mathcal{S}$, and \item if $\{f_i : U_i \to U\}$ is a covering of $\mathcal{C}$, and $x$ an object of $\mathcal{S}$ over $U$ such that $f_i^*x$ is isomorphic to an object of $\mathcal{S}'$ for each $i$, then $x$ is isomorphic to an object of $\mathcal{S}'$. \end{enumerate} Then $\mathcal{S}' \to \mathcal{C}$ is a stack. \end{lemma} 
\begin{lemma} \label{lemma-stack-equivalent} Let $\mathcal{C}$ be a site. Let $\mathcal{S}_1$, $\mathcal{S}_2$ be categories over $\mathcal{C}$. Suppose that $\mathcal{S}_1$ and $\mathcal{S}_2$ are equivalent as categories over $\mathcal{C}$. Then $\mathcal{S}_1$ is a stack over $\mathcal{C}$ if and only if $\mathcal{S}_2$ is a stack over $\mathcal{C}$. \end{lemma} 
\begin{definition} \label{definition-stacks-over-C} Let $\mathcal{C}$ be a site. The {\it $2$-category of stacks over $\mathcal{C}$} is the sub $2$-category of the $2$-category of fibred categories over $\mathcal{C}$ (see Categories, Definition \ref{categories-definition-fibred-categories-over-C}) defined as follows: \begin{enumerate} \item Its objects will be stacks $p : \mathcal{S} \to \mathcal{C}$. \item Its $1$-morphisms $(\mathcal{S}, p) \to (\mathcal{S}', p')$ will be functors $G : \mathcal{S} \to \mathcal{S}'$ such that $p' \circ G = p$ and such that $G$ maps strongly cartesian morphisms to strongly cartesian morphisms. \item Its $2$-morphisms $t : G \to H$ for $G, H : (\mathcal{S}, p) \to (\mathcal{S}', p')$ will be morphisms of functors such that $p'(t_x) = \text{id}_{p(x)}$ for all $x \in \Ob(\mathcal{S})$. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-2-product-stacks} Let $\mathcal{C}$ be a site. The $(2, 1)$-category of stacks over $\mathcal{C}$ has 2-fibre products, and they are described as in Categories, Lemma \ref{categories-lemma-2-product-categories-over-C}. \end{lemma} 
\begin{lemma} \label{lemma-characterize-ff} Let $\mathcal{C}$ be a site. Let $\mathcal{S}_1$, $\mathcal{S}_2$ be stacks over $\mathcal{C}$. Let $F : \mathcal{S}_1 \to \mathcal{S}_2$ be a $1$-morphism. Then the following are equivalent \begin{enumerate} \item $F$ is fully faithful, \item for every $U \in \Ob(\mathcal{C})$ and for every $x, y \in \Ob(\mathcal{S}_{1, U})$ the map $$ F : \mathit{Mor}_{\mathcal{S}_1}(x, y) \longrightarrow \mathit{Mor}_{\mathcal{S}_2}(F(x), F(y)) $$ is an isomorphism of sheaves on $\mathcal{C}/U$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-characterize-essentially-surjective-when-ff} Let $\mathcal{C}$ be a site. Let $\mathcal{S}_1$, $\mathcal{S}_2$ be stacks over $\mathcal{C}$. Let $F : \mathcal{S}_1 \to \mathcal{S}_2$ be a $1$-morphism which is fully faithful. Then the following are equivalent \begin{enumerate} \item $F$ is an equivalence, \item for every $U \in \Ob(\mathcal{C})$ and for every $x \in \Ob(\mathcal{S}_{2, U})$ there exists a covering $\{f_i : U_i \to U\}$ such that $f_i^*x$ is in the essential image of the functor $F : \mathcal{S}_{1, U_i} \to \mathcal{S}_{2, U_i}$. \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-stack-in-groupoids} A {\it stack in groupoids} over a site $\mathcal{C}$ is a category $p : \mathcal{S} \to \mathcal{C}$ over $\mathcal{C}$ such that \begin{enumerate} \item $p : \mathcal{S} \to \mathcal{C}$ is fibred in groupoids over $\mathcal{C}$ (see Categories, Definition \ref{categories-definition-fibred-groupoids}), \item for all $U \in \Ob(\mathcal{C})$, for all $x, y\in \Ob(\mathcal{S}_U)$ the presheaf $\mathit{Isom}(x, y)$ is a sheaf on the site $\mathcal{C}/U$, and \item for all coverings $\mathcal{U} = \{U_i \to U\}$ in $\mathcal{C}$, all descent data $(x_i, \phi_{ij})$ for $\mathcal{U}$ are effective. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-stack-in-groupoids-stack} Let $\mathcal{C}$ be a site. Let $p : \mathcal{S} \to \mathcal{C}$ be a category over $\mathcal{C}$. The following are equivalent \begin{enumerate} \item $\mathcal{S}$ is a stack in groupoids over $\mathcal{C}$, \item $\mathcal{S}$ is a stack over $\mathcal{C}$ and all fibre categories are groupoids, and \item $\mathcal{S}$ is fibred in groupoids over $\mathcal{C}$ and is a stack over $\mathcal{C}$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-stack-gives-stack-groupoids} Let $\mathcal{C}$ be a site. Let $p : \mathcal{S} \to \mathcal{C}$ be a stack. Let $p' : \mathcal{S}' \to \mathcal{C}$ be the category fibred in groupoids associated to $\mathcal{S}$ constructed in Categories, Lemma \ref{categories-lemma-fibred-gives-fibred-groupoids}. Then $p' : \mathcal{S}' \to \mathcal{C}$ is a stack in groupoids. \end{lemma} 
\begin{lemma} \label{lemma-stack-in-groupoids-equivalent} Let $\mathcal{C}$ be a site. Let $\mathcal{S}_1$, $\mathcal{S}_2$ be categories over $\mathcal{C}$. Suppose that $\mathcal{S}_1$ and $\mathcal{S}_2$ are equivalent as categories over $\mathcal{C}$. Then $\mathcal{S}_1$ is a stack in groupoids over $\mathcal{C}$ if and only if $\mathcal{S}_2$ is a stack in groupoids over $\mathcal{C}$. \end{lemma} 
\begin{definition} \label{definition-stacks-in-groupoids-over-C} Let $\mathcal{C}$ be a site. The {\it $2$-category of stacks in groupoids over $\mathcal{C}$} is the sub $2$-category of the $2$-category of stacks over $\mathcal{C}$ (see Definition \ref{definition-stacks-over-C}) defined as follows: \begin{enumerate} \item Its objects will be stacks in groupoids $p : \mathcal{S} \to \mathcal{C}$. \item Its $1$-morphisms $(\mathcal{S}, p) \to (\mathcal{S}', p')$ will be functors $G : \mathcal{S} \to \mathcal{S}'$ such that $p' \circ G = p$. (Since every morphism is strongly cartesian every functor preserves them.) \item Its $2$-morphisms $t : G \to H$ for $G, H : (\mathcal{S}, p) \to (\mathcal{S}', p')$ will be morphisms of functors such that $p'(t_x) = \text{id}_{p(x)}$ for all $x \in \Ob(\mathcal{S})$. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-2-product-stacks-in-groupoids} Let $\mathcal{C}$ be a category. The $2$-category of stacks in groupoids over $\mathcal{C}$ has 2-fibre products, and they are described as in Categories, Lemma \ref{categories-lemma-2-product-categories-over-C}. \end{lemma} 
\begin{definition} \label{definition-stack-in-sets} Let $\mathcal{C}$ be a site. \begin{enumerate} \item A {\it stack in setoids} over $\mathcal{C}$ is a stack over $\mathcal{C}$ all of whose fibre categories are setoids. \item A {\it stack in sets}, or a {\it stack in discrete categories} is a stack over $\mathcal{C}$ all of whose fibre categories are discrete. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-when-stack-in-sets} Let $\mathcal{C}$ be a site. Under the equivalence $$ \left\{ \begin{matrix} \text{the category of presheaves}\\ \text{of sets over }\mathcal{C} \end{matrix} \right\} \leftrightarrow \left\{ \begin{matrix} \text{the category of categories}\\ \text{fibred in sets over }\mathcal{C} \end{matrix} \right\} $$ of Categories, Lemma \ref{categories-lemma-2-category-fibred-sets} the stacks in sets correspond precisely to the sheaves. \end{lemma} 
\begin{lemma} \label{lemma-stack-in-setoids-characterize} Let $\mathcal{C}$ be a site. Let $\mathcal{S}$ be a category fibred in setoids over $\mathcal{C}$. Then $\mathcal{S}$ is a stack in setoids if and only if the unique equivalent category $\mathcal{S}'$ fibred in sets (see Categories, Lemma \ref{categories-lemma-setoid-fibres}) is a stack in sets. In other words, if and only if the presheaf $$ U \longmapsto \Ob(\mathcal{S}_U)/\!\!\cong $$ is a sheaf. \end{lemma} 
\begin{lemma} \label{lemma-stack-in-setoids-equivalent} Let $\mathcal{C}$ be a site. Let $\mathcal{S}_1$, $\mathcal{S}_2$ be categories over $\mathcal{C}$. Suppose that $\mathcal{S}_1$ and $\mathcal{S}_2$ are equivalent as categories over $\mathcal{C}$. Then $\mathcal{S}_1$ is a stack in setoids over $\mathcal{C}$ if and only if $\mathcal{S}_2$ is a stack in setoids over $\mathcal{C}$. \end{lemma} 
\begin{definition} \label{definition-stacks-in-setoids-over-C} Let $\mathcal{C}$ be a site. The {\it $2$-category of stacks in setoids over $\mathcal{C}$} is the sub $2$-category of the $2$-category of stacks over $\mathcal{C}$ (see Definition \ref{definition-stacks-over-C}) defined as follows: \begin{enumerate} \item Its objects will be stacks in setoids $p : \mathcal{S} \to \mathcal{C}$. \item Its $1$-morphisms $(\mathcal{S}, p) \to (\mathcal{S}', p')$ will be functors $G : \mathcal{S} \to \mathcal{S}'$ such that $p' \circ G = p$. (Since every morphism is strongly cartesian every functor preserves them.) \item Its $2$-morphisms $t : G \to H$ for $G, H : (\mathcal{S}, p) \to (\mathcal{S}', p')$ will be morphisms of functors such that $p'(t_x) = \text{id}_{p(x)}$ for all $x \in \Ob(\mathcal{S})$. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-2-product-stacks-in-setoids} Let $\mathcal{C}$ be a site. The $2$-category of stacks in setoids over $\mathcal{C}$ has 2-fibre products, and they are described as in Categories, Lemma \ref{categories-lemma-2-product-categories-over-C}. \end{lemma} 
\begin{lemma} \label{lemma-2-fibre-product-gives-stack-in-setoids} Let $\mathcal{C}$ be a site. Let $\mathcal{S}, \mathcal{T}$ be stacks in groupoids over $\mathcal{C}$ and let $\mathcal{R}$ be a stack in setoids over $\mathcal{C}$. Let $f : \mathcal{T} \to \mathcal{S}$ and $g : \mathcal{R} \to \mathcal{S}$ be $1$-morphisms. If $f$ is faithful, then the $2$-fibre product $$ \mathcal{T} \times_{f, \mathcal{S}, g} \mathcal{R} $$ is a stack in setoids over $\mathcal{C}$. \end{lemma} 
\begin{lemma} \label{lemma-2-fibre-product-stacks-in-setoids-over-stack-in-groupoids} Let $\mathcal{C}$ be a site. Let $\mathcal{S}$ be a stack in groupoids over $\mathcal{C}$ and let $\mathcal{S}_i$, $i = 1, 2$ be stacks in setoids over $\mathcal{C}$. Let $f_i : \mathcal{S}_i \to \mathcal{S}$ be $1$-morphisms. Then the $2$-fibre product $$ \mathcal{S}_1 \times_{f_1, \mathcal{S}, f_2} \mathcal{S}_2 $$ is a stack in setoids over $\mathcal{C}$. \end{lemma} 
\begin{lemma} \label{lemma-faithful-descent} Let $\mathcal{C}$ be a site. Let $$ \xymatrix{ \mathcal{T}_2 \ar[r] \ar[d]_{G'} & \mathcal{T}_1 \ar[d]^G \\ \mathcal{S}_2 \ar[r]^F & \mathcal{S}_1 } $$ be a $2$-cartesian diagram of stacks in groupoids over $\mathcal{C}$. Assume \begin{enumerate} \item for every $U \in \Ob(\mathcal{C})$ and $x \in \Ob((\mathcal{S}_1)_U)$ there exists a covering $\{U_i \to U\}$ such that $x|_{U_i}$ is in the essential image of $F : (\mathcal{S}_2)_{U_i} \to (\mathcal{S}_1)_{U_i}$, and \item $G'$ is faithful, \end{enumerate} then $G$ is faithful. \end{lemma} 
\begin{lemma} \label{lemma-stack-in-setoids-descent} Let $\mathcal{C}$ be a site. Let $$ \xymatrix{ \mathcal{T}_2 \ar[r] \ar[d] & \mathcal{T}_1 \ar[d]^G \\ \mathcal{S}_2 \ar[r]^F & \mathcal{S}_1 } $$ be a $2$-cartesian diagram of stacks in groupoids over $\mathcal{C}$. If \begin{enumerate} \item $F : \mathcal{S}_2 \to \mathcal{S}_1$ is fully faithful, \item for every $U \in \Ob(\mathcal{C})$ and $x \in \Ob((\mathcal{S}_1)_U)$ there exists a covering $\{U_i \to U\}$ such that $x|_{U_i}$ is in the essential image of $F : (\mathcal{S}_2)_{U_i} \to (\mathcal{S}_1)_{U_i}$, and \item $\mathcal{T}_2$ is a stack in setoids. \end{enumerate} then $\mathcal{T}_1$ is a stack in setoids. \end{lemma} 
\begin{lemma} \label{lemma-relative-sheaf-over-stack-is-stack} Let $\mathcal{C}$ be a site. Let $F : \mathcal{S} \to \mathcal{T}$ be a $1$-morphism of categories fibred in groupoids over $\mathcal{C}$. Assume that \begin{enumerate} \item $\mathcal{T}$ is a stack in groupoids over $\mathcal{C}$, \item for every $U \in \Ob(\mathcal{C})$ the functor $\mathcal{S}_U \to \mathcal{T}_U$ of fibre categories is faithful, \item for each $U$ and each $y \in \Ob(\mathcal{T}_U)$ the presheaf $$ (h : V \to U) \longmapsto \{(x, f) \mid x \in \Ob(\mathcal{S}_V), f : F(x) \to f^*y\text{ over }V\}/\cong $$ is a sheaf on $\mathcal{C}/U$. \end{enumerate} Then $\mathcal{S}$ is a stack in groupoids over $\mathcal{C}$. \end{lemma} 
\begin{lemma} \label{lemma-inertia} Let $\mathcal{C}$ be a site. Let $p : \mathcal{S} \to \mathcal{C}$ and $p' : \mathcal{S}' \to \mathcal{C}$ be stacks over the site $\mathcal{C}$. Let $F : \mathcal{S} \to \mathcal{S}'$ be a $1$-morphism of stacks over $\mathcal{C}$. \begin{enumerate} \item The inertia $\mathcal{I}_{\mathcal{S}/\mathcal{S}'}$ and $\mathcal{I}_\mathcal{S}$ are stacks over $\mathcal{C}$. \item If $\mathcal{S}, \mathcal{S}'$ are stacks in groupoids over $\mathcal{C}$, then so are $\mathcal{I}_{\mathcal{S}/\mathcal{S}'}$ and $\mathcal{I}_\mathcal{S}$. \item If $\mathcal{S}, \mathcal{S}'$ are stacks in setoids over $\mathcal{C}$, then so are $\mathcal{I}_{\mathcal{S}/\mathcal{S}'}$ and $\mathcal{I}_\mathcal{S}$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-characterize-stack-in-setoids} Let $\mathcal{C}$ be a site. If $\mathcal{S}$ is a stack in groupoids, then the canonical $1$-morphism $\mathcal{I}_\mathcal{S} \to \mathcal{S}$ is an equivalence if and only if $\mathcal{S}$ is a stack in setoids. \end{lemma} 
\begin{lemma} \label{lemma-stackify} Let $\mathcal{C}$ be a site. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category over $\mathcal{C}$. There exists a stack $p' : \mathcal{S}' \to \mathcal{C}$ and a $1$-morphism $G : \mathcal{S} \to \mathcal{S}'$ of fibred categories over $\mathcal{C}$ (see Categories, Definition \ref{categories-definition-fibred-categories-over-C}) such that \begin{enumerate} \item for every $U \in \Ob(\mathcal{C})$, and any $x, y \in \Ob(\mathcal{S}_U)$ the map $$ \mathit{Mor}(x, y) \longrightarrow \mathit{Mor}(G(x), G(y)) $$ induced by $G$ identifies the right hand side with the sheafification of the left hand side, and \item for every $U \in \Ob(\mathcal{C})$, and any $x' \in \Ob(\mathcal{S}'_U)$ there exists a covering $\{U_i \to U\}_{i \in I}$ such that for every $i \in I$ the object $x'|_{U_i}$ is in the essential image of the functor $G : \mathcal{S}_{U_i} \to \mathcal{S}'_{U_i}$. \end{enumerate} Moreover the stack $\mathcal{S}'$ is determined up to unique $2$-isomorphism by these conditions. \end{lemma} 
\begin{lemma} \label{lemma-stackify-universal-property} Let $\mathcal{C}$ be a site. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category over $\mathcal{C}$. Let $p' : \mathcal{S}' \to \mathcal{C}$ and $G : \mathcal{S} \to \mathcal{S}'$ the stack and $1$-morphism constructed in Lemma \ref{lemma-stackify}. This construction has the following universal property: Given a stack $q : \mathcal{X} \to \mathcal{C}$ and a $1$-morphism $F : \mathcal{S} \to \mathcal{X}$ of fibred categories over $\mathcal{C}$ there exists a $1$-morphism $H : \mathcal{S}' \to \mathcal{X}$ such that the diagram $$ \xymatrix{ \mathcal{S} \ar[rr]_F \ar[rd]_G & & \mathcal{X} \\ & \mathcal{S}' \ar[ru]_H } $$ is $2$-commutative. \end{lemma} 
\begin{lemma} \label{lemma-stackify-universal-property-more} Notation and assumptions as in Lemma \ref{lemma-stackify-universal-property}. There is a canonical equivalence of categories $$ \Mor_{\textit{Fib}/\mathcal{C}}(\mathcal{S}, \mathcal{X}) = \Mor_{\textit{Stacks}/\mathcal{C}}(\mathcal{S}', \mathcal{X}) $$ given by the constructions in the proof of the aforementioned lemma. \end{lemma} 
\begin{lemma} \label{lemma-stackification-fibre-product-fibred-categories} Let $\mathcal{C}$ be a site. Let $f : \mathcal{X} \to \mathcal{Y}$ and $g : \mathcal{Z} \to \mathcal{Y}$ be morphisms of fibred categories over $\mathcal{C}$. In this case the stackification of the $2$-fibre product is the $2$-fibre product of the stackifications. \end{lemma} 
\begin{lemma} \label{lemma-stackification-inertia} Let $\mathcal{C}$ be a site. Let $\mathcal{X}$ be a fibred category over $\mathcal{C}$. The stackification of the inertia fibred category $\mathcal{I}_\mathcal{X}$ is inertia of the stackification of $\mathcal{X}$. \end{lemma} 
\begin{lemma} \label{lemma-stackify-groupoids} Let $\mathcal{C}$ be a site. Let $p : \mathcal{S} \to \mathcal{C}$ be a category fibred in groupoids over $\mathcal{C}$. There exists a stack in groupoids $p' : \mathcal{S}' \to \mathcal{C}$ and a $1$-morphism $G : \mathcal{S} \to \mathcal{S}'$ of categories fibred in groupoids over $\mathcal{C}$ (see Categories, Definition \ref{categories-definition-categories-fibred-in-groupoids-over-C}) such that \begin{enumerate} \item for every $U \in \Ob(\mathcal{C})$, and any $x, y \in \Ob(\mathcal{S}_U)$ the map $$ \mathit{Mor}(x, y) \longrightarrow \mathit{Mor}(G(x), G(y)) $$ induced by $G$ identifies the right hand side with the sheafification of the left hand side, and \item for every $U \in \Ob(\mathcal{C})$, and any $x' \in \Ob(\mathcal{S}'_U)$ there exists a covering $\{U_i \to U\}_{i \in I}$ such that for every $i \in I$ the object $x'|_{U_i}$ is in the essential image of the functor $G : \mathcal{S}_{U_i} \to \mathcal{S}'_{U_i}$. \end{enumerate} Moreover the stack in groupoids $\mathcal{S}'$ is determined up to unique $2$-isomorphism by these conditions. \end{lemma} 
\begin{lemma} \label{lemma-stackify-groupoids-universal-property} Let $\mathcal{C}$ be a site. Let $p : \mathcal{S} \to \mathcal{C}$ be a category fibred in groupoids over $\mathcal{C}$. Let $p' : \mathcal{S}' \to \mathcal{C}$ and $G : \mathcal{S} \to \mathcal{S}'$ the stack in groupoids and $1$-morphism constructed in Lemma \ref{lemma-stackify-groupoids}. This construction has the following universal property: Given a stack in groupoids $q : \mathcal{X} \to \mathcal{C}$ and a $1$-morphism $F : \mathcal{S} \to \mathcal{X}$ of categories over $\mathcal{C}$ there exists a $1$-morphism $H : \mathcal{S}' \to \mathcal{X}$ such that the diagram $$ \xymatrix{ \mathcal{S} \ar[rr]_F \ar[rd]_G & & \mathcal{X} \\ & \mathcal{S}' \ar[ru]_H } $$ is $2$-commutative. \end{lemma} 
\begin{lemma} \label{lemma-stackification-fibre-product-categories-fibred-in-groupoids} Let $\mathcal{C}$ be a site. Let $f : \mathcal{X} \to \mathcal{Y}$ and $g : \mathcal{Z} \to \mathcal{Y}$ be morphisms of categories fibred in groupoids over $\mathcal{C}$. In this case the stackification of the $2$-fibre product is the $2$-fibre product of the stackifications. \end{lemma} 
\begin{lemma} \label{lemma-topology-inherited} Let $\mathcal{C}$ be a site. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category. Let $\text{Cov}(\mathcal{S})$ be the set of families $\{x_i \to x\}_{i \in I}$ of morphisms in $\mathcal{S}$ with fixed target such that (a) each $x_i \to x$ is strongly cartesian, and (b) $\{p(x_i) \to p(x)\}_{i \in I}$ is a covering of $\mathcal{C}$. Then $(\mathcal{S}, \text{Cov}(\mathcal{S}))$ is a site. \end{lemma} 
\begin{definition} \label{definition-topology-inherited} Let $\mathcal{C}$ be a site. Let $p : \mathcal{S} \to \mathcal{C}$ be a fibred category. We say $(\mathcal{S}, \text{Cov}(\mathcal{S}))$ as in Lemma \ref{lemma-topology-inherited} is the {\it structure of site on $\mathcal{S}$ inherited from $\mathcal{C}$}. We sometimes indicate this by saying that {\it $\mathcal{S}$ is endowed with the topology inherited from $\mathcal{C}$}. \end{definition} 
\begin{lemma} \label{lemma-topology-inherited-functorial} Let $\mathcal{C}$ be a site. Let $F : \mathcal{X} \to \mathcal{Y}$ be a $1$-morphism of fibred categories over $\mathcal{C}$. Then $F$ is a continuous and cocontinuous functor between the structure of sites inherited from $\mathcal{C}$. Hence $F$ induces a morphism of topoi $f : \Sh(\mathcal{X}) \to \Sh(\mathcal{Y})$ with $f_* = {}_sF = {}_pF$ and $f^{-1} = F^s = F^p$. In particular $f^{-1}(\mathcal{G})(x) = \mathcal{G}(F(x))$ for a sheaf $\mathcal{G}$ on $\mathcal{Y}$ and object $x$ of $\mathcal{X}$. \end{lemma} 
\begin{lemma} \label{lemma-localizing} Let $\mathcal{C}$ be a site. Let $p : \mathcal{X} \to \mathcal{C}$ be a category fibred in groupoids. Let $x \in \Ob(\mathcal{X})$ lying over $U = p(x)$. The functor $p$ induces an equivalence of sites $\mathcal{X}/x \to \mathcal{C}/U$ where $\mathcal{X}$ is endowed with the topology inherited from $\mathcal{C}$. \end{lemma} 
\begin{lemma} \label{lemma-stack-in-groupoids-over-stack-in-groupoids} Let $\mathcal{C}$ be a site. Let $p : \mathcal{X} \to \mathcal{C}$ and $q : \mathcal{Y} \to \mathcal{C}$ be stacks in groupoids. Let $F : \mathcal{X} \to \mathcal{Y}$ be a $1$-morphism of categories over $\mathcal{C}$. If $F$ turns $\mathcal{X}$ into a category fibred in groupoids over $\mathcal{Y}$, then $\mathcal{X}$ is a stack in groupoids over $\mathcal{Y}$ (with topology inherited from $\mathcal{C}$). \end{lemma} 
\begin{lemma} \label{lemma-stack-over-stack} Let $\mathcal{C}$ be a site. Let $p : \mathcal{X} \to \mathcal{C}$ be a stack. Endow $\mathcal{X}$ with the topology inherited from $\mathcal{C}$ and let $q : \mathcal{Y} \to \mathcal{X}$ be a stack. Then $\mathcal{Y}$ is a stack over $\mathcal{C}$. If $p$ and $q$ define stacks in groupoids, then $\mathcal{Y}$ is a stack in groupoids over $\mathcal{C}$. \end{lemma} 
\begin{definition} \label{definition-gerbe} A {\it gerbe} over a site $\mathcal{C}$ is a category $p : \mathcal{S} \to \mathcal{C}$ over $\mathcal{C}$ such that \begin{enumerate} \item $p : \mathcal{S} \to \mathcal{C}$ is a stack in groupoids over $\mathcal{C}$ (see Definition \ref{definition-stack-in-groupoids}), \item for $U \in \Ob(\mathcal{C})$ there exists a covering $\{U_i \to U\}$ in $\mathcal{C}$ such that $\mathcal{S}_{U_i}$ is nonempty, and \item for $U \in \Ob(\mathcal{C})$ and $x, y \in \Ob(\mathcal{S}_U)$ there exists a covering $\{U_i \to U\}$ in $\mathcal{C}$ such that $x|_{U_i} \cong y|_{U_i}$ in $\mathcal{S}_{U_i}$. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-gerbe-equivalent} Let $\mathcal{C}$ be a site. Let $\mathcal{S}_1$, $\mathcal{S}_2$ be categories over $\mathcal{C}$. Suppose that $\mathcal{S}_1$ and $\mathcal{S}_2$ are equivalent as categories over $\mathcal{C}$. Then $\mathcal{S}_1$ is a gerbe over $\mathcal{C}$ if and only if $\mathcal{S}_2$ is a gerbe over $\mathcal{C}$. \end{lemma} 
\begin{lemma} \label{lemma-when-gerbe} Let $\mathcal{C}$ be a site. Let $p : \mathcal{X} \to \mathcal{C}$ and $q : \mathcal{Y} \to \mathcal{C}$ be stacks in groupoids. Let $F : \mathcal{X} \to \mathcal{Y}$ be a $1$-morphism of categories over $\mathcal{C}$. The following are equivalent \begin{enumerate} \item For some (equivalently any) factorization $F = F' \circ a$ where $a : \mathcal{X} \to \mathcal{X}'$ is an equivalence of categories over $\mathcal{C}$ and $F'$ is fibred in groupoids, the map $F' : \mathcal{X}' \to \mathcal{Y}$ is a gerbe (with the topology on $\mathcal{Y}$ inherited from $\mathcal{C}$). \item The following two conditions are satisfied \begin{enumerate} \item for $y \in \Ob(\mathcal{Y})$ lying over $U \in \Ob(\mathcal{C})$ there exists a covering $\{U_i \to U\}$ in $\mathcal{C}$ and objects $x_i$ of $\mathcal{X}$ over $U_i$ such that $F(x_i) \cong y|_{U_i}$ in $\mathcal{Y}_{U_i}$, and \item for $U \in \Ob(\mathcal{C})$, $x, x' \in \Ob(\mathcal{X}_U)$, and $b : F(x) \to F(x')$ in $\mathcal{Y}_U$ there exists a covering $\{U_i \to U\}$ in $\mathcal{C}$ and morphisms $a_i : x|_{U_i} \to x'|_{U_i}$ in $\mathcal{X}_{U_i}$ with $F(a_i) = b|_{U_i}$. \end{enumerate} \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-gerbe-over-stack-in-groupoids} Let $\mathcal{C}$ be a site. Let $\mathcal{X}$ and $\mathcal{Y}$ be stacks in groupoids over $\mathcal{C}$. Let $F : \mathcal{X} \to \mathcal{Y}$ be a $1$-morphism of categories over $\mathcal{C}$. We say $\mathcal{X}$ is a {\it gerbe over} $\mathcal{Y}$ if the equivalent conditions of Lemma \ref{lemma-when-gerbe} are satisfied. \end{definition} 
\begin{lemma} \label{lemma-base-change-gerbe} Let $\mathcal{C}$ be a site. Let $$ \xymatrix{ \mathcal{X}' \ar[r]_{G'} \ar[d]_{F'} & \mathcal{X} \ar[d]^F \\ \mathcal{Y}' \ar[r]^G & \mathcal{Y} } $$ be a $2$-fibre product of stacks in groupoids over $\mathcal{C}$. If $\mathcal{X}$ is a gerbe over $\mathcal{Y}$, then $\mathcal{X}'$ is a gerbe over $\mathcal{Y}'$. \end{lemma} 
\begin{lemma} \label{lemma-composition-gerbe} Let $\mathcal{C}$ be a site. Let $F : \mathcal{X} \to \mathcal{Y}$ and $G : \mathcal{Y} \to \mathcal{Z}$ be $1$-morphisms of stacks in groupoids over $\mathcal{C}$. If $\mathcal{X}$ is a gerbe over $\mathcal{Y}$ and $\mathcal{Y}$ is a gerbe over $\mathcal{Z}$, then $\mathcal{X}$ is a gerbe over $\mathcal{Z}$. \end{lemma} 
\begin{lemma} \label{lemma-gerbe-descent} Let $\mathcal{C}$ be a site. Let $$ \xymatrix{ \mathcal{X}' \ar[r]_{G'} \ar[d]_{F'} & \mathcal{X} \ar[d]^F \\ \mathcal{Y}' \ar[r]^G & \mathcal{Y} } $$ be a $2$-cartesian diagram of stacks in groupoids over $\mathcal{C}$. If for every $U \in \Ob(\mathcal{C})$ and $x \in \Ob(\mathcal{Y}_U)$ there exists a covering $\{U_i \to U\}$ such that $x|_{U_i}$ is in the essential image of $G : \mathcal{Y}'_{U_i} \to \mathcal{Y}_{U_i}$ and $\mathcal{X}'$ is a gerbe over $\mathcal{Y}'$, then $\mathcal{X}$ is a gerbe over $\mathcal{Y}$. \end{lemma} 
\begin{lemma} \label{lemma-gerbe-abelian-auts} Let $p : \mathcal{S} \to \mathcal{C}$ be a gerbe over a site $\mathcal{C}$. Assume that for all $U \in \Ob(\mathcal{C})$ and $x \in \Ob(\mathcal{S}_U)$ the sheaf of groups $\mathit{Aut}(x) = \mathit{Isom}(x, x)$ on $\mathcal{C}/U$ is abelian. Then there exist \begin{enumerate} \item a sheaf $\mathcal{G}$ of abelian groups on $\mathcal{C}$, \item for every $U \in \Ob(\mathcal{C})$ and every $x \in \Ob(\mathcal{S}_U)$ an isomorphism $\mathcal{G}|_U \to \mathit{Aut}(x)$ \end{enumerate} such that for every $U$ and every morphism $\varphi : x \to y$ in $\mathcal{S}_U$ the diagram $$ \xymatrix{ \mathcal{G}|_U \ar[d] \ar@{=}[rr] & & \mathcal{G}|_U \ar[d] \\ \mathit{Aut}(x) \ar[rr]^{\alpha \mapsto \varphi \circ \alpha \circ \varphi^{-1}} & & \mathit{Aut}(y) } $$ is commutative. \end{lemma} 
\begin{lemma} \label{lemma-fibred-category-pushforward} In the situation above, if $\mathcal{S}$ is a fibred category over $\mathcal{D}$ then $u^p\mathcal{S}$ is a fibred category over $\mathcal{C}$. \end{lemma} 
\begin{lemma} \label{lemma-stack-pushforward} Let $u : \mathcal{C} \to \mathcal{D}$ be a continuous functor of sites. Let $p : \mathcal{S} \to \mathcal{D}$ be a stack over $\mathcal{D}$. Then $u^p\mathcal{S}$ is a stack over $\mathcal{C}$. \end{lemma} 
\begin{lemma} \label{lemma-stack-in-groupoids-pushforward} Let $u : \mathcal{C} \to \mathcal{D}$ be a continuous functor of sites. Let $p : \mathcal{S} \to \mathcal{D}$ be a stack in groupoids over $\mathcal{D}$. Then $u^p\mathcal{S}$ is a stack in groupoids over $\mathcal{C}$. \end{lemma} 
\begin{definition} \label{definition-pushforward-stack} Let $f : \mathcal{D} \to \mathcal{C}$ be a morphism of sites given by the continuous functor $u : \mathcal{C} \to \mathcal{D}$. Let $\mathcal{S}$ be a fibred category over $\mathcal{D}$. In this setting we write {\it $f_*\mathcal{S}$} for the fibred category $u^p\mathcal{S}$ defined above. We say that $f_*\mathcal{S}$ is the {\it pushforward of $\mathcal{S}$ along $f$}. \end{definition} 
\begin{lemma} \label{lemma-right-multiplicative-system} In the situation above assume \begin{enumerate} \item $p : \mathcal{S} \to \mathcal{C}$ is a fibred category, \item $\mathcal{C}$ has nonempty finite limits, and \item $u : \mathcal{C} \to \mathcal{D}$ commutes with nonempty finite limits. \end{enumerate} Consider the set $R \subset \text{Arrows}(u_{pp}\mathcal{S})$ of morphisms of the form $$ (a, \text{id}_V, \alpha) : (U', \phi' : V \to u(U'), x') \longrightarrow (U, \phi : V \to u(U), x) $$ with $\alpha$ strongly cartesian. Then $R$ is a right multiplicative system. \end{lemma} 
\begin{lemma} \label{lemma-fibred-category-pullback} With notation and assumptions as in Lemma \ref{lemma-right-multiplicative-system}. Set $u_p\mathcal{S} = R^{-1}u_{pp}\mathcal{S}$, see Categories, Section \ref{categories-section-localization}. Then $u_p\mathcal{S}$ is a fibred category over $\mathcal{D}$. \end{lemma} 
\begin{lemma} \label{lemma-fibred-groupoids-category-pullback} With notation and assumptions as in Lemma \ref{lemma-fibred-category-pullback}. If $\mathcal{S}$ is fibred in groupoids, then $u_p\mathcal{S}$ is fibred in groupoids. \end{lemma} 
\begin{lemma} \label{lemma-adjointness-pullback-pushforward} Let $u : \mathcal{C} \to \mathcal{D}$ be a functor. Let $p : \mathcal{S} \to \mathcal{C}$ and $q : \mathcal{T} \to \mathcal{D}$ be categories over $\mathcal{C}$ and $\mathcal{D}$. Assume that \begin{enumerate} \item $p : \mathcal{S} \to \mathcal{C}$ is a fibred category, \item $q : \mathcal{T} \to \mathcal{D}$ is a fibred category, \item $\mathcal{C}$ has nonempty finite limits, and \item $u : \mathcal{C} \to \mathcal{D}$ commutes with nonempty finite limits. \end{enumerate} Then we have a canonical equivalence of categories $$ \Mor_{\textit{Fib}/\mathcal{C}}(\mathcal{S}, u^p\mathcal{T}) = \Mor_{\textit{Fib}/\mathcal{D}}(u_p\mathcal{S}, \mathcal{T}) $$ of morphism categories. \end{lemma} 
\begin{definition} \label{definition-pullback-stack} Let $f : \mathcal{D} \to \mathcal{C}$ be a morphism of sites given by a continuous functor $u : \mathcal{C} \to \mathcal{D}$ satisfying the hypotheses and conclusions of Sites, Proposition \ref{sites-proposition-get-morphism}. Let $\mathcal{S}$ be a stack over $\mathcal{C}$. In this setting we write {\it $f^{-1}\mathcal{S}$} for the stackification of the fibred category $u_p\mathcal{S}$ over $\mathcal{D}$ constructed above. We say that $f^{-1}\mathcal{S}$ is the {\it pullback of $\mathcal{S}$ along $f$}. \end{definition} 
\begin{lemma} \label{lemma-adjointness-pullback-pushforward-stacks} Let $f : \mathcal{D} \to \mathcal{C}$ be a morphism of sites given by a continuous functor $u : \mathcal{C} \to \mathcal{D}$ satisfying the hypotheses and conclusions of Sites, Proposition \ref{sites-proposition-get-morphism}. Let $p : \mathcal{S} \to \mathcal{C}$ and $q : \mathcal{T} \to \mathcal{D}$ be stacks. Then we have a canonical equivalence of categories $$ \Mor_{\textit{Stacks}/\mathcal{C}}(\mathcal{S}, f_*\mathcal{T}) = \Mor_{\textit{Stacks}/\mathcal{D}}(f^{-1}\mathcal{S}, \mathcal{T}) $$ of morphism categories. \end{lemma} 
\begin{lemma} \label{lemma-technical-up} Let $f : \mathcal{D} \to \mathcal{C}$ be a morphism of sites given by a continuous functor $u : \mathcal{C} \to \mathcal{D}$ satisfying the hypotheses and conclusions of Sites, Proposition \ref{sites-proposition-get-morphism}. Let $\mathcal{S} \to \mathcal{C}$ be a fibred category, and let $\mathcal{S} \to \mathcal{S}'$ be the stackification of $\mathcal{S}$. Then $f^{-1}\mathcal{S}'$ is the stackification of $u_p\mathcal{S}$. \end{lemma} 
\begin{lemma} \label{lemma-bigger-site} Let $\mathcal{C}$ and $\mathcal{D}$ be sites. Let $u : \mathcal{C} \to \mathcal{D}$ be a functor satisfying the assumptions of Sites, Lemma \ref{sites-lemma-bigger-site}. Let $f : \mathcal{D} \to \mathcal{C}$ be the corresponding morphism of sites. Then \begin{enumerate} \item for every stack $p : \mathcal{S} \to \mathcal{C}$ the canonical functor $\mathcal{S} \to f_*f^{-1}\mathcal{S}$ is an equivalence of stacks, \item given stacks $\mathcal{S}, \mathcal{S}'$ over $\mathcal{C}$ the construction $f^{-1}$ induces an equivalence $$ \Mor_{\textit{Stacks}/\mathcal{C}}(\mathcal{S}, \mathcal{S}') \longrightarrow \Mor_{\textit{Stacks}/\mathcal{D}}(f^{-1}\mathcal{S}, f^{-1}\mathcal{S}') $$ of morphism categories. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-when-localization-stack} Let $\mathcal{C}$ be a site. Let $U \in \Ob(\mathcal{C})$. Then $j_U : \mathcal{C}/U \to \mathcal{C}$ is a stack over $\mathcal{C}$ if and only if $h_U$ is a sheaf. \end{lemma} 
\begin{lemma} \label{lemma-localize-stacks} Assume that $\mathcal{C}$ is a site, and $U$ is an object of $\mathcal{C}$ whose associated representable presheaf is a sheaf. Constructions A and B above define mutually inverse (!) functors of $2$-categories $$ \left\{ \begin{matrix} 2\text{-category of}\\ \text{stacks over }\mathcal{C}/U \end{matrix} \right\} \leftrightarrow \left\{ \begin{matrix} 2\text{-category of pairs }(\mathcal{T}, p) \text{ consisting} \\ \text{of a stack }\mathcal{T}\text{ over }\mathcal{C}\text{ and a morphism} \\ p : \mathcal{T} \to \mathcal{C}/U\text{ of stacks over }\mathcal{C} \end{matrix} \right\} $$ \end{lemma} 
