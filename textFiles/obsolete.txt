\begin{lemma} \label{lemma-finite-presentation-module-independent} Let $M$ be an $R$-module of finite presentation. For any surjection $\alpha : R^{\oplus n} \to M$ the kernel of $\alpha$ is a finite $R$-module. \end{lemma} 
\begin{lemma} \label{lemma-p-ring-map} Let $\varphi : R \to S$ be a ring map. If \begin{enumerate} \item for any $x \in S$ there exists $n > 0$ such that $x^n$ is in the image of $\varphi$, and \item for any $x \in \Ker(\varphi)$ there exists $n > 0$ such that $x^n = 0$, \end{enumerate} then $\varphi$ induces a homeomorphism on spectra. Given a prime number $p$ such that \begin{enumerate} \item[(a)] $S$ is generated as an $R$-algebra by elements $x$ such that there exists an $n > 0$ with $x^{p^n} \in \varphi(R)$ and $p^nx \in \varphi(R)$, and \item[(b)] the kernel of $\varphi$ is generated by nilpotent elements, \end{enumerate} then (1) and (2) hold, and for any ring map $R \to R'$ the ring map $R' \to R' \otimes_R S$ also satisfies (a), (b), (1), and (2) and in particular induces a homeomorphism on spectra. \end{lemma} 
\begin{lemma} \label{lemma-lift-elements-ideal} Let $R \to S$ be a ring map. Let $\mathfrak p \subset R$ be a prime. Let $\mathfrak q \subset S$ be a prime lying over $\mathfrak p$. Assume $S_{\mathfrak q}$ is essentially of finite type over $R_\mathfrak p$. Assume given \begin{enumerate} \item an integer $n \geq 0$, \item a prime $\mathfrak a \subset \kappa(\mathfrak p)[x_1, \ldots, x_n]$, \item a surjective $\kappa(\mathfrak p)$-homomorphism $$ \psi : (\kappa(\mathfrak p)[x_1, \ldots, x_n])_{\mathfrak a} \longrightarrow S_{\mathfrak q}/\mathfrak p S_{\mathfrak q}, $$ and \item elements $\overline{f}_1, \ldots, \overline{f}_e$ in $\Ker(\psi)$. \end{enumerate} Then there exist \begin{enumerate} \item an integer $m \geq 0$, \item and element $g \in S$, $g \not\in \mathfrak q$, \item a map $$ \Psi : R[x_1, \ldots, x_n, x_{n + 1}, \ldots, x_{n + m}] \longrightarrow S_g, $$ and \item elements $f_1, \ldots, f_e, f_{e + 1}, \ldots, f_{e + m}$ of $\Ker(\Psi)$ \end{enumerate} such that \begin{enumerate} \item the following diagram commutes $$ \xymatrix{ R[x_1, \ldots, x_{n + m}] \ar[d]_\Psi \ar[rr]_-{x_{n + j} \mapsto 0} & & (\kappa(\mathfrak p)[x_1, \ldots, x_n])_{\mathfrak a} \ar[d]^\psi \\ S_g \ar[rr] & & S_{\mathfrak q}/\mathfrak p S_{\mathfrak q} }, $$ \item the element $f_i$, $i \leq n$ maps to a unit times $\overline{f}_i$ in the local ring $$ (\kappa(\mathfrak p)[x_1, \ldots, x_{n + m}])_{ (\mathfrak a, x_{n + 1}, \ldots, x_{n + m})}, $$ \item the element $f_{e + j}$ maps to a unit times $x_{n + j}$ in the same local ring, and \item the induced map $R[x_1, \ldots, x_{n + m}]_{\mathfrak b} \to S_{\mathfrak q}$ is surjective, where $\mathfrak b = \Psi^{-1}(\mathfrak qS_g)$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-spec-localization-first} Let $S$ be a multiplicative set of $A$. Then the map $$ f: \Spec(S^{-1}A)\longrightarrow \Spec(A) $$ induced by the canonical ring map $A \to S^{-1}A$ is a homeomorphism onto its image and $\Im(f) = \{ \mathfrak p \in \Spec(A) : \mathfrak p\cap S = \emptyset \}$. \end{lemma} 
\begin{lemma} \label{lemma-finite-type-flat-over-integral-algebra} Let $A \to B$ be a finite type, flat ring map with $A$ an integral domain. Then $B$ is a finitely presented $A$-algebra. \end{lemma} 
\begin{lemma} \label{lemma-helper-finite-type-flat-finite-presentation} Let $R$ be a domain with fraction field $K$. Let $S = R[x_1, \ldots, x_n]$ be a polynomial ring over $R$. Let $M$ be a finite $S$-module. Assume that $M$ is flat over $R$. If for every subring $R \subset R' \subset K$, $R \not = R'$ the module $M \otimes_R R'$ is finitely presented over $S \otimes_R R'$, then $M$ is finitely presented over $S$. \end{lemma} 
\begin{lemma} \label{lemma-relative-effective-cartier-algebra} Let $A \to B$ be a ring map. Let $f \in B$. Assume that \begin{enumerate} \item $A \to B$ is flat, \item $f$ is a nonzerodivisor, and \item $A \to B/fB$ is flat. \end{enumerate} Then for every ideal $I \subset A$ the map $f : B/IB \to B/IB$ is injective. \end{lemma} 
\begin{lemma} \label{lemma-faithfully-flat-injective} If $R \to S$ is a faithfully flat ring map then for every $R$-module $M$ the map $M \to S \otimes_R M$, $x \mapsto 1 \otimes x$ is injective. \end{lemma} 
\begin{lemma} \label{lemma-not-domain} Let $(R, \mathfrak m)$ be a reduced Noetherian local ring of dimension $1$ and let $x \in \mathfrak m$ be a nonzerodivisor. Let $\mathfrak q_1, \ldots, \mathfrak q_r$ be the minimal primes of $R$. Then $$ \text{length}_R(R/(x)) = \sum\nolimits_i \text{ord}_{R/\mathfrak q_i}(x) $$ \end{lemma} 
\begin{lemma} \label{lemma-bound-primes} Let $A$ be a Noetherian local normal domain of dimension $2$. For $f \in \mathfrak m$ nonzero denote $\text{div}(f) = \sum n_i (\mathfrak p_i)$ the divisor associated to $f$ on the punctured spectrum of $A$. We set $|f| = \sum n_i$. There exist integers $N$ and $M$ such that $|f + g| \leq M$ for all $g \in \mathfrak m^N$. \end{lemma} 
\begin{lemma} \label{lemma-flat-over-gorenstein-gorenstein-fibre} Let $A \to B$ be a flat local homomorphism of Noetherian local rings. If $A$ and $B/\mathfrak m_A B$ are Gorenstein, then $B$ is Gorenstein. \end{lemma} 
\begin{lemma} \label{lemma-kill-local} Let $(A, \mathfrak m)$ be a Noetherian local ring. Let $I \subset A$ be an ideal. Let $M$ be a finite $A$-module. Let $s$ be an integer. Assume \begin{enumerate} \item $A$ has a dualizing complex, \item if $\mathfrak p \not \in V(I)$ and $V(\mathfrak p) \cap V(I) \not = \{\mathfrak m\}$, then $\text{depth}_{A_\mathfrak p}(M_\mathfrak p) + \dim(A/\mathfrak p) > s$. \end{enumerate} Then there exists an $n > 0$ and an ideal $J \subset A$ with $V(J) \cap V(I) = \{\mathfrak m\}$ such that $JI^n$ annihilates $H^i_\mathfrak m(M)$ for $i \leq s$. \end{lemma} 
\begin{lemma} \label{lemma-algebraize-local-cohomology-bis-bis} Let $(A, \mathfrak m)$ be a Noetherian local ring. Let $I \subset A$ be an ideal. Let $M$ be a finite $A$-module. Let $s$ and $d$ be integers. Assume \begin{enumerate} \item[(a)] $A$ has a dualizing complex, \item[(b)] $\text{cd}(A, I) \leq d$, \item[(c)] if $\mathfrak p \not \in V(I)$ then $\text{depth}_{A_\mathfrak p}(M_\mathfrak p) > s$ or $\text{depth}_{A_\mathfrak p}(M_\mathfrak p) + \dim(A/\mathfrak p) > d + s$. \end{enumerate} Then the assumptions of Algebraic and Formal Geometry, Lemma \ref{algebraization-lemma-algebraize-local-cohomology-bis} hold for $A, I, \mathfrak m, M$ and $H^i_\mathfrak m(M) \to \lim H^i_\mathfrak m(M/I^nM)$ is an isomorphism for $i \leq s$ and these modules are annihilated by a power of $I$. \end{lemma} 
\begin{lemma} \label{lemma-combine-one} In Algebraic and Formal Geometry, Situation \ref{algebraization-situation-bootstrap} we have $H^s_\mathfrak a(M) = \lim H^s_\mathfrak a(M/I^nM)$. \end{lemma} 
\begin{lemma} \label{lemma-fully-faithful-simple-one} Let $A$ be a Noetherian ring. Let $f \in \mathfrak a$ be an element of an ideal of $A$. Let $U = \Spec(A) \setminus V(\mathfrak a)$. Assume \begin{enumerate} \item $A$ has a dualizing complex and is complete with respect to $f$, \item $A_f$ is $(S_2)$ and for every minimal prime $\mathfrak p \subset A$, $f \not \in \mathfrak p$ and $\mathfrak q \in V(\mathfrak p) \cap V(\mathfrak a)$ we have $\dim((A/\mathfrak p)_\mathfrak q) \geq 3$. \end{enumerate} Then the completion functor $$ \textit{Coh}(\mathcal{O}_U) \longrightarrow \textit{Coh}(U, I\mathcal{O}_U), \quad \mathcal{F} \longmapsto \mathcal{F}^\wedge $$ is fully faithful on the full subcategory of finite locally free objects. \end{lemma} 
\begin{lemma} \label{lemma-change-equation-multiply} Let $R$ be a ring and let $\varphi : R[x] \to S$ be a ring map. Let $t \in S$. If $t$ is integral over $R[x]$, then there exists an $\ell \geq 0$ such that for every $a \in R$ the element $\varphi(a)^\ell t$ is integral over $\varphi_a : R[y] \to S$, defined by $y \mapsto \varphi(ax)$ and $r \mapsto \varphi(r)$ for $r\in R$. \end{lemma} 
\begin{lemma} \label{lemma-make-integral-less-trivial} Let $\varphi : R \to S$ be a ring map. Suppose $t \in S$ satisfies the relation $\varphi(a_0) + \varphi(a_1)t + \ldots + \varphi(a_n) t^n = 0$. Set $u_n = \varphi(a_n)$, $u_{n-1} = u_n t + \varphi(a_{n-1})$, and so on till $u_1 = u_2 t + \varphi(a_1)$. Then all of $u_n, u_{n-1}, \ldots, u_1$ and $u_nt, u_{n-1}t, \ldots, u_1t$ are integral over $R$, and the ideals $(\varphi(a_0), \ldots, \varphi(a_n))$ and $(u_n, \ldots, u_1)$ of $S$ are equal. \end{lemma} 
\begin{lemma} \label{lemma-make-integral-not-in-ideal} Let $\varphi : R \to S$ be a ring map. Suppose $t \in S$ satisfies the relation $\varphi(a_0) + \varphi(a_1)t + \ldots + \varphi(a_n) t^n = 0$. Let $J \subset S$ be an ideal such that for at least one $i$ we have $\varphi(a_i) \not \in J$. Then there exists a $u \in S$, $u \not\in J$ such that both $u$ and $ut$ are integral over $R$. \end{lemma} 
\begin{lemma} \label{lemma-P1} Let $R$ be a ring. Let $F(X, Y) \in R[X, Y]$ be homogeneous of degree $d$. Assume that for every prime $\mathfrak p$ of $R$ at least one coefficient of $F$ is not in $\mathfrak p$. Let $S = R[X, Y]/(F)$ as a graded ring. Then for all $n \geq d$ the $R$-module $S_n$ is finite locally free of rank $d$. \end{lemma} 
\begin{lemma} \label{lemma-rel-prime-pols} Let $k$ be a field. Let $F, G \in k[X, Y]$ be homogeneous of degrees $d, e$. Assume $F, G$ relatively prime. Then multiplication by $G$ is injective on $S = k[X, Y]/(F)$. \end{lemma} 
\begin{lemma} \label{lemma-P1-localize} Let $R$ be a ring. Let $F(X, Y) \in R[X, Y]$ be homogeneous of degree $d$. Let $S = R[X, Y]/(F)$ as a graded ring. Let $\mathfrak p \subset R$ be a prime such that some coefficient of $F$ is not in $\mathfrak p$. There exists an $f \in R$ $f \not\in \mathfrak p$, an integer $e$, and a $G \in R[X, Y]_e$ such that multiplication by $G$ induces isomorphisms $(S_n)_f \to (S_{n + e})_f$ for all $n \geq d$. \end{lemma} 
\begin{lemma} \label{lemma-finite-after-localization} Let $R$ be a ring, let $f \in R$. Suppose we have $S$, $S'$ and the solid arrows forming the following commutative diagram of rings $$ \xymatrix{ & S'' \ar@{-->}[rd] \ar@{-->}[dd] & \\ R \ar[rr] \ar@{-->}[ru] \ar[d] &  & S \ar[d] \\ R_f \ar[r] & S' \ar[r] & S_f } $$ Assume that $R_f \to S'$ is finite. Then we can find a finite ring map $R \to S''$ and dotted arrows as in the diagram such that $S' = (S'')_f$. \end{lemma} 
\begin{lemma} \label{lemma-formally-smooth-smooth} Let $R$ be a ring. Let $S$ be a $R$-algebra. If $S$ is of finite presentation and formally smooth over $R$ then $S$ is smooth over $R$. \end{lemma} 
\begin{lemma} \label{lemma-get-morphism-general} Let $A$ be a Noetherian ring. Let $I \subset A$ be an ideal. Let $t$ be the minimal number of generators for $I$. Let $C$ be a Noetherian $I$-adically complete $A$-algebra. There exists an integer $d \geq 0$ depending only on $I \subset A \to C$ with the following property: given \begin{enumerate} \item $c \geq 0$ and $B$ in Algebraization of Formal Spaces, Equation (\ref{restricted-equation-C-prime}) such that for $a \in I^c$ multiplication by $a$ on $\NL_{B/A}^\wedge$ is zero in $D(B)$, \item an integer $n > 2t\max(c, d)$, \item an $A/I^n$-algebra map $\psi_n : B/I^nB \to C/I^nC$, \end{enumerate} there exists a map $\varphi : B \to C$ of $A$-algebras such that $\psi_n \bmod I^{m - c} = \varphi \bmod I^{m - c}$ with $m = \lfloor \frac{n}{t} \rfloor$. \end{lemma} 
\begin{lemma} \label{lemma-ML-general} Let $I$ be an ideal of a ring $A$. Let $X$ be a scheme over $\Spec(A)$. Let $$ \ldots \to \mathcal{F}_3 \to \mathcal{F}_2 \to \mathcal{F}_1 $$ be an inverse system of $\mathcal{O}_X$-modules such that $\mathcal{F}_n = \mathcal{F}_{n + 1}/I^n\mathcal{F}_{n + 1}$. Assume $$ \bigoplus\nolimits_{n \geq 0} H^1(X, I^n\mathcal{F}_{n + 1}) $$ satisfies the ascending chain condition as a graded $\bigoplus_{n \geq 0} I^n/I^{n + 1}$-module. Then the inverse system $M_n = \Gamma(X, \mathcal{F}_n)$ satisfies the Mittag-Leffler condition. \end{lemma} 
\begin{lemma} \label{lemma-ML-general-better} Let $I$ be an ideal of a ring $A$. Let $X$ be a scheme over $\Spec(A)$. Let $$ \ldots \to \mathcal{F}_3 \to \mathcal{F}_2 \to \mathcal{F}_1 $$ be an inverse system of $\mathcal{O}_X$-modules such that $\mathcal{F}_n = \mathcal{F}_{n + 1}/I^n\mathcal{F}_{n + 1}$. Given $n$ define $$ H^1_n = \bigcap\nolimits_{m \geq n} \Im\left( H^1(X, I^n\mathcal{F}_{m + 1}) \to H^1(X, I^n\mathcal{F}_{n + 1}) \right) $$ If $\bigoplus H^1_n$ satisfies the ascending chain condition as a graded $\bigoplus_{n \geq 0} I^n/I^{n + 1}$-module, then the inverse system $M_n = \Gamma(X, \mathcal{F}_n)$ satisfies the Mittag-Leffler condition. \end{lemma} 
\begin{lemma} \label{lemma-topology-I-adic-general} Let $I$ be a finitely generated ideal of a ring $A$. Let $X$ be a scheme over $\Spec(A)$. Let $$ \ldots \to \mathcal{F}_3 \to \mathcal{F}_2 \to \mathcal{F}_1 $$ be an inverse system of $\mathcal{O}_X$-modules such that $\mathcal{F}_n = \mathcal{F}_{n + 1}/I^n\mathcal{F}_{n + 1}$. Assume $$ \bigoplus\nolimits_{n \geq 0} H^0(X, I^n\mathcal{F}_{n + 1}) $$ satisfies the ascending chain condition as a graded $\bigoplus_{n \geq 0} I^n/I^{n + 1}$-module. Then the limit topology on $M = \lim \Gamma(X, \mathcal{F}_n)$ is the $I$-adic topology. \end{lemma} 
\begin{lemma} \label{lemma-pullback-K-flat} Let $(\Sh(\mathcal{C}), \mathcal{O}_\mathcal{C})$ be a ringed topos. For any complex of $\mathcal{O}_\mathcal{C}$-modules $\mathcal{G}^\bullet$ there exists a quasi-isomorphism $\mathcal{K}^\bullet \to \mathcal{G}^\bullet$ such that $f^*\mathcal{K}^\bullet$ is a K-flat complex of $\mathcal{O}_\mathcal{D}$-modules for any morphism $f : (\Sh(\mathcal{D}), \mathcal{O}_\mathcal{D}) \to (\Sh(\mathcal{C}), \mathcal{O}_\mathcal{C})$ of ringed topoi. \end{lemma} 
\begin{lemma} \label{lemma-Rlim-of-system} Let $(\mathcal{C}, \mathcal{O})$ be a ringed site. Let $(K_n)$ be an inverse system of objects of $D(\mathcal{O})$. Let $\mathcal{B} \subset \Ob(\mathcal{C})$ be a subset. Let $d \in \mathbf{N}$. Assume \begin{enumerate} \item $K_n$ is an object of $D^+(\mathcal{O})$ for all $n$, \item for $q \in \mathbf{Z}$ there exists $n(q)$ such that $H^q(K_{n + 1}) \to H^q(K_n)$ is an isomorphism for $n \geq n(q)$, \item every object of $\mathcal{C}$ has a covering whose members are elements of $\mathcal{B}$, \item for every $U \in \mathcal{B}$ we have $H^p(U, H^q(K_n)) = 0$ for $p > d$ and all $q$. \end{enumerate} Then we have $H^m(R\lim K_n) = \lim H^m(K_n)$ for all $m \in \mathbf{Z}$. \end{lemma} 
\begin{lemma} \label{lemma-trivialities-cohomological-descent-abelian} In Simplicial Spaces, Situation \ref{spaces-simplicial-situation-simplicial-site} let $a_0$ be an augmentation towards a site $\mathcal{D}$ as in Simplicial Spaces, Remark \ref{spaces-simplicial-remark-augmentation-site}. Suppose given strictly full weak Serre subcategories $$ \mathcal{A} \subset \textit{Ab}(\mathcal{D}),\quad \mathcal{A}_n \subset \textit{Ab}(\mathcal{C}_n) $$ Then \begin{enumerate} \item[(1)] the collection of abelian sheaves $\mathcal{F}$ on $\mathcal{C}_{total}$ whose restriction to $\mathcal{C}_n$ is in $\mathcal{A}_n$ for all $n$ is a strictly full weak Serre subcategory $\mathcal{A}_{total} \subset \textit{Ab}(\mathcal{C}_{total})$. \end{enumerate} If $a_n^{-1}$ sends $\mathcal{A}$ into $\mathcal{A}_n$ for all $n$, then \begin{enumerate} \item[(2)] $a^{-1}$ sends $\mathcal{A}$ into $\mathcal{A}_{total}$ and \item[(3)] $a^{-1}$ sends $D_\mathcal{A}(\mathcal{D})$ into $D_{\mathcal{A}_{total}}(\mathcal{C}_{total})$. \end{enumerate} If $R^qa_{n, *}$ sends $\mathcal{A}_n$ into $\mathcal{A}$ for all $n, q$, then \begin{enumerate} \item[(4)] $R^qa_*$ sends $\mathcal{A}_{total}$ into $\mathcal{A}$ for all $q$, and \item[(5)] $Ra_*$ sends $D_{\mathcal{A}_{total}}^+(\mathcal{C}_{total})$ into $D_\mathcal{A}^+(\mathcal{D})$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-glue-f-upper-shriek} Let $f : X \to Y$ be a locally quasi-finite morphism of schemes. There exists a unique functor $f^! : \textit{Ab}(Y_\etale) \to \textit{Ab}(X_\etale)$ such that \begin{enumerate} \item for any open $j : U \to X$ with $f \circ j$ separated there is a canonical isomorphism $j^! \circ f^! = (f \circ j)^!$, and \item these isomorphisms for $U \subset U' \subset X$ are compatible with the isomorphisms in More \'Etale Cohomology, Lemma \ref{more-etale-lemma-upper-shriek-restriction}. \end{enumerate} \end{lemma} 
\begin{proposition} \label{proposition-lqf-shriek} Let $f : X \to Y$ be a locally quasi-finite morphism. There exist adjoint functors $f_! : \textit{Ab}(X_\etale) \to \textit{Ab}(Y_\etale)$ and $f^! : \textit{Ab}(Y_\etale) \to \textit{Ab}(X_\etale)$ with the following properties \begin{enumerate} \item the functor $f^!$ is the one constructed in More \'Etale Cohomology, Lemma \ref{more-etale-lemma-lqf-f-upper-shriek}, \item for any open $j : U \to X$ with $f \circ j$ separated there is a canonical isomorphism $f_! \circ j_! = (f \circ j)_!$, and \item these isomorphisms for $U \subset U' \subset X$ are compatible with the isomorphisms in More \'Etale Cohomology, Lemma \ref{more-etale-lemma-f-shriek-composition}. \end{enumerate} \end{proposition} 
\begin{lemma} \label{lemma-lqf-f-upper-shriek-stalk} Let $f : X \to Y$ be a morphism of schemes which is locally quasi-finite. For an abelian group $A$ and a geometric point $\overline{y} : \Spec(k) \to Y$ we have $f^!(\overline{y}_*A) = \prod\nolimits_{f(\overline{x}) = \overline{y}} \overline{x}_*A$. \end{lemma} 
\begin{lemma} \label{lemma-lqf-f-shriek-composition} Let $f : X \to Y$ and $g : Y \to Z$ be composable locally quasi-finite morphisms of schemes. Then $g_! \circ f_! = (g \circ f)_!$ and $f^! \circ g^! = (g \circ f)^!$. \end{lemma} 
\begin{lemma} \label{lemma-P-not-preserved-base-change} Let $(A, \text{d})$ and $(B, \text{d})$ be differential graded algebras. Let $N$ be a differential graded $(A, B)$-bimodule with property (P). Let $M$ be a differential graded $A$-module with property (P). Then $Q = M \otimes_A N$ is a differential graded $B$-module which represents $M \otimes_A^\mathbf{L} N$ in $D(B)$ and which has a filtration $$ 0 = F_{-1}Q \subset F_0Q \subset F_1Q \subset \ldots \subset Q $$ by differential graded submodules such that $Q = \bigcup F_pQ$, the inclusions $F_iQ \to F_{i + 1}Q$ are admissible monomorphisms, the quotients $F_{i + 1}Q/F_iQ$ are isomorphic as differential graded $B$-modules to a direct sum of $(A \otimes_R B)[k]$. \end{lemma} 
\begin{lemma} \label{lemma-equiv} Assumptions and notation as in Simplicial, Lemma \ref{simplicial-lemma-section}. There exists a section $g : U \to V$ to the morphism $f$ and the composition $g \circ f$ is homotopy equivalent to the identity on $V$. In particular, the morphism $f$ is a homotopy equivalence. \end{lemma} 
\begin{lemma} \label{lemma-cosk-hom-deltak} Let $\mathcal{C}$ be a category with finite coproducts and finite limits. Let $X$ be an object of $\mathcal{C}$. Let $k \geq 0$. The canonical map $$ \Hom(\Delta[k], X) \longrightarrow \text{cosk}_1 \text{sk}_1 \Hom(\Delta[k], X) $$ is an isomorphism. \end{lemma} 
\begin{lemma} \label{lemma-cosk0-hom-deltak} Let $\mathcal{C}$ be a category. Let $X$ be an object of $\mathcal{C}$ such that the self products $X \times \ldots \times X$ exist. Let $k \geq 0$ and let $C[k]$ be as in Simplicial, Example \ref{simplicial-example-simplex-cosimplicial-set}. With notation as in Simplicial, Lemma \ref{simplicial-lemma-morphism-into-product} the canonical map $$ \Hom(C[k], X)_1 \longrightarrow (\text{cosk}_0 \text{sk}_0 \Hom(C[k], X))_1 $$ is identified with the map $$ \prod\nolimits_{\alpha : [k] \to [1]} X \longrightarrow X \times X $$ which is the projection onto the factors where $\alpha$ is a constant map. \end{lemma} 
\begin{lemma} \label{lemma-stein-projective} Let $(R, \mathfrak m, \kappa)$ be a local ring. Let $X \subset \mathbf{P}^n_R$ be a closed subscheme. Assume that $R = \Gamma(X, \mathcal{O}_X)$. Then the special fibre $X_k$ is geometrically connected. \end{lemma} 
\begin{lemma} \label{lemma-property-irreducible-higher-rank} Let $X$ be a Noetherian scheme. Let $Z_0 \subset X$ be an irreducible closed subset with generic point $\xi$. Let $\mathcal{P}$ be a property of coherent sheaves on $X$ such that \begin{enumerate} \item For any short exact sequence of coherent sheaves if two out of three of them have property $\mathcal{P}$ then so does the third. \item If $\mathcal{P}$ holds for a direct sum of coherent sheaves then it holds for both. \item For every integral closed subscheme $Z \subset Z_0 \subset X$, $Z \not = Z_0$ and every quasi-coherent sheaf of ideals $\mathcal{I} \subset \mathcal{O}_Z$ we have $\mathcal{P}$ for $(Z \to X)_*\mathcal{I}$. \item There exists some coherent sheaf $\mathcal{G}$ on $X$ such that \begin{enumerate} \item $\text{Supp}(\mathcal{G}) = Z_0$, \item $\mathcal{G}_\xi$ is annihilated by $\mathfrak m_\xi$, and \item property $\mathcal{P}$ holds for $\mathcal{G}$. \end{enumerate} \end{enumerate} Then property $\mathcal{P}$ holds for every coherent sheaf $\mathcal{F}$ on $X$ whose support is contained in $Z_0$. \end{lemma} 
\begin{lemma} \label{lemma-property-higher-rank} Let $X$ be a Noetherian scheme. Let $\mathcal{P}$ be a property of coherent sheaves on $X$ such that \begin{enumerate} \item For any short exact sequence of coherent sheaves if two out of three of them have property $\mathcal{P}$ then so does the third. \item If $\mathcal{P}$ holds for a direct sum of coherent sheaves then it holds for both. \item For every integral closed subscheme $Z \subset X$ with generic point $\xi$ there exists some coherent sheaf $\mathcal{G}$ such that \begin{enumerate} \item $\text{Supp}(\mathcal{G}) = Z$, \item $\mathcal{G}_\xi$ is annihilated by $\mathfrak m_\xi$, and \item property $\mathcal{P}$ holds for $\mathcal{G}$. \end{enumerate} \end{enumerate} Then property $\mathcal{P}$ holds for every coherent sheaf on $X$. \end{lemma} 
\begin{lemma} \label{lemma-section-maps-back-into} Let $X$ be a scheme. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Let $s \in \Gamma(X, \mathcal{L})$ be a section. Let $\mathcal{F}' \subset \mathcal{F}$ be quasi-coherent $\mathcal{O}_X$-modules. Assume that \begin{enumerate} \item $X$ is quasi-compact, \item $\mathcal{F}$ is of finite type, and \item $\mathcal{F}'|_{X_s} = \mathcal{F}|_{X_s}$. \end{enumerate} Then there exists an $n \geq 0$ such that multiplication by $s^n$ on $\mathcal{F}$ factors through $\mathcal{F}'$. \end{lemma} 
\begin{lemma} \label{lemma-bound-degree-in-nbhd-generic-point} Let $f : X \to Y$ be a morphism schemes. Assume \begin{enumerate} \item $X$ and $Y$ are integral schemes, \item $f$ is locally of finite type and dominant, \item $f$ is either quasi-compact or separated, \item $f$ is generically finite, i.e., one of (1) -- (5) of Morphisms, Lemma \ref{morphisms-lemma-finite-degree} holds. \end{enumerate} Then there is a nonempty open $V \subset Y$ such that $f^{-1}(V) \to V$ is finite locally free of degree $\deg(X/Y)$. In particular, the degrees of the fibres of $f^{-1}(V) \to V$ are bounded by $\deg(X/Y)$. \end{lemma} 
\begin{lemma} \label{lemma-preserves-Coh} Let $k$ be a field. Let $X$ be a separated scheme of finite type over $k$ which is regular. Let $F : D_{perf}(\mathcal{O}_X) \to D_{perf}(\mathcal{O}_X)$ be a $k$-linear exact functor. Assume for every coherent $\mathcal{O}_X$-module $\mathcal{F}$ with $\dim(\text{Supp}(\mathcal{F})) = 0$ there is an isomorphism of $k$-vector spaces $$ \Hom_X(\mathcal{F}, M) = \Hom_X(\mathcal{F}, F(M)) $$ functorial in $M$ in $D_{perf}(\mathcal{O}_X)$. Then there exists an automorphism $f : X \to X$ over $k$ which induces the identity on the underlying topological space\footnote{This often forces $f$ to be the identity, see Varieties, Lemma \ref{varieties-lemma-automorphism}.} and an invertible $\mathcal{O}_X$-module $\mathcal{L}$ such that $F$ and $F'(M) = f^*M \otimes_{\mathcal{O}_X}^\mathbf{L} \mathcal{L}$ are siblings. \end{lemma} 
\begin{lemma} \label{lemma-trace-map} \begin{reference} The proof given here follows the argument given in \cite[Remark 3.4]{MS} \end{reference} Let $f : X' \to X$ be a proper birational morphism of integral Noetherian schemes with $X$ regular. The map $\mathcal{O}_X \to Rf_*\mathcal{O}_{X'}$ canonically splits in $D(\mathcal{O}_X)$. \end{lemma} 
\begin{lemma} \label{lemma-characterize-dbcoh-proper-regular} Let $X$ be a proper scheme over a field $k$ which is regular. Let $K \in \Ob(D_\QCoh(\mathcal{O}_X))$. The following are equivalent \begin{enumerate} \item $K \in D^b_{\textit{Coh}}(\mathcal{O}_X) = D_{perf}(\mathcal{O}_X)$, and \item $\sum_{i \in \mathbf{Z}} \dim_k \Ext^i_X(E, K) < \infty$ for all perfect $E$ in $D(\mathcal{O}_X)$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-bondal-van-den-bergh} Let $X$ be a proper scheme over a field $k$ which is regular. \begin{enumerate} \item Let $F : D_{perf}(\mathcal{O}_X)^{opp} \to \text{Vect}_k$ be a $k$-linear cohomological functor such that $$ \sum\nolimits_{n \in \mathbf{Z}} \dim_k F(E[n]) < \infty $$ for all $E \in D_{perf}(\mathcal{O}_X)$. Then $F$ is isomorphic to a functor of the form $E \mapsto \Hom_X(E, K)$ for some $K \in D_{perf}(\mathcal{O}_X)$. \item Let $G : D_{perf}(\mathcal{O}_X) \to \text{Vect}_k$ be a $k$-linear homological functor such that $$ \sum\nolimits_{n \in \mathbf{Z}} \dim_k G(E[n]) < \infty $$ for all $E \in D_{perf}(\mathcal{O}_X)$. Then $G$ is isomorphic to a functor of the form $E \mapsto \Hom_X(K, E)$ for some $K \in D_{perf}(\mathcal{O}_X)$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-factors-through-quotient} Let $S = \Spec(R)$ be an affine scheme. Let $X$ be an algebraic space over $S$. Let $q_i : \mathcal{F} \to \mathcal{Q}_i$, $i = 1, 2$ be surjective maps of quasi-coherent $\mathcal{O}_X$-modules. Assume $\mathcal{Q}_1$ flat over $S$. Let $T \to S$ be a quasi-compact morphism of schemes such that there exists a factorization $$ \xymatrix{ & \mathcal{F}_T \ar[rd]^{q_{2, T}} \ar[ld]_{q_{1, T}} \\ \mathcal{Q}_{1, T} & & \mathcal{Q}_{2, T} \ar@{..>}[ll] } $$ Then exists a closed subscheme $Z \subset S$ such that (a) $T \to S$ factors through $Z$ and (b) $q_{1, Z}$ factors through $q_{2, Z}$. If $\Ker(q_2)$ is a finite type $\mathcal{O}_X$-module and $X$ quasi-compact, then we can take $Z \to S$ of finite presentation. \end{lemma} 
\begin{lemma} \label{lemma-separated-fpqc} Let $S$ be a scheme. Let $X$ be an algebraic space over $S$. Let $\{f_i : T_i \to T\}_{i \in I}$ be a fpqc covering of schemes over $S$. Then the map $$ \Mor_S(T, X) \longrightarrow \prod\nolimits_{i \in I} \Mor_S(T_i, X) $$ is injective. \end{lemma} 
\begin{lemma} \label{lemma-sheaf-fpqc-open-covering} Let $S$ be a scheme. Let $X$ be an algebraic space over $S$. Let $X = \bigcup_{j \in J} X_j$ be a Zariski covering, see Spaces, Definition \ref{spaces-definition-Zariski-open-covering}. If each $X_j$ satisfies the sheaf property for the fpqc topology then $X$ satisfies the sheaf property for the fpqc topology. \end{lemma} 
\begin{lemma} \label{lemma-sheaf-fpqc-quasi-separated} Let $S$ be a scheme. Let $X$ be an algebraic space over $S$. If $X$ is Zariski locally quasi-separated over $S$, then $X$ satisfies the sheaf condition for the fpqc topology. \end{lemma} 
\begin{lemma} \label{lemma-reasonable-kolmogorov} Let $S$ be a scheme. Let $X$ be a reasonable algebraic space over $S$. Then $|X|$ is Kolmogorov (see Topology, Definition \ref{topology-definition-generic-point}). \end{lemma} 
\begin{lemma} \label{lemma-scheme-very-reasonable} A scheme is very reasonable. \end{lemma} 
\begin{lemma} \label{lemma-very-reasonable-Zariski-local} Let $S$ be a scheme. Let $X$ be an algebraic space over $S$. If there exists a Zariski open covering $X = \bigcup X_i$ such that each $X_i$ is very reasonable, then $X$ is very reasonable. \end{lemma} 
\begin{lemma} \label{lemma-quasi-separated-very-reasonable} An algebraic space which is Zariski locally quasi-separated is very reasonable. In particular any quasi-separated algebraic space is very reasonable. \end{lemma} 
\begin{lemma} \label{lemma-representable-very-reasonable} Let $S$ be a scheme. Let $X$, $Y$ be algebraic spaces over $S$. Let $Y \to X$ be a representable morphism. If $X$ is very reasonable, so is $Y$. \end{lemma} 
\begin{lemma} \label{lemma-very-reasonable-quasi-compact-pieces} Let $S$ be a scheme. Let $X$ be a very reasonable algebraic space over $S$. There exists a set of schemes $U_i$ and morphisms $U_i \to X$ such that \begin{enumerate} \item each $U_i$ is a quasi-compact scheme, \item each $U_i \to X$ is \'etale, \item both projections $U_i \times_X U_i \to U_i$ are quasi-compact, and \item the morphism $\coprod U_i \to X$ is surjective (and \'etale). \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-vanishing-surjective} In Cohomology of Spaces, Situation \ref{spaces-cohomology-situation-vanishing} the morphism $p : X \to \Spec(A)$ is surjective. \end{lemma} 
\begin{lemma} \label{lemma-vanishing-universally-closed} In Cohomology of Spaces, Situation \ref{spaces-cohomology-situation-vanishing} the morphism $p : X \to \Spec(A)$ is universally closed. \end{lemma} 
\begin{lemma} \label{lemma-infinite-sequence} Let $S$ be a locally Noetherian scheme. Let $\mathcal{X}$ be a category fibred in groupoids over $(\Sch/S)_{fppf}$ having (RS*). Let $x$ be an object of $\mathcal{X}$ over an affine scheme $U$ of finite type over $S$. Let $u_n \in U$, $n \geq 1$ be pairwise distinct finite type points such that $x$ is not versal at $u_n$ for all $n$. After replacing $u_n$ by a subsequence, there exist morphisms $$ x \to x_1 \to x_2 \to \ldots \quad\text{in }\mathcal{X}\text{ lying over }\quad U \to U_1 \to U_2 \to \ldots $$ over $S$ such that \begin{enumerate} \item for each $n$ the morphism $U \to U_n$ is a first order thickening, \item for each $n$ we have a short exact sequence $$ 0 \to \kappa(u_n) \to \mathcal{O}_{U_n} \to \mathcal{O}_{U_{n - 1}} \to 0 $$ with $U_0 = U$ for $n = 1$, \item for each $n$ there does {\bf not} exist a pair $(W, \alpha)$ consisting of an open neighbourhood $W \subset U_n$ of $u_n$ and a morphism $\alpha : x_n|_W \to x$ such that the composition $$ x|_{U \cap W} \xrightarrow{\text{restriction of }x \to x_n} x_n|_W \xrightarrow{\alpha} x $$ is the canonical morphism $x|_{U \cap W} \to x$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-category-fibred} Let $X \to Y$ be a morphism of schemes. \begin{enumerate} \item The category $\mathcal{C}_{X/Y}$ is fibred over $X_{Zar}$. \item The category $\mathcal{C}_{X/Y}$ is fibred over $Y_{Zar}$. \item The category $\mathcal{C}_{X/Y}$ is fibred over the category of pairs $(U, V)$ where $U \subset X$, $V \subset Y$ are open and $f(U) \subset V$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-equivalence} Notation and assumptions as above. Let $p : X_A \to X$ denote the projection. Given $A'$ denote $p' : X_{A'} \to X$ the projection. The functor $p'_*$ induces an equivalence of categories between \begin{enumerate} \item the category $\textit{Lift}(\mathcal{F}, A')$, and \item the category $\textit{Lift}(p_*\mathcal{F}, A')$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-second-equivalence} Notation and assumptions as above. The functor $\pi_!$ induces an equivalence of categories between \begin{enumerate} \item the category $\textit{Lift}_\mathcal{O}(i_*\underline{\mathcal{G}}, A')$, and \item the category $\textit{Lift}(\mathcal{G}, A')$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-second-equivalence-obs} Notation and assumptions as in Lemma \ref{lemma-second-equivalence}. Consider the object $$ L = L(\Lambda, X, A, \mathcal{G}) = L\pi_!(Li^*(i_*(\underline{\mathcal{G}}))) $$ of $D(\mathcal{O}_X \otimes_\Lambda A)$. Given a surjection $A' \to A$ of $\Lambda$-algebras with square zero kernel $I$ we have \begin{enumerate} \item The category $\textit{Lift}(\mathcal{G}, A')$ is nonempty if and only if a certain class $\xi \in \Ext^2_{\mathcal{O}_X \otimes A}(L, \mathcal{G} \otimes_A I)$ is zero. \item If $\textit{Lift}(\mathcal{G}, A')$ is nonempty, then $\text{Lift}(\mathcal{G}, A')$ is principal homogeneous under $\Ext^1_{\mathcal{O}_X \otimes A}(L, \mathcal{G} \otimes_A I)$. \item Given a lift $\mathcal{G}'$, the set of automorphisms of $\mathcal{G}'$ which pull back to $\text{id}_\mathcal{G}$ is canonically isomorphic to $\Ext^0_{\mathcal{O}_X \otimes A}(L, \mathcal{G} \otimes_A I)$. \end{enumerate} \end{lemma} 
\begin{proposition} \label{proposition-conclusion} With $\Lambda$, $X$, $A$, $\mathcal{F}$ as above. There exists a canonical object $L = L(\Lambda, X, A, \mathcal{F})$ of $D(X_A)$ such that given a surjection $A' \to A$ of $\Lambda$-algebras with square zero kernel $I$ we have \begin{enumerate} \item The category $\textit{Lift}(\mathcal{F}, A')$ is nonempty if and only if a certain class $\xi \in \Ext^2_{X_A}(L, \mathcal{F} \otimes_A I)$ is zero. \item If $\textit{Lift}(\mathcal{F}, A')$ is nonempty, then $\text{Lift}(\mathcal{F}, A')$ is principal homogeneous under $\Ext^1_{X_A}(L, \mathcal{F} \otimes_A I)$. \item Given a lift $\mathcal{F}'$, the set of automorphisms of $\mathcal{F}'$ which pull back to $\text{id}_\mathcal{F}$ is canonically isomorphic to $\Ext^0_{X_A}(L, \mathcal{F} \otimes_A I)$. \end{enumerate} \end{proposition} 
\begin{lemma} \label{lemma-pseudo-coherent} In the situation of Proposition \ref{proposition-conclusion}, if $X \to \Spec(\Lambda)$ is locally of finite type and $\Lambda$ is Noetherian, then $L$ is pseudo-coherent. \end{lemma} 
\begin{lemma} \label{lemma-ob-is-obstruction} In the situation of Remark \ref{remark-construction-ob} assume that $\mathcal{F}$ is flat over $U$. Then the vanishing of the class $\xi_{U'}$ is a necessary and sufficient condition for the existence of a $\mathcal{O}_{X \times_B U'}$-module $\mathcal{F}'$ flat over $U'$ with $i^*\mathcal{F}' \cong \mathcal{F}$. \end{lemma} 
\begin{lemma} \label{lemma-coherent-defo-thy-general} In Quot, Situation \ref{quot-situation-coherent} assume that $S$ is a locally Noetherian scheme and $S = B$. Let $\mathcal{X} = \textit{Coh}_{X/B}$. Then we have openness of versality for $\mathcal{X}$ (see Artin's Axioms, Definition \ref{artin-definition-openness-versality}). \end{lemma} 
\begin{theorem} \label{theorem-coherent-algebraic-general} Let $S$ be a scheme. Let $f : X \to B$ be morphism of algebraic spaces over $S$. Assume that $f$ is of finite presentation and separated. Then $\textit{Coh}_{X/B}$ is an algebraic stack over $S$. \end{theorem} 
\begin{lemma} \label{lemma-henselian} Let $(A, \mathfrak m, \kappa)$ be a Noetherian local ring. The category of Algebraization of Formal Spaces, Equation (\ref{restricted-equation-modification}) for $A$ is equivalent to the category Algebraization of Formal Spaces, Equation (\ref{restricted-equation-modification}) for the henselization $A^h$ of $A$. \end{lemma} 
\begin{lemma} \label{lemma-double-dual-rational} In Resolution of Surfaces, Situation \ref{resolve-situation-rational}. Let $M$ be a finite reflexive $A$-module. Let $M \otimes_A \mathcal{O}_X$ denote the pullback of the associated $\mathcal{O}_S$-module. Then $M \otimes_A \mathcal{O}_X$ maps onto its double dual. \end{lemma} 
\begin{lemma} \label{lemma-good-blowing-up} Let $b : X' \to X$ be the blowing up of a smooth projective scheme over a field $k$ in a smooth closed subscheme $Z \subset X$. Picture $$ \xymatrix{ E \ar[r]_j \ar[d]_\pi & X' \ar[d]^b \\ Z \ar[r]^i & X } $$ Assume there exists an element of $K_0(X)$ whose restriction to $Z$ is equal to the class of $\mathcal{C}_{Z/X}$ in $K_0(Z)$. Then $[Lb^*\mathcal{O}_Z] = [\mathcal{O}_E] \cdot \alpha''$ in $K_0(X')$ for some $\alpha'' \in K_0(X')$. \end{lemma} 
\begin{lemma} \label{lemma-gysin-factors-principal} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$ be locally of finite type over $S$. Let $X$ be integral and $n = \dim_\delta(X)$. Let $a \in \Gamma(X, \mathcal{O}_X)$ be a nonzero function. Let $i : D = Z(a) \to X$ be the closed immersion of the zero scheme of $a$. Let $f \in R(X)^*$. In this case $i^*\text{div}_X(f) = 0$ in $A_{n - 2}(D)$. \end{lemma} 
\begin{lemma} \label{lemma-push-pull-effective-Cartier} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$, $Y$ be locally of finite type over $S$. Let $f : X \to Y$ be a proper morphism. Let $D \subset Y$ be an effective Cartier divisor. Assume $X$, $Y$ integral, $n = \dim_\delta(X) = \dim_\delta(Y)$ and $f$ dominant. Then $$ f_*[f^{-1}(D)]_{n - 1} = [R(X) : R(Y)] [D]_{n - 1}. $$ In particular if $f$ is birational then $f_*[f^{-1}(D)]_{n - 1} = [D]_{n - 1}$. \end{lemma} 
\begin{lemma} \label{lemma-blowing-up-denominators} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$ be locally of finite type over $S$. Assume $X$ integral with $\dim_\delta(X) = n$. Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module. Let $s$ be a nonzero meromorphic section of $\mathcal{L}$. Let $U \subset X$ be the maximal open subscheme such that $s$ corresponds to a section of $\mathcal{L}$ over $U$. There exists a projective morphism $$ \pi : X' \longrightarrow X $$ such that \begin{enumerate} \item $X'$ is integral, \item $\pi|_{\pi^{-1}(U)} : \pi^{-1}(U) \to U$ is an isomorphism, \item there exist effective Cartier divisors $D, E \subset X'$ such that $$ \pi^*\mathcal{L} = \mathcal{O}_{X'}(D - E), $$ \item the meromorphic section $s$ corresponds, via the isomorphism above, to the meromorphic section $1_D \otimes (1_E)^{-1}$ (see Divisors, Definition \ref{divisors-definition-invertible-sheaf-effective-Cartier-divisor}), \item we have $$ \pi_*([D]_{n - 1} - [E]_{n - 1}) = \text{div}_\mathcal{L}(s) $$ in $Z_{n - 1}(X)$. \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-epsilon} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$ be locally of finite type over $S$. Assume $X$ integral and $\dim_\delta(X) = n$. Let $D_1, D_2$ be two effective Cartier divisors in $X$. Let $Z \subset X$ be an integral closed subscheme with $\dim_\delta(Z) = n - 1$. The {\it $\epsilon$-invariant} of this situation is $$ \epsilon_Z(D_1, D_2) = n_Z \cdot m_Z $$ where $n_Z$, resp.\ $m_Z$ is the coefficient of $Z$ in the $(n - 1)$-cycle $[D_1]_{n - 1}$, resp.\ $[D_2]_{n - 1}$. \end{definition} 
\begin{lemma} \label{lemma-two-divisors} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$ be locally of finite type over $S$. Assume $X$ integral and $\dim_\delta(X) = n$. Let $D_1, D_2$ be two effective Cartier divisors in $X$. Let $Z$ be an open and closed subscheme of the scheme $D_1 \cap D_2$. Assume $\dim_\delta(D_1 \cap D_2 \setminus Z) \leq n - 2$. Then there exists a morphism $b : X' \to X$, and Cartier divisors $D_1', D_2', E$ on $X'$ with the following properties \begin{enumerate} \item $X'$ is integral, \item $b$ is projective, \item $b$ is the blowup of $X$ in the closed subscheme $Z$, \item $E = b^{-1}(Z)$, \item $b^{-1}(D_1) = D'_1 + E$, and $b^{-1}D_2 = D_2' + E$, \item $\dim_\delta(D'_1 \cap D'_2) \leq n - 2$, and if $Z = D_1 \cap D_2$ then $D'_1 \cap D'_2 = \emptyset$, \item for every integral closed subscheme $W'$ with $\dim_\delta(W') = n - 1$ we have \begin{enumerate} \item if $\epsilon_{W'}(D'_1, E) > 0$, then setting $W = b(W')$ we have $\dim_\delta(W) = n - 1$ and $$ \epsilon_{W'}(D'_1, E) < \epsilon_W(D_1, D_2), $$ \item if $\epsilon_{W'}(D'_2, E) > 0$, then setting $W = b(W')$ we have $\dim_\delta(W) = n - 1$ and $$ \epsilon_{W'}(D'_2, E) < \epsilon_W(D_1, D_2), $$ \end{enumerate} \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-locally-finite-sum-effective-Cartier-divisors} Let $X$ be a scheme. Let $\{D_i\}_{i \in I}$ be a locally finite collection of effective Cartier divisors on $X$. Suppose given a function $I \to \mathbf{Z}_{\geq 0}$, $i \mapsto n_i$. The {\it sum of the effective Cartier divisors} $D = \sum n_i D_i$, is the unique effective Cartier divisor $D \subset X$ such that on any quasi-compact open $U \subset X$ we have $D|_U = \sum_{D_i \cap U \not = \emptyset} n_iD_i|_U$ is the sum as in Divisors, Definition \ref{divisors-definition-sum-effective-Cartier-divisors}. \end{definition} 
\begin{lemma} \label{lemma-sum-divisors-associated-Weil} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$ be locally of finite type over $S$. Assume $X$ integral and $\dim_\delta(X) = n$. Let $\{D_i\}_{i \in I}$ be a locally finite collection of effective Cartier divisors on $X$. Suppose given $n_i \geq 0$ for $i \in I$. Then $$ [D]_{n - 1} = \sum\nolimits_i n_i[D_i]_{n - 1} $$ in $Z_{n - 1}(X)$. \end{lemma} 
\begin{lemma} \label{lemma-blowing-up-intersections} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$ be locally of finite type over $S$. Assume $X$ integral and $\dim_\delta(X) = d$. Let $\{D_i\}_{i \in I}$ be a locally finite collection of effective Cartier divisors on $X$. Assume that for all $\{i, j, k\} \subset I$, $\#\{i, j, k\} = 3$ we have $D_i \cap D_j \cap D_k = \emptyset$. Then there exist \begin{enumerate} \item an open subscheme $U \subset X$ with $\dim_\delta(X \setminus U) \leq d - 3$, \item a morphism $b : U' \to U$, and \item effective Cartier divisors $\{D'_j\}_{j \in J}$ on $U'$ \end{enumerate} with the following properties: \begin{enumerate} \item $b$ is proper morphism $b : U' \to U$, \item $U'$ is integral, \item $b$ is an isomorphism over the complement of the union of the pairwise intersections of the $D_i|_U$, \item $\{D'_j\}_{j \in J}$ is a locally finite collection of effective Cartier divisors on $U'$, \item $\dim_\delta(D'_j \cap D'_{j'}) \leq d - 2$ if $j \not = j'$, and \item $b^{-1}(D_i|_U) = \sum n_{ij} D'_j$ for certain $n_{ij} \geq 0$. \end{enumerate} Moreover, if $X$ is quasi-compact, then we may assume $U = X$ in the above. \end{lemma} 
\begin{lemma} \label{lemma-improved-additivity} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$ be locally of finite type over $S$. Let $\{i_j : D_j \to X \}_{j \in J}$ be a locally finite collection of effective Cartier divisors on $X$. Let $n_j > 0$, $j\in J$. Set $D = \sum_{j \in J} n_j D_j$, and denote $i : D \to X$ the inclusion morphism. Let $\alpha \in Z_{k + 1}(X)$. Then $$ p : \coprod\nolimits_{j \in J} D_j \longrightarrow D $$ is proper and $$ i^*\alpha = p_*\left(\sum n_j i_j^*\alpha\right) $$ in $\CH_k(D)$. \end{lemma} 
\begin{lemma} \label{lemma-commutativity-effective-Cartier-proper-intersection} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$ be locally of finite type over $S$. Assume $X$ integral and $\dim_\delta(X) = n$. Let $D$, $D'$ be effective Cartier divisors on $X$. Assume $\dim_\delta(D \cap D') = n - 2$. Let $i : D \to X$, resp.\ $i' : D' \to X$ be the corresponding closed immersions. Then \begin{enumerate} \item there exists a cycle $\alpha \in Z_{n - 2}(D \cap D')$ whose pushforward to $D$ represents $i^*[D']_{n - 1} \in \CH_{n - 2}(D)$ and whose pushforward to $D'$ represents $(i')^*[D]_{n - 1} \in \CH_{n - 2}(D')$, and \item we have $$ D \cdot [D']_{n - 1} = D' \cdot [D]_{n - 1} $$ in $\CH_{n - 2}(X)$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-commutativity-effective-Cartier-proper-intersection-infinite} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$ be locally of finite type over $S$. Assume $X$ integral and $\dim_\delta(X) = n$. Let $\{D_j\}_{j \in J}$ be a locally finite collection of effective Cartier divisors on $X$. Let $n_j, m_j \geq 0$ be collections of nonnegative integers. Set $D = \sum n_j D_j$ and $D' = \sum m_j D_j$. Assume that $\dim_\delta(D_j \cap D_{j'}) = n - 2$ for every $j \not = j'$. Then $D \cdot [D']_{n - 1} = D' \cdot [D]_{n - 1}$ in $\CH_{n - 2}(X)$. \end{lemma} 
\begin{lemma} \label{lemma-commutativity-effective-Cartier} Let $(S, \delta)$ be as in Chow Homology, Situation \ref{chow-situation-setup}. Let $X$ be locally of finite type over $S$. Assume $X$ integral and $\dim_\delta(X) = n$. Let $D$, $D'$ be effective Cartier divisors on $X$. Then $$ D \cdot [D']_{n - 1} = D' \cdot [D]_{n - 1} $$ in $\CH_{n - 2}(X)$. \end{lemma} 
\begin{lemma} \label{lemma-dualizing-components} In Semistable Reduction, Situation \ref{models-situation-regular-model} the dualizing module of $C_i$ over $k$ is $$ \omega_{C_i} = \omega_X(C_i)|_{C_i} $$ where $\omega_X$ is as above. \end{lemma} 
\begin{lemma} \label{lemma-directed-colimit-finite-type} Let $X$ be a scheme. Assume $X$ is quasi-compact and quasi-separated. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Then $\mathcal{F}$ is the directed colimit of its finite type quasi-coherent submodules. \end{lemma} 
\begin{lemma} \label{lemma-points-monomorphism} Let $S$ be a scheme. Let $X$ be an algebraic space over $S$. The map $\{\Spec(k) \to X \text{ monomorphism}\} \to |X|$ is injective. \end{lemma} 
\begin{theorem} \label{theorem-equivalence-sheaves-point} Let $S = \Spec(K)$ with $K$ a field. Let $\overline{s}$ be a geometric point of $S$. Let $G = \text{Gal}_{\kappa(s)}$ denote the absolute Galois group. Then there is an equivalence of categories $\Sh(S_\etale) \to G\textit{-Sets}$, $\mathcal{F} \mapsto \mathcal{F}_{\overline{s}}$. \end{theorem} 
\begin{lemma} \label{lemma-locally-ringed-space-direct-summand-free} Let $X$ be a locally ringed space. A direct summand of a finite free $\mathcal{O}_X$-module is finite locally free. \end{lemma} 
\begin{lemma} \label{lemma-characterize-injective} Let $R$ be a ring. Let $E$ be an $R$-module. The following are equivalent \begin{enumerate} \item $E$ is an injective $R$-module, and \item given an ideal $I \subset R$ and a module map $\varphi : I \to E$ there exists an extension of $\varphi$ to an $R$-module map $R \to E$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-periodic-length} Let $R$ be a local ring. \begin{enumerate} \item If $(M, N, \varphi, \psi)$ is a $2$-periodic complex such that $M$, $N$ have finite length. Then $e_R(M, N, \varphi, \psi) = \text{length}_R(M) - \text{length}_R(N)$. \item If $(M, \varphi, \psi)$ is a $(2, 1)$-periodic complex such that $M$ has finite length. Then $e_R(M, \varphi, \psi) = 0$. \item Suppose that we have a short exact sequence of $2$-periodic complexes $$ 0 \to (M_1, N_1, \varphi_1, \psi_1) \to (M_2, N_2, \varphi_2, \psi_2) \to (M_3, N_3, \varphi_3, \psi_3) \to 0 $$ If two out of three have cohomology modules of finite length so does the third and we have $$ e_R(M_2, N_2, \varphi_2, \psi_2) = e_R(M_1, N_1, \varphi_1, \psi_1) + e_R(M_3, N_3, \varphi_3, \psi_3). $$ \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-extensions-of-rings} Let $A$ be a ring and let $I$ be an $A$-module. \begin{enumerate} \item The set of extensions of rings $0 \to I \to A' \to A \to 0$ where $I$ is an ideal of square zero is canonically bijective to $\Ext^1_A(\NL_{A/\mathbf{Z}}, I)$. \item Given a ring map $A \to B$, a $B$-module $N$, an $A$-module map $c : I \to N$, and given extensions of rings with square zero kernels: \begin{enumerate} \item[(a)] $0 \to I \to A' \to A \to 0$ corresponding to $\alpha \in \Ext^1_A(\NL_{A/\mathbf{Z}}, I)$, and \item[(b)] $0 \to N \to B' \to B \to 0$ corresponding to $\beta \in \Ext^1_B(\NL_{B/\mathbf{Z}}, N)$ \end{enumerate} then there is a map $A' \to B'$ fitting into Deformation Theory, Equation (\ref{defos-equation-to-solve}) if and only if $\beta$ and $\alpha$ map to the same element of $\Ext^1_A(\NL_{A/\mathbf{Z}}, N)$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-extensions-of-ringed-spaces} Let $(S, \mathcal{O}_S)$ be a ringed space and let $\mathcal{J}$ be an $\mathcal{O}_S$-module. \begin{enumerate} \item The set of extensions of sheaves of rings $0 \to \mathcal{J} \to \mathcal{O}_{S'} \to \mathcal{O}_S \to 0$ where $\mathcal{J}$ is an ideal of square zero is canonically bijective to $\Ext^1_{\mathcal{O}_S}(\NL_{S/\mathbf{Z}}, \mathcal{J})$. \item Given a morphism of ringed spaces $f : (X, \mathcal{O}_X) \to (S, \mathcal{O}_S)$, an $\mathcal{O}_X$-module $\mathcal{G}$, an $f$-map $c : \mathcal{J} \to \mathcal{G}$, and given extensions of sheaves of rings with square zero kernels: \begin{enumerate} \item[(a)] $0 \to \mathcal{J} \to \mathcal{O}_{S'} \to \mathcal{O}_S \to 0$ corresponding to $\alpha \in \Ext^1_{\mathcal{O}_S}(\NL_{S/\mathbf{Z}}, \mathcal{J})$, \item[(b)] $0 \to \mathcal{G} \to \mathcal{O}_{X'} \to \mathcal{O}_X \to 0$ corresponding to $\beta \in \Ext^1_{\mathcal{O}_X}(\NL_{X/\mathbf{Z}}, \mathcal{G})$ \end{enumerate} then there is a morphism $X' \to S'$ fitting into Deformation Theory, Equation (\ref{defos-equation-to-solve-ringed-spaces}) if and only if $\beta$ and $\alpha$ map to the same element of $\Ext^1_{\mathcal{O}_X}(Lf^*\NL_{S/\mathbf{Z}}, \mathcal{G})$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-extensions-of-ringed-topoi} Let $(\Sh(\mathcal{B}), \mathcal{O}_\mathcal{B})$ be a ringed topos and let $\mathcal{J}$ be an $\mathcal{O}_\mathcal{B}$-module. \begin{enumerate} \item The set of extensions of sheaves of rings $0 \to \mathcal{J} \to \mathcal{O}_{\mathcal{B}'} \to \mathcal{O}_\mathcal{B} \to 0$ where $\mathcal{J}$ is an ideal of square zero is canonically bijective to $\Ext^1_{\mathcal{O}_\mathcal{B}}( \NL_{\mathcal{O}_\mathcal{B}/\mathbf{Z}}, \mathcal{J})$. \item Given a morphism of ringed topoi $f : (\Sh(\mathcal{C}), \mathcal{O}) \to (\Sh(\mathcal{B}), \mathcal{O}_\mathcal{B})$, an $\mathcal{O}$-module $\mathcal{G}$, an $f^{-1}\mathcal{O}_\mathcal{B}$-module map $c : f^{-1}\mathcal{J} \to \mathcal{G}$, and given extensions of sheaves of rings with square zero kernels: \begin{enumerate} \item[(a)] $0 \to \mathcal{J} \to \mathcal{O}_{\mathcal{B}'} \to \mathcal{O}_\mathcal{B} \to 0$ corresponding to $\alpha \in \Ext^1_{\mathcal{O}_\mathcal{B}}( \NL_{\mathcal{O}_\mathcal{B}/\mathbf{Z}}, \mathcal{J})$, \item[(b)] $0 \to \mathcal{G} \to \mathcal{O}' \to \mathcal{O} \to 0$ corresponding to $\beta \in \Ext^1_\mathcal{O}(\NL_{\mathcal{O}/\mathbf{Z}}, \mathcal{G})$ \end{enumerate} then there is a morphism $(\Sh(\mathcal{C}), \mathcal{O}') \to (\Sh(\mathcal{B}, \mathcal{O}_{\mathcal{B}'})$ fitting into Deformation Theory, Equation (\ref{defos-equation-to-solve-ringed-topoi}) if and only if $\beta$ and $\alpha$ map to the same element of $\Ext^1_\mathcal{O}( Lf^*\NL_{\mathcal{O}_\mathcal{B}/\mathbf{Z}}, \mathcal{G})$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-examples-have-RS} Deformation Problems, Examples \ref{examples-defos-example-finite-projective-modules}, \ref{examples-defos-example-representations}, \ref{examples-defos-example-continuous-representations}, and \ref{examples-defos-example-graded-algebras} satisfy the Rim-Schlessinger condition (RS). \end{lemma} 
\begin{lemma} \label{lemma-tangent-and-inf} We have the following canonical $k$-vector space identifications: \begin{enumerate} \item In Deformation Problems, Example \ref{examples-defos-example-finite-projective-modules} if $x_0 = (k, V)$, then $T_{x_0}\mathcal{F} = (0)$ and $\text{Inf}_{x_0}(\mathcal{F}) = \text{End}_k(V)$ are finite dimensional. \item In Deformation Problems, Example \ref{examples-defos-example-representations} if $x_0 = (k, V, \rho_0)$, then $T_{x_0}\mathcal{F} = \Ext^1_{k[\Gamma]}(V, V) = H^1(\Gamma, \text{End}_k(V))$ and $\text{Inf}_{x_0}(\mathcal{F}) = H^0(\Gamma, \text{End}_k(V))$ are finite dimensional if $\Gamma$ is finitely generated. \item In Deformation Problems, Example \ref{examples-defos-example-continuous-representations} if $x_0 = (k, V, \rho_0)$, then $T_{x_0}\mathcal{F} = H^1_{cont}(\Gamma, \text{End}_k(V))$ and $\text{Inf}_{x_0}(\mathcal{F}) = H^0_{cont}(\Gamma, \text{End}_k(V))$ are finite dimensional if $\Gamma$ is topologically finitely generated. \item In Deformation Problems, Example \ref{examples-defos-example-graded-algebras} if $x_0 = (k, P)$, then $T_{x_0}\mathcal{F}$ and $\text{Inf}_{x_0}(\mathcal{F}) = \text{Der}_k(P, P)$ are finite dimensional if $P$ is finitely generated over $k$. \end{enumerate} \end{lemma} 
