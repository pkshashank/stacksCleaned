\begin{definition} \label{definition-directed-poset} A {\it directed set} is a nonempty set $I$ endowed with a preorder $\leq$ such that given any pair $i, j \in I$ there exists a $k \in I$ such that $i \leq k$ and $j \leq k$. A {\it system of rings} over $I$ is given by a ring $A_i$ for each $i \in I$ and a map of rings $\varphi_{ij} : A_i \to A_j$ whenever $i \leq j$ such that the composition $A_i \to A_j \to A_k$ is equal to $A_i \to A_k$ whenever $i \leq j \leq k$. \end{definition} 
\begin{definition} \label{definition-colimit} The ring $A$ constructed in Exercise \ref{exercise-directed-colimit} is called the {\it colimit} of the system. Notation $\colim A_i$. \end{definition} 
\begin{definition} \label{definition-finite-presentation} A module $M$ over $R$ is said to be of {\it finite presentation} over $R$ if it  is isomorphic to the cokernel of a map of finite free modules $ R^{\oplus n} \to R^{\oplus m}$. \end{definition} 
\begin{definition} \label{definition-quasi-compact} A topological space $X$ is called {\it quasi-compact} if for any open covering $X = \bigcup_{i\in I} U_i$ there is a finite subset $\{i_1, \ldots, i_n\}\subset I$ such that $X = U_{i_1}\cup\ldots U_{i_n}$. \end{definition} 
\begin{definition} \label{definition-Hausdorff} A topological space $X$ is said to verify the separation axiom $T_0$ if for any pair of points $x, y\in X$, $x\not = y$ there is an open subset of $X$ containing one but not the other. We say that $X$ is {\it Hausdorff} if for any pair $x, y\in X$, $x\not = y$ there are disjoint open subsets $U, V$ such that $x\in U$ and $y\in V$. \end{definition} 
\begin{definition} \label{definition-irreducible} A topological space $X$ is called {\it irreducible} if $X$ is not empty and if $X = Z_1\cup Z_2$ with $Z_1, Z_2\subset X$ closed, then either $Z_1 = X$ or $Z_2 = X$. A subset $T\subset X$ of a topological space is called {\it irreducible} if it is an irreducible topological space with the topology induced from $X$. This definition implies $T$ is irreducible if and only if the closure $\bar T$ of $T$ in $X$ is irreducible. \end{definition} 
\begin{definition} \label{definition-generic-point} A point $x$ of an irreducible topological space $X$ is called a {\it generic point} of $X$ if $X$ is equal to the closure of the subset $\{x\}$. \end{definition} 
\begin{definition} \label{definition-Noetherian-space} A topological space $X$ is called {\it Noetherian} if any decreasing sequence $Z_1\supset Z_2 \supset Z_3\supset \ldots$ of closed subsets of $X$ stabilizes. (It is called {\it Artinian} if any increasing sequence of closed subsets stabilizes.) \end{definition} 
\begin{definition} \label{definition-irreducible-component} A maximal irreducible subset $T\subset X$ is called an {\it irreducible component} of the space $X$. Such an irreducible component of $X$ is automatically a closed subset of $X$. \end{definition} 
\begin{definition} \label{definition-closed} A point $x\in X$ is called {\it closed} if $\overline{\{x\}} = \{ x\}$. Let $x, y$ be points of $X$. We say that $x$ is a {\it specialization} of $y$, or that $y$ is a {\it generalization} of $x$ if $x\in \overline{\{y\}}$. \end{definition} 
\begin{definition} \label{definition-connected-component} A topological space $X$ is called {\it connected} if it is nonempty and not the union of two nonempty disjoint open subsets. A {\it connected component} of $X$ is a maximal connected subset. Any point of $X$ is contained in a connected component of $X$ and any connected component of $X$ is closed in $X$. (But in general a connected component need not be open in $X$.) \end{definition} 
\begin{definition} \label{definition-length} Let $A$ be a ring. Let $M$ be an $A$-module. The {\it length} of $M$ as an $R$-module is $$ \text{length}_A(M) = \sup \{ n \mid \exists\ 0 = M_0 \subset M_1 \subset \ldots \subset M_n = M, \text{ }M_i \not = M_{i + 1} \}. $$ In other words, the supremum of the lengths of chains of submodules. \end{definition} 
\begin{definition} \label{definition-catenary} A Noetherian ring $A$ is said to be {\it catenary} if for any triple of prime ideals ${\mathfrak p}_1 \subset {\mathfrak p}_2 \subset {\mathfrak p}_3$ we have $$ ht({\mathfrak p}_3 / {\mathfrak p}_1) = ht({\mathfrak p}_3/{\mathfrak p}_2) + ht({\mathfrak p}_2/{\mathfrak p}_1). $$ Here $ht(\mathfrak p/\mathfrak q)$ means the height of $\mathfrak p/\mathfrak q$ in the ring $A/\mathfrak q$. In a formula $$ ht(\mathfrak p/\mathfrak q) = \dim(A_\mathfrak p/\mathfrak qA_\mathfrak p) = \dim((A/\mathfrak q)_\mathfrak p) = \dim((A/\mathfrak q)_{\mathfrak p/\mathfrak q}) $$ A topological space $X$ is {\it catenary}, if given $T \subset T' \subset X$ with $T$ and $T'$ closed and irreducible, then there exists a maximal chain of irreducible closed subsets $$ T = T_0 \subset T_1 \subset \ldots \subset T_n = T' $$ and every such chain has the same (finite) length. \end{definition} 
\begin{definition} \label{definition-finite-locally-free} Let $A$ be a ring. Recall that a {\it finite locally free} $A$-module $M$ is a module such that for every ${\mathfrak p} \in \Spec(A)$ there exists an $f\in A$, $f \not \in {\mathfrak p}$ such that $M_f$ is a finite free $A_f$-module. We say $M$ is an {\it invertible module} if $M$ is finite locally free of rank $1$, i.e., for every ${\mathfrak p} \in \Spec(A)$ there exists an $f\in A$, $f \not \in \mathfrak p$ such that $M_f \cong A_f$ as an $A_f$-module. \end{definition} 
\begin{definition} \label{definition-class-group} Let $A$ be a ring. The {\it class group of $A$}, sometimes called the {\it Picard group of $A$} is the set $\Pic(A)$ of isomorphism classes of invertible $A$-modules endowed with a group operation defined by tensor product (see Exercise \ref{exercise-tensor-finite-locally-free}). \end{definition} 
\begin{definition} \label{definition-GU-GD} Let $\phi : A \to B$ be a homomorphism of rings. We say that the {\it going-up theorem} holds for $\phi$ if the following condition is satisfied: \begin{itemize} \item[(GU)] for any ${\mathfrak p}, {\mathfrak p}' \in \Spec(A)$ such that ${\mathfrak p} \subset {\mathfrak p}'$, and for any $P \in \Spec(B)$ lying over ${\mathfrak p}$, there exists $P'\in \Spec(B)$ lying over ${\mathfrak p}'$ such that $P \subset P'$. \end{itemize} Similarly, we say that the {\it going-down theorem} holds for $\phi$ if the following condition is satisfied: \begin{itemize} \item[(GD)] for any ${\mathfrak p}, {\mathfrak p}' \in \Spec(A)$ such that ${\mathfrak p} \subset {\mathfrak p}'$, and for any $P' \in \Spec(B)$ lying over ${\mathfrak p}'$, there exists $P\in \Spec(B)$ lying over ${\mathfrak p}$ such that $P \subset P'$. \end{itemize} \end{definition} 
\begin{definition} \label{definition-numerical-polynomial} A {\it numerical polynomial} is a polynomial $f(x) \in {\mathbf Q}[x]$ such that $f(n) \in {\mathbf Z}$ for every integer $n$. \end{definition} 
\begin{definition} \label{definition-graded-module} A {\it graded module} $M$ over a ring $A$ is an $A$-module $M$ endowed with a direct sum decomposition $ \bigoplus\nolimits_{n \in {\mathbf Z}} M_n $ into $A$-submodules. We will say that $M$ is {\it locally finite} if all of the $M_n$ are finite $A$-modules. Suppose that $A$ is a Noetherian ring and that $\varphi$ is a {\it Euler-Poincar\'e function} on finite $A$-modules. This means that for every finitely generated $A$-module $M$ we are given an integer $\varphi(M) \in {\mathbf Z}$ and for every short exact sequence $$ 0 \longrightarrow M' \longrightarrow M \longrightarrow M'' \longrightarrow 0 $$ we have $\varphi(M) = \varphi(M') + \varphi(M'')$. The {\it Hilbert function} of a locally finite graded module $M$ (with respect to $\varphi$) is the function $\chi_\varphi(M, n) = \varphi(M_n)$. We say that $M$ has a {\it Hilbert polynomial} if there is some numerical polynomial $P_\varphi$ such that $\chi_\varphi(M, n) = P_\varphi(n)$ for all sufficiently large integers $n$. \end{definition} 
\begin{definition} \label{definition-graded-algebra} A {\it graded $A$-algebra} is a graded $A$-module $B = \bigoplus_{n \geq 0} B_n$ together with an $A$-bilinear map $$ B \times B \longrightarrow B, \ (b, b') \longmapsto bb' $$ that turns $B$ into an $A$-algebra so that $B_n \cdot B_m \subset B_{n + m}$. Finally, a {\it graded module $M$ over a graded $A$-algebra $B$} is given by a graded $A$-module $M$ together with a (compatible) $B$-module structure such that $B_n \cdot M_d \subset M_{n + d}$. Now you can define {\it homomorphisms of graded modules/rings}, {\it graded submodules}, {\it graded ideals}, {\it exact sequences of graded modules}, etc, etc. \end{definition} 
\begin{definition} \label{definition-homogeneous-ideal} Let $R$ be a graded ring. A {\it homogeneous} ideal is simply an ideal $I \subset R$ which is also a graded submodule of $R$. Equivalently, it is an ideal generated by homogeneous elements. Equivalently, if $f \in I$ and $$ f = f_0 + f_1 + \ldots + f_n $$ is the decomposition of $f$ into homogeneous pieces in $R$ then $f_i \in I$ for each $i$. \end{definition} 
\begin{definition} \label{definition-Proj-R} We define the {\it homogeneous spectrum $\text{Proj}(R)$} of the graded ring $R$ to be the set of homogeneous, prime ideals ${\mathfrak p}$ of $R$ such that $R_{+} \not \subset {\mathfrak p}$. Note that $\text{Proj}(R)$ is a subset of $\Spec(R)$ and hence has a natural induced topology. \end{definition} 
\begin{definition} \label{definition-Dplus-Vplus} Let $R = \oplus_{d \geq 0} R_d$ be a graded ring, let $f\in R_d$ and assume that $d \geq 1$. We define {\it $R_{(f)}$} to be the subring of $R_f$ consisting of elements of the form $r/f^n$ with $r$ homogeneous and $\deg(r) = nd$. Furthermore, we define $$ D_{+}(f) = \{ {\mathfrak p} \in \text{Proj}(R) | f \not\in {\mathfrak p} \}. $$ Finally, for a homogeneous ideal $I \subset R$ we define $V_{+}(I) = V(I) \cap \text{Proj}(R)$. \end{definition} 
\begin{definition} \label{definition-CM} A Noetherian local ring $A$ is said to be {\it Cohen-Macaulay} of dimension $d$ if it has dimension $d$ and there exists a system of parameters $x_1, \ldots, x_d$ for $A$ such that $x_i$ is a nonzerodivisor in $A/(x_1, \ldots, x_{i-1})$ for $i = 1, \ldots, d$. \end{definition} 
\begin{definition} \label{definition-injective-filtered} Let $\mathcal{A}$ be an abelian category. Let $I$ be a filtered object of $\mathcal{A}$. Assume the filtration on $I$ is finite. We say $I$ is {\it filtered injective} if each $\text{gr}^p(I)$ is an injective object of $\mathcal{A}$. \end{definition} 
\begin{definition} \label{definition-finite-filtration-category} Let $\mathcal{A}$ be an abelian category. We denote {\it $\text{Fil}^f(\mathcal{A})$} the full subcategory of $\text{Fil}(\mathcal{A})$ whose objects consist of those $A \in \Ob(\text{Fil}(\mathcal{A}))$ whose filtration is finite. \end{definition} 
\begin{definition} \label{definition-filtered-quasi-isomorphism} Let $\mathcal{A}$ be an abelian category. Let $\alpha : K^\bullet \to L^\bullet$ be a morphism of complexes of $\text{Fil}(\mathcal{A})$. We say that $\alpha$ is a {\it filtered quasi-isomorphism} if for each $p \in \mathbf{Z}$ the morphism $\text{gr}^p(K^\bullet) \to \text{gr}^p(L^\bullet)$ is a quasi-isomorphism. \end{definition} 
\begin{definition} \label{definition-filtered-acyclic} Let $\mathcal{A}$ be an abelian category. Let $K^\bullet$ be a complex of $\text{Fil}^f(\mathcal{A})$. We say that $K^\bullet$ is {\it filtered acyclic} if for each $p \in \mathbf{Z}$ the complex $\text{gr}^p(K^\bullet)$ is acyclic. \end{definition} 
\begin{definition} \label{definition-integral} A scheme $X$ is called {\it integral} if $X$ is nonempty and for every nonempty affine open $U \subset X$ the ring $\Gamma(U, \mathcal{O}_X) = \mathcal{O}_X(U)$ is a domain. \end{definition} 
\begin{definition} \label{definition-dual-numbers} For any ring $R$ we denote $R[\epsilon]$ the ring of {\it dual numbers}. As an $R$-module it is free with basis $1$, $\epsilon$. The ring structure comes from setting $\epsilon^2 = 0$. \end{definition} 
\begin{definition} \label{definition-tangent-space} Let $f : X \to S$ be a morphism of schemes. Let $x \in X$. We dub the set of dotted arrows of Exercise \ref{exercise-tangent-space-Zariski} the {\it tangent space of $X$ over $S$} and we denote it $T_{X/S, x}$. An element of this space is called a {\it tangent vector} of $X/S$ at $x$. \end{definition} 
\begin{definition} \label{definition-quasi-coherent} Let $X$ be a scheme. A sheaf $\mathcal{F}$ of $\mathcal{O}_X$-modules is {\it quasi-coherent} if for every affine open $\Spec(R) = U \subset X$ the restriction $\mathcal{F}|_U$ is of the form $\widetilde M$ for some $R$-module $M$. \end{definition} 
\begin{definition} \label{definition-specialization} Let $X$ be a topological space. Let $x, x' \in X$. We say $x$ is a {\it specialization} of $x'$ if and only if $x \in \overline{\{x'\}}$. \end{definition} 
\begin{definition} \label{definition-Noetherian-scheme} A scheme $X$ is called {\it locally Noetherian} if and only if for every point $x \in X$ there exists an affine open $\Spec(R) = U \subset X$ such that $R$ is Noetherian. A scheme is {\it Noetherian} if it is locally Noetherian and quasi-compact. \end{definition} 
\begin{definition} \label{definition-coherent} Let $X$ be a locally Noetherian scheme. Let $\mathcal{F}$ be a quasi-coherent sheaf of $\mathcal{O}_X$-modules. We say $\mathcal{F}$ is {\it coherent} if for every point $x \in X$ there exists an affine open $\Spec(R) = U \subset X$ such that $\mathcal{F}|_U$ is isomorphic to $\widetilde M$ for some finite $R$-module $M$. \end{definition} 
\begin{definition} \label{definition-invertible-sheaf} Let $X$ be a locally ringed space. An {\it invertible ${\mathcal O}_X$-module} on $X$ is a sheaf of ${\mathcal O}_X$-modules ${\mathcal L}$ such that every point has an open neighbourhood $U \subset X$ such that ${\mathcal L}|_U$ is isomorphic to ${\mathcal O}_U$ as ${\mathcal O}_U$-module. We say that ${\mathcal L}$ is trivial if it is isomorphic to ${\mathcal O}_X$ as a ${\mathcal O}_X$-module. \end{definition} 
\begin{definition} \label{definition-invertible-module} Let $R$ be a ring. An {\it invertible module $M$} is an $R$-module $M$ such that $\widetilde M$ is an invertible sheaf on the spectrum of $R$. We say $M$ is {\it trivial} if $M \cong R$ as an $R$-module. \end{definition} 
\begin{definition} \label{definition-picard-group} Let $X$ be a locally ringed space. The {\it Picard group of $X$} is the set $\Pic(X)$ of isomorphism classes of invertible $\mathcal{O}_X$-modules with addition given by tensor product. See Modules, Definition \ref{modules-definition-pic}. For a ring $R$ we set $\Pic(R) = \Pic(\Spec(R))$. \end{definition} 
\begin{definition} \label{definition-delta} (Definition of delta.) Suppose that $$ 0 \to {\mathcal F}_1 \to {\mathcal F}_2 \to {\mathcal F}_3 \to 0 $$ is a short exact sequence of abelian sheaves on any topological space $X$. The boundary map $\delta : H^0(X, {\mathcal F}_3) \to {\check H}^1(X, {\mathcal F}_1)$ is defined as follows. Take an element $\tau \in H^0(X, {\mathcal F}_3)$. Choose an open covering ${\mathcal U} : X = \bigcup_{i\in I} U_i$ such that for each $i$ there exists a section $\tilde \tau_i \in {\mathcal F}_2$ lifting the restriction of $\tau$ to $U_i$. Then consider the assignment $$ (i_0, i_1) \longmapsto \tilde \tau_{i_0}|_{U_{i_0i_1}} - \tilde \tau_{i_1}|_{U_{i_0i_1}}. $$ This is clearly a 1-coboundary in the {\v C}ech complex ${\check C}^\ast({\mathcal U}, {\mathcal F}_2)$. But we observe that (thinking of ${\mathcal F}_1$ as a subsheaf of ${\mathcal F}_2$) the RHS always is a section of ${\mathcal F}_1$ over $U_{i_0i_1}$. Hence we see that the assignment defines a 1-cochain in the complex ${\check C}^\ast({\mathcal U}, {\mathcal F}_2)$. The cohomology class of this 1-cochain is by definition {\it $\delta(\tau)$}. \end{definition} 
\begin{definition} \label{definition-divisor} Throughout, let $S$ be any scheme and let $X$ be a Noetherian, integral scheme. \begin{enumerate} \item A {\it Weil divisor} on $X$ is a formal linear combination $\Sigma n_i[Z_i]$ of prime divisors $Z_i$ with integer coefficients. \item A {\it prime divisor} is a closed subscheme $Z \subset X$, which is integral with generic point $\xi \in Z$ such that ${\mathcal O}_{X, \xi}$ has dimension $1$. We will use the notation ${\mathcal O}_{X, Z} = {\mathcal O}_{X, \xi}$ when $\xi \in Z \subset X$ is as above. Note that ${\mathcal O}_{X, Z} \subset K(X)$ is a subring of the function field of $X$. \item The {\it Weil divisor associated to a rational function $f \in K(X)^\ast$} is the sum $\Sigma v_Z(f)[Z]$. Here $v_Z(f)$ is defined as follows \begin{enumerate} \item If $f \in {\mathcal O}_{X, Z}^\ast$ then $v_Z(f) = 0$. \item If $f \in {\mathcal O}_{X, Z}$ then $$ v_Z(f) = \text{length}_{{\mathcal O}_{X, Z}}({\mathcal O}_{X, Z}/(f)). $$ \item If $f = \frac{a}{b}$ with $a, b \in {\mathcal O}_{X, Z}$ then $$ v_Z(f) = \text{length}_{{\mathcal O}_{X, Z}}({\mathcal O}_{X, Z}/(a)) - \text{length}_{{\mathcal O}_{X, Z}}({\mathcal O}_{X, Z}/(b)). $$ \end{enumerate} \item An {\it effective Cartier divisor} on a scheme $S$ is a closed subscheme $D \subset S$ such that every point $d\in D$ has an affine open neighbourhood $\Spec(A) = U \subset S$ in $S$ so that $D \cap U = \Spec(A/(f))$ with $f \in A$ a nonzerodivisor. \item The {\it Weil divisor $[D]$ associated to an effective Cartier divisor $D \subset X$} of our Noetherian integral scheme $X$ is defined as the sum $\Sigma v_Z(D)[Z]$ where $v_Z(D)$ is defined as follows \begin{enumerate} \item If the generic point $\xi$ of $Z$ is not in $D$ then $v_Z(D) = 0$. \item If the generic point $\xi$ of $Z$ is in $D$ then $$ v_Z(D) = \text{length}_{{\mathcal O}_{X, Z}}({\mathcal O}_{X, Z}/(f)) $$ where $f \in {\mathcal O}_{X, Z} = {\mathcal O}_{X, \xi}$ is the nonzerodivisor which defines $D$ in an affine neighbourhood of $\xi$ (as in (4) above). \end{enumerate} \item Let $S$ be a scheme. The {\it sheaf of total quotient rings ${\mathcal K}_S$} is the sheaf of ${\mathcal O}_S$-algebras which is the sheafification of the pre-sheaf ${\mathcal K}'$ defined as follows. For $U \subset S$ open we set ${\mathcal K}'(U) = S_U^{-1}{\mathcal O}_S(U)$ where $S_U \subset {\mathcal O}_S(U)$ is the multiplicative subset consisting of sections $f \in {\mathcal O}_S(U)$ such that the germ of $f$ in ${\mathcal O}_{S, u}$ is a nonzerodivisor for every $u\in U$. In particular the elements of $S_U$ are all nonzerodivisors. Thus ${\mathcal O}_S$ is a subsheaf of ${\mathcal K}_S$, and we get a short exact sequence $$ 0 \to {\mathcal O}_S^\ast \to {\mathcal K}_S^\ast \to {\mathcal K}_S^\ast/{\mathcal O}_S^\ast \to 0. $$ \item A {\it Cartier divisor} on a scheme $S$ is a global section of the quotient sheaf ${\mathcal K}_S^\ast/{\mathcal O}_S^\ast$. \item The {\it Weil divisor associated to a Cartier divisor} $\tau \in \Gamma(X, {\mathcal K}_X^\ast/{\mathcal O}_X^\ast)$ over our Noetherian integral scheme $X$ is the sum $\Sigma v_Z(\tau)[Z]$ where $v_Z(\tau)$ is defined as by the following recipe \begin{enumerate} \item If the germ of $\tau$ at the generic point $\xi$ of $Z$ is zero -- in other words the image of $\tau$ in the stalk $({\mathcal K}^\ast/{\mathcal O}^\ast)_\xi$ is ``zero'' -- then $v_Z(\tau) = 0$. \item Find an affine open neighbourhood $\Spec(A) = U \subset X$ so that $\tau|_U$ is the image of a section $f \in {\mathcal K}(U)$ and moreover $f = a/b$ with $a, b \in A$. Then we set $$ v_Z(f) = \text{length}_{{\mathcal O}_{X, Z}}({\mathcal O}_{X, Z}/(a)) - \text{length}_{{\mathcal O}_{X, Z}}({\mathcal O}_{X, Z}/(b)). $$ \end{enumerate} \end{enumerate} \end{definition} 
