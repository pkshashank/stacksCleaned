\begin{lemma} \label{lemma-directed-inverse-system-affine-schemes-has-limit} Let $I$ be a directed set. Let $(S_i, f_{ii'})$ be an inverse system of schemes over $I$.  If all the schemes $S_i$ are affine, then the limit $S = \lim_i S_i$ exists in the category of schemes. In fact $S$ is affine and $S = \Spec(\colim_i R_i)$ with $R_i = \Gamma(S_i, \mathcal{O})$. \end{lemma} 
\begin{lemma} \label{lemma-directed-inverse-system-has-limit} Let $I$ be a directed set. Let $(S_i, f_{ii'})$ be an inverse system of schemes over $I$. If all the morphisms $f_{ii'} : S_i \to S_{i'}$ are affine, then the limit $S = \lim_i S_i$ exists in the category of schemes. Moreover, \begin{enumerate} \item each of the morphisms $f_i : S \to S_i$ is affine, \item for an element $0 \in I$ and any open subscheme $U_0 \subset S_0$ we have $$ f_0^{-1}(U_0) = \lim_{i \geq 0} f_{i0}^{-1}(U_0) $$ in the category of schemes. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-scheme-over-limit} Let $I$ be a directed set. Let $(S_i, f_{ii'})$ be an inverse system of schemes over $I$. Assume all the morphisms $f_{ii'} : S_i \to S_{i'}$ are affine, Let $S = \lim_i S_i$. Let $0 \in I$. Suppose that $T$ is a scheme over $S_0$. Then $$ T \times_{S_0} S = \lim_{i \geq 0} T \times_{S_0} S_i $$ \end{lemma} 
\begin{lemma} \label{lemma-infinite-product} \begin{slogan} Infinite products of affine schemes exist and are affine. \end{slogan} Let $S$ be a scheme. Let $I$ be a set and for each $i \in I$ let $f_i : T_i \to S$ be an affine morphism. Then the product $T = \prod T_i$ exists in the category of schemes over $S$. In fact, we have $$ T = \lim_{\{i_1, \ldots, i_n\} \subset I} T_{i_1} \times_S \ldots \times_S T_{i_n} $$ and the projection morphisms $T \to T_{i_1} \times_S \ldots \times_S T_{i_n}$ are affine. \end{lemma} 
\begin{lemma} \label{lemma-infinite-product-surjective} Let $S$ be a scheme. Let $I$ be a set and for each $i \in I$ let $f_i : T_i \to S$ be a surjective affine morphism. Then the product $T = \prod T_i$ in the category of schemes over $S$ (Lemma \ref{lemma-infinite-product}) maps surjectively to $S$. \end{lemma} 
\begin{lemma} \label{lemma-infinite-product-integral} Let $S$ be a scheme. Let $I$ be a set and for each $i \in I$ let $f_i : T_i \to S$ be an integral morphism. Then the product $T = \prod T_i$ in the category of schemes over $S$ (Lemma \ref{lemma-infinite-product}) is integral over $S$. \end{lemma} 
\begin{lemma} \label{lemma-inverse-limit-sets} Let $S = \lim S_i$ be the limit of a directed inverse system of schemes with affine transition morphisms (Lemma \ref{lemma-directed-inverse-system-has-limit}). Then $S_{set} = \lim_i S_{i, set}$ where $S_{set}$ indicates the underlying set of the scheme $S$. \end{lemma} 
\begin{lemma} \label{lemma-inverse-limit-top} \begin{reference} \cite[IV, Proposition 8.2.9]{EGA} \end{reference} Let $S = \lim S_i$ be the limit of a directed inverse system of schemes with affine transition morphisms (Lemma \ref{lemma-directed-inverse-system-has-limit}). Then $S_{top} = \lim_i S_{i, top}$ where $S_{top}$ indicates the underlying topological space of the scheme $S$. \end{lemma} 
\begin{lemma} \label{lemma-limit-nonempty} Let $S = \lim S_i$ be the limit of a directed inverse system of schemes with affine transition morphisms (Lemma \ref{lemma-directed-inverse-system-has-limit}). If all the schemes $S_i$ are nonempty and quasi-compact, then the limit $S = \lim_i S_i$ is nonempty. \end{lemma} 
\begin{lemma} \label{lemma-inverse-limit-irreducibles} Let $S = \lim S_i$ be the limit of a directed inverse system of schemes with affine transition morphisms (Lemma \ref{lemma-directed-inverse-system-has-limit}). Let $s \in S$ with images $s_i \in S_i$. Then \begin{enumerate} \item $s = \lim s_i$ as schemes, i.e., $\kappa(s) = \colim \kappa(s_i)$, \item $\overline{\{s\}} = \lim \overline{\{s_i\}}$ as sets, and \item $\overline{\{s\}} = \lim \overline{\{s_i\}}$ as schemes where $\overline{\{s\}}$ and $\overline{\{s_i\}}$ are endowed with the reduced induced scheme structure. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-topology-limit} In Situation \ref{situation-descent}. \begin{enumerate} \item We have $S_{set} = \lim_i S_{i, set}$ where $S_{set}$ indicates the underlying set of the scheme $S$. \item We have $S_{top} = \lim_i S_{i, top}$ where $S_{top}$ indicates the underlying topological space of the scheme $S$. \item If $s, s' \in S$ and $s'$ is not a specialization of $s$ then for some $i \in I$ the image $s'_i \in S_i$ of $s'$ is not a specialization of the image $s_i \in S_i$ of $s$. \item Add more easy facts on topology of $S$ here. (Requirement: whatever is added should be easy in the affine case.) \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-descend-section} In Situation \ref{situation-descent}. Suppose that $\mathcal{F}_0$ is a quasi-coherent sheaf on $S_0$. Set $\mathcal{F}_i = f_{i0}^*\mathcal{F}_0$ for $i \geq 0$ and set $\mathcal{F} = f_0^*\mathcal{F}_0$. Then $$ \Gamma(S, \mathcal{F}) = \colim_{i \geq 0} \Gamma(S_i, \mathcal{F}_i) $$ \end{lemma} 
\begin{lemma} \label{lemma-limit-closed-nonempty} In Situation \ref{situation-descent}. Suppose for each $i$ we are given a nonempty closed subset $Z_i \subset S_i$ with $f_{i'i}(Z_{i'}) \subset Z_i$ for all $i' \geq i$. Then there exists a point $s \in S$ with $f_i(s) \in Z_i$ for all $i$. \end{lemma} 
\begin{lemma} \label{lemma-limit-fibre-product-empty} In Situation \ref{situation-descent}. Suppose we are given an $i$ and a morphism $T \to S_i$ such that \begin{enumerate} \item $T \times_{S_i} S = \emptyset$, and \item $T$ is quasi-compact. \end{enumerate} Then $T \times_{S_i} S_{i'} = \emptyset$ for all sufficiently large $i'$. \end{lemma} 
\begin{lemma} \label{lemma-limit-contained-in-constructible} In Situation \ref{situation-descent}. Suppose we are given an $i$ and a locally constructible subset $E \subset S_i$ such that $f_i(S) \subset E$. Then $f_{i'i}(S_{i'}) \subset E$ for all sufficiently large $i'$. \end{lemma} 
\begin{lemma} \label{lemma-descend-opens} In Situation \ref{situation-descent} we have the following: \begin{enumerate} \item Given any quasi-compact open $V \subset S = \lim_i S_i$ there exists an $i \in I$ and a quasi-compact open $V_i \subset S_i$ such that $f_i^{-1}(V_i) = V$. \item Given $V_i \subset S_i$ and $V_{i'} \subset S_{i'}$ quasi-compact opens such that $f_i^{-1}(V_i) = f_{i'}^{-1}(V_{i'})$ there exists an index $i'' \geq i, i'$ such that $f_{i''i}^{-1}(V_i) = f_{i''i'}^{-1}(V_{i'})$. \item If $V_{1, i}, \ldots, V_{n, i} \subset S_i$ are quasi-compact opens and $S = f_i^{-1}(V_{1, i}) \cup \ldots \cup f_i^{-1}(V_{n, i})$ then $S_{i'} = f_{i'i}^{-1}(V_{1, i}) \cup \ldots \cup f_{i'i}^{-1}(V_{n, i})$ for some $i' \geq i$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-limit-quasi-affine} In Situation \ref{situation-descent} if $S$ is quasi-affine, then for some $i_0 \in I$ the schemes $S_i$ for $i \geq i_0$ are quasi-affine. \end{lemma} 
\begin{lemma} \label{lemma-limit-affine} In Situation \ref{situation-descent} if $S$ is affine, then for some $i_0 \in I$ the schemes $S_i$ for $i \geq i_0$ are affine. \end{lemma} 
\begin{lemma} \label{lemma-limit-separated} In Situation \ref{situation-descent} if $S$ is separated, then for some $i_0 \in I$ the schemes $S_i$ for $i \geq i_0$ are separated. \end{lemma} 
\begin{lemma} \label{lemma-limit-ample} In Situation \ref{situation-descent} let $\mathcal{L}_0$ be an invertible sheaf of modules on $S_0$. If the pullback $\mathcal{L}$ to $S$ is ample, then for some $i \in I$ the pullback $\mathcal{L}_i$ to $S_i$ is ample. \end{lemma} 
\begin{lemma} \label{lemma-finite-type-eventually-closed} Let $S$ be a scheme. Let $X = \lim X_i$ be a directed limit of schemes over $S$ with affine transition morphisms. Let $Y \to X$ be a morphism of schemes over $S$. \begin{enumerate} \item If $Y \to X$ is a closed immersion, $X_i$ quasi-compact, and $Y$ locally of finite type over $S$, then $Y \to X_i$ is a closed immersion for $i$ large enough. \item If $Y \to X$ is an immersion, $X_i$ quasi-separated, $Y \to S$ locally of finite type, and $Y$ quasi-compact, then $Y \to X_i$ is an immersion for $i$ large enough. \item If $Y \to X$ is an isomorphism, $X_i$ quasi-compact, $X_i \to S$ locally of finite type, the transition morphisms $X_{i'} \to X_i$ are closed immersions, and $Y \to S$ is locally of finite presentation, then $Y \to X_i$ is an isomorphism for $i$ large enough. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-eventually-separated} Let $S$ be a scheme. Let $X = \lim X_i$ be a directed limit of schemes over $S$ with affine transition morphisms. Assume \begin{enumerate} \item $S$ quasi-separated, \item $X_i$ quasi-compact and quasi-separated, \item $X \to S$ separated. \end{enumerate} Then $X_i \to S$ is separated for all $i$ large enough. \end{lemma} 
\begin{lemma} \label{lemma-eventually-affine} Let $S$ be a scheme. Let $X = \lim X_i$ be a directed limit of schemes over $S$ with affine transition morphisms. Assume \begin{enumerate} \item $S$ quasi-compact and quasi-separated, \item $X_i$ quasi-compact and quasi-separated, \item $X \to S$ affine. \end{enumerate} Then $X_i \to S$ is affine for $i$ large enough. \end{lemma} 
\begin{lemma} \label{lemma-eventually-finite} Let $S$ be a scheme. Let $X = \lim X_i$ be a directed limit of schemes over $S$ with affine transition morphisms. Assume \begin{enumerate} \item $S$ quasi-compact and quasi-separated, \item $X_i$ quasi-compact and quasi-separated, \item the transition morphisms $X_{i'} \to X_i$ are finite, \item $X_i \to S$ locally of finite type \item $X \to S$ integral. \end{enumerate} Then $X_i \to S$ is finite for $i$ large enough. \end{lemma} 
\begin{lemma} \label{lemma-eventually-closed-immersion} Let $S$ be a scheme. Let $X = \lim X_i$ be a directed limit of schemes over $S$ with affine transition morphisms. Assume \begin{enumerate} \item $S$ quasi-compact and quasi-separated, \item $X_i$ quasi-compact and quasi-separated, \item the transition morphisms $X_{i'} \to X_i$ are closed immersions, \item $X_i \to S$ locally of finite type \item $X \to S$ a closed immersion. \end{enumerate} Then $X_i \to S$ is a closed immersion for $i$ large enough. \end{lemma} 
\begin{lemma} \label{lemma-eventually-immersion} Let $S$ be a scheme. Let $X = \lim X_i$ be a directed limit of schemes over $S$ with affine transition morphisms. Assume \begin{enumerate} \item $S$ quasi-separated, \item $X_i$ quasi-compact and quasi-separated, \item the transition morphisms $X_{i'} \to X_i$ are closed immersions, \item $X_i \to S$ locally of finite type, and \item $X \to S$ an immersion. \end{enumerate} Then $X_i \to S$ is an immersion for $i$ large enough. \end{lemma} 
\begin{lemma} \label{lemma-quasi-affine-finite-type-over-Z} Let $W$ be a quasi-affine scheme of finite type over $\mathbf{Z}$. Suppose $W \to \Spec(R)$ is an open immersion into an affine scheme. There exists a finite type $\mathbf{Z}$-algebra $A \subset R$ which induces an open immersion $W \to \Spec(A)$. Moreover, $R$ is the directed colimit of such subalgebras. \end{lemma} 
\begin{lemma} \label{lemma-diagram} Suppose given a cartesian diagram of rings $$ \xymatrix{ B \ar[r]_s & R \\ B'\ar[u] \ar[r] & R' \ar[u]_t } $$ Let $W' \subset \Spec(R')$ be an open of the form $W' = D(f_1) \cup \ldots \cup D(f_n)$ such that $t(f_i) = s(g_i)$ for some $g_i \in B$ and $B_{g_i} \cong R_{s(g_i)}$. Then $B' \to R'$ induces an open immersion of $W'$ into $\Spec(B')$. \end{lemma} 
\begin{lemma} \label{lemma-approximate} Let $S$ be a quasi-compact and quasi-separated scheme. Let $V \subset S$ be a quasi-compact open. Let $I$ be a directed set and let $(V_i, f_{ii'})$ be an inverse system of schemes over $I$ with affine transition maps, with each $V_i$ of finite type over $\mathbf{Z}$, and with $V = \lim V_i$. Then there exist \begin{enumerate} \item a directed set $J$, \item an inverse system of schemes $(S_j, g_{jj'})$ over $J$, \item an order preserving map $\alpha : J \to I$, \item open subschemes $V'_j \subset S_j$, and \item isomorphisms $V'_j \to V_{\alpha(j)}$ \end{enumerate} such that \begin{enumerate} \item the transition morphisms $g_{jj'} : S_j \to S_{j'}$ are affine, \item each $S_j$ is of finite type over $\mathbf{Z}$, \item $g_{jj'}^{-1}(V'_{j'}) = V'_j$, \item $S = \lim S_j$ and $V = \lim V'_j$, and \item the diagrams $$ \vcenter{ \xymatrix{ V \ar[d] \ar[rd] \\ V'_j \ar[r] & V_{\alpha(j)} } } \quad\text{and}\quad \vcenter{ \xymatrix{ V'_j \ar[r] \ar[d] & V_{\alpha(j)} \ar[d] \\ V'_{j'} \ar[r] & V_{\alpha(j')} } } $$ are commutative. \end{enumerate} \end{lemma} 
\begin{proposition} \label{proposition-approximate} Let $S$ be a quasi-compact and quasi-separated scheme. There exist a directed set $I$ and an inverse system of schemes $(S_i, f_{ii'})$ over $I$ such that \begin{enumerate} \item the transition morphisms $f_{ii'}$ are affine \item each $S_i$ is of finite type over $\mathbf{Z}$, and \item $S = \lim_i S_i$. \end{enumerate} \end{proposition} 
\begin{proposition} \label{proposition-characterize-locally-finite-presentation} \begin{reference} \cite[IV, Proposition 8.14.2]{EGA} \end{reference} Let $f : X \to S$ be a morphism of schemes. The following are equivalent: \begin{enumerate} \item The morphism $f$ is locally of finite presentation. \item For any directed set $I$, and any inverse system $(T_i, f_{ii'})$ of $S$-schemes over $I$ with each $T_i$ affine, we have $$ \Mor_S(\lim_i T_i, X) = \colim_i \Mor_S(T_i, X) $$ \item For any directed set $I$, and any inverse system $(T_i, f_{ii'})$ of $S$-schemes over $I$ with each $f_{ii'}$ affine and every $T_i$ quasi-compact and quasi-separated as a scheme, we have $$ \Mor_S(\lim_i T_i, X) = \colim_i \Mor_S(T_i, X) $$ \end{enumerate} \end{proposition} 
\begin{lemma} \label{lemma-surjection-is-enough} Let $f : X \to S$ be a morphism of schemes. If for every directed limit $T = \lim_{i \in I} T_i$ of affine schemes over $S$ the map $$ \colim \Mor_S(T_i, X) \longrightarrow \Mor_S(T, X) $$ is surjective, then $f$ is locally of finite presentation. In other words, in Proposition \ref{proposition-characterize-locally-finite-presentation} parts (2) and (3) it suffices to check surjectivity of the map. \end{lemma} 
\begin{lemma} \label{lemma-morphism-glueing-near-closed-point} Let $S$ be a scheme. Let $X$ and $Y$ be schemes over $S$. Assume $Y$ is locally of finite presentation over $S$. Let $x \in X$ be a closed point such that $U = X \setminus \{x\} \to X$ is quasi-compact. With $V = \Spec(\mathcal{O}_{X, x}) \setminus \{x\}$ there is a bijection $$ \left\{ \begin{matrix} \text{morphisms }X \to Y\text{ over }S \end{matrix} \right\} \longrightarrow \left\{ \begin{matrix} (a, b)\text{ where } a : U \to Y\text{ and }b : \Spec(\mathcal{O}_{X, x}) \to Y\\ \text{ are morphisms over }S \text{ which agree over }V \end{matrix} \right\} $$ \end{lemma} 
\begin{lemma} \label{lemma-approximate-morphism} Let $f : X \to S$ be a morphism of quasi-compact and quasi-separated schemes. Then there exists a direct set $I$ and an inverse system $(f_i : X_i \to S_i)$ of morphisms schemes over $I$, such that the transition morphisms $X_i \to X_{i'}$ and $S_i \to S_{i'}$ are affine, such that $X_i$ and $S_i$ are of finite type over $\mathbf{Z}$, and such that $(X \to S) = \lim (X_i \to S_i)$. \end{lemma} 
\begin{lemma} \label{lemma-relative-approximation} Let $f : X \to S$ be a morphism of schemes. Assume that \begin{enumerate} \item $X$ is quasi-compact and quasi-separated, and \item $S$ is quasi-separated. \end{enumerate} Then $X = \lim X_i$ is a limit of a directed system of schemes $X_i$ of finite presentation over $S$ with affine transition morphisms over $S$. \end{lemma} 
\begin{lemma} \label{lemma-integral-limit-finite-and-finite-presentation} Let $X \to S$ be an integral morphism with $S$ quasi-compact and quasi-separated. Then $X = \lim X_i$ with $X_i \to S$ finite and of finite presentation. \end{lemma} 
\begin{lemma} \label{lemma-descend-affine-finite-presentation} Notation and assumptions as in Situation \ref{situation-descent-property}. If $f$ is affine, then there exists an index $i \geq 0$ such that $f_i$ is affine. \end{lemma} 
\begin{lemma} \label{lemma-descend-finite-finite-presentation} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is a finite morphism, and \item $f_0$ is locally of finite type, \end{enumerate} then there exists an $i \geq 0$ such that $f_i$ is finite. \end{lemma} 
\begin{lemma} \label{lemma-descend-unramified} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is unramified, and \item $f_0$ is locally of finite type, \end{enumerate} then there exists an $i \geq 0$ such that $f_i$ is unramified. \end{lemma} 
\begin{lemma} \label{lemma-descend-closed-immersion-finite-presentation} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is a closed immersion, and \item $f_0$ is locally of finite type, \end{enumerate} then there exists an $i \geq 0$ such that $f_i$ is a closed immersion. \end{lemma} 
\begin{lemma} \label{lemma-descend-separated-finite-presentation} Notation and assumptions as in Situation \ref{situation-descent-property}. If $f$ is separated, then $f_i$ is separated for some $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-descend-flat-finite-presentation} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is flat, \item $f_0$ is locally of finite presentation, \end{enumerate} then $f_i$ is flat for some $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-descend-finite-locally-free} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is finite locally free (of degree $d$), \item $f_0$ is locally of finite presentation, \end{enumerate} then $f_i$ is finite locally free (of degree $d$) for some $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-descend-smooth} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is smooth, \item $f_0$ is locally of finite presentation, \end{enumerate} then $f_i$ is smooth for some $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-descend-etale} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is \'etale, \item $f_0$ is locally of finite presentation, \end{enumerate} then $f_i$ is \'etale for some $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-descend-isomorphism} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is an isomorphism, and \item $f_0$ is locally of finite presentation, \end{enumerate} then $f_i$ is an isomorphism for some $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-descend-open-immersion} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is an open immersion, and \item $f_0$ is locally of finite presentation, \end{enumerate} then $f_i$ is an open immersion for some $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-descend-immersion} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is an immersion, and \item $f_0$ is locally of finite type, \end{enumerate} then $f_i$ is an immersion for some $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-descend-monomorphism} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is a monomorphism, and \item $f_0$ is locally of finite type, \end{enumerate} then $f_i$ is a monomorphism for some $i \geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-descend-surjective} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is surjective, and \item $f_0$ is locally of finite presentation, \end{enumerate} then there exists an $i \geq 0$ such that $f_i$ is surjective. \end{lemma} 
\begin{lemma} \label{lemma-descend-syntomic} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is syntomic, and \item $f_0$ is locally of finite presentation, \end{enumerate} then there exists an $i \geq 0$ such that $f_i$ is syntomic. \end{lemma} 
\begin{lemma} \label{lemma-locally-finite-type-in-finite-presentation} Let $f : X \to S$ be a morphism of schemes. Assume: \begin{enumerate} \item The morphism $f$ is locally of finite type. \item The scheme $X$ is quasi-compact and quasi-separated. \end{enumerate} Then there exists a morphism of finite presentation $f' : X' \to S$ and an immersion $X \to X'$ of schemes over $S$. \end{lemma} 
\begin{lemma} \label{lemma-finite-type-closed-in-finite-presentation} Let $f : X \to S$ be a morphism of schemes. Assume: \begin{enumerate} \item The morphism $f$ is of locally of finite type. \item The scheme $X$ is quasi-compact and quasi-separated, and \item The scheme $S$ is quasi-separated. \end{enumerate} Then there exists a morphism of finite presentation $f' : X' \to S$ and a closed immersion $X \to X'$ of schemes over $S$. \end{lemma} 
\begin{lemma} \label{lemma-closed-is-limit-closed-and-finite-presentation} Let $X \to Y$ be a closed immersion of schemes. Assume $Y$ quasi-compact and quasi-separated. Then $X$ can be written as a directed limit $X = \lim X_i$ of schemes over $Y$ where $X_i \to Y$ is a closed immersion of finite presentation. \end{lemma} 
\begin{lemma} \label{lemma-finite-type-is-limit-finite-presentation} Let $f : X \to S$ be a morphism of schemes. Assume \begin{enumerate} \item The morphism $f$ is of locally of finite type. \item The scheme $X$ is quasi-compact and quasi-separated, and \item The scheme $S$ is quasi-separated. \end{enumerate} Then $X = \lim X_i$ where the $X_i \to S$ are of finite presentation, the $X_i$ are quasi-compact and quasi-separated, and the transition morphisms $X_{i'} \to X_i$ are closed immersions (which implies that $X \to X_i$ are closed immersions for all $i$). \end{lemma} 
\begin{proposition} \label{proposition-separated-closed-in-finite-presentation} Let $f : X \to S$ be a morphism of schemes. Assume \begin{enumerate} \item $f$ is of finite type and separated, and \item $S$ is quasi-compact and quasi-separated. \end{enumerate} Then there exists a separated morphism of finite presentation $f' : X' \to S$ and a closed immersion $X \to X'$ of schemes over $S$. \end{proposition} 
\begin{lemma} \label{lemma-finite-closed-in-finite-finite-presentation} Let $f : X \to S$ be a morphism of schemes. Assume \begin{enumerate} \item $f$ is finite, and \item $S$ is quasi-compact and quasi-separated. \end{enumerate} Then there exists a morphism which is finite and of finite presentation $f' : X' \to S$ and a closed immersion $X \to X'$ of schemes over $S$. \end{lemma} 
\begin{lemma} \label{lemma-finite-in-finite-and-finite-presentation} Let $f : X \to S$ be a morphism of schemes. Assume \begin{enumerate} \item $f$ is finite, and \item $S$ quasi-compact and quasi-separated. \end{enumerate} Then $X$ is a directed limit $X = \lim X_i$ where the transition maps are closed immersions and the objects $X_i$ are finite and of finite presentation over $S$. \end{lemma} 
\begin{lemma} \label{lemma-descend-finite-presentation} Let $I$ be a directed set. Let $(S_i, f_{ii'})$ be an inverse system of schemes over $I$. Assume \begin{enumerate} \item the morphisms $f_{ii'} : S_i \to S_{i'}$ are affine, \item the schemes $S_i$ are quasi-compact and quasi-separated. \end{enumerate} Let $S = \lim_i S_i$. Then we have the following: \begin{enumerate} \item For any morphism of finite presentation $X \to S$ there exists an index $i \in I$ and a morphism of finite presentation $X_i \to S_i$ such that $X \cong X_{i, S}$ as schemes over $S$. \item Given an index $i \in I$, schemes $X_i$, $Y_i$ of finite presentation over $S_i$, and a morphism $\varphi : X_{i, S} \to Y_{i, S}$ over $S$, there exists an index $i' \geq i$ and a morphism $\varphi_{i'} : X_{i, S_{i'}} \to Y_{i, S_{i'}}$ whose base change to $S$ is $\varphi$. \item Given an index $i \in I$, schemes $X_i$, $Y_i$ of finite presentation over $S_i$ and a pair of morphisms $\varphi_i, \psi_i : X_i \to Y_i$ whose base changes $\varphi_{i, S} = \psi_{i, S}$ are equal, there exists an index $i' \geq i$ such that $\varphi_{i, S_{i'}} = \psi_{i, S_{i'}}$. \end{enumerate} In other words, the category of schemes of finite presentation over $S$ is the colimit over $I$ of the categories of schemes of finite presentation over $S_i$. \end{lemma} 
\begin{lemma} \label{lemma-descend-modules-finite-presentation} Let $I$ be a directed set. Let $(S_i, f_{ii'})$ be an inverse system of schemes over $I$. Assume \begin{enumerate} \item all the morphisms $f_{ii'} : S_i \to S_{i'}$ are affine, \item all the schemes $S_i$ are quasi-compact and quasi-separated. \end{enumerate} Let $S = \lim_i S_i$. Then we have the following: \begin{enumerate} \item For any sheaf of $\mathcal{O}_S$-modules $\mathcal{F}$ of finite presentation there exists an index $i \in I$ and a sheaf of $\mathcal{O}_{S_i}$-modules of finite presentation $\mathcal{F}_i$ such that $\mathcal{F} \cong f_i^*\mathcal{F}_i$. \item Suppose given an index $i \in I$, sheaves of $\mathcal{O}_{S_i}$-modules $\mathcal{F}_i$, $\mathcal{G}_i$ of finite presentation and a morphism $\varphi : f_i^*\mathcal{F}_i \to f_i^*\mathcal{G}_i$ over $S$. Then there exists an index $i' \geq i$ and a morphism $\varphi_{i'} : f_{i'i}^*\mathcal{F}_i \to f_{i'i}^*\mathcal{G}_i$ whose base change to $S$ is $\varphi$. \item Suppose given an index $i \in I$, sheaves of $\mathcal{O}_{S_i}$-modules $\mathcal{F}_i$, $\mathcal{G}_i$ of finite presentation and a pair of morphisms $\varphi_i, \psi_i : \mathcal{F}_i \to \mathcal{G}_i$. Assume that the base changes are equal: $f_i^*\varphi_i = f_i^*\psi_i$. Then there exists an index $i' \geq i$ such that $f_{i'i}^*\varphi_i = f_{i'i}^*\psi_i$. \end{enumerate} In other words, the category of modules of finite presentation over $S$ is the colimit over $I$ of the categories modules of finite presentation over $S_i$. \end{lemma} 
\begin{lemma} \label{lemma-descend-invertible-modules} Let $S = \lim S_i$ be the limit of a directed system of quasi-compact and quasi-separated schemes $S_i$ with affine transition morphisms. Then \begin{enumerate} \item any finite locally free $\mathcal{O}_S$-module is the pullback of a finite locally free $\mathcal{O}_{S_i}$-module for some $i$, \item any invertible $\mathcal{O}_S$-module is the pullback of an invertible $\mathcal{O}_{S_i}$-module for some $i$, and \item any finite type quasi-coherent ideal $\mathcal{I} \subset \mathcal{O}_S$ is of the form $\mathcal{I}_i \cdot \mathcal{O}_S$ for some $i$ and some finite type quasi-coherent ideal $\mathcal{I}_i \subset \mathcal{O}_{S_i}$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-descend-module-flat-finite-presentation} With notation and assumptions as in Lemma \ref{lemma-descend-finite-presentation}. Let $i \in I$. Suppose that $\varphi_i : X_i \to Y_i$ is a morphism of schemes of finite presentation over $S_i$ and that $\mathcal{F}_i$ is a quasi-coherent $\mathcal{O}_{X_i}$-module of finite presentation. If the pullback of $\mathcal{F}_i$ to $X_i \times_{S_i} S$ is flat over $Y_i \times_{S_i} S$, then there exists an index $i' \geq i$ such that the pullback of $\mathcal{F}_i$ to $X_i \times_{S_i} S_{i'}$ is flat over $Y_i \times_{S_i} S_{i'}$. \end{lemma} 
\begin{lemma} \label{lemma-descend-finite-presentation-variant} For a scheme $T$ denote $\mathcal{C}_T$ the full subcategory of schemes $W$ over $T$ such that $W$ is quasi-compact and quasi-separated and such that the structure morphism $W \to T$ is locally of finite presentation. Let $S = \lim S_i$ be a directed limit of schemes with affine transition morphisms. Then there is an equivalence of categories $$ \colim \mathcal{C}_{S_i} \longrightarrow \mathcal{C}_S $$ given by the base change functors. \end{lemma} 
\begin{lemma} \label{lemma-affine} \begin{slogan} A scheme, admitting a finite surjective map from an affine scheme, is affine. \end{slogan} Let $f : X \to S$ be a morphism of schemes. Assume that $f$ is surjective and finite, and assume that $X$ is affine. Then $S$ is affine. \end{lemma} 
\begin{proposition} \label{proposition-affine} \begin{slogan} A scheme admitting a surjective integral map from an affine scheme is affine. \end{slogan} Let $f : X \to S$ be a morphism of schemes. Assume $X$ is affine and that $f$ is surjective and universally closed\footnote{An integral morphism is universally closed, see Morphisms, Lemma \ref{morphisms-lemma-integral-universally-closed}.}. Then $S$ is affine. \end{proposition} 
\begin{lemma} \label{lemma-affines-glued-in-closed-affine} Let $X$ be a scheme which is set theoretically the union of finitely many affine closed subschemes. Then $X$ is affine. \end{lemma} 
\begin{lemma} \label{lemma-ample-on-reduction} Let $i : Z \to X$ be a closed immersion of schemes inducing a homeomorphism of underlying topological spaces. Let $\mathcal{L}$ be an invertible sheaf on $X$. Then $i^*\mathcal{L}$ is ample on $Z$, if and only if $\mathcal{L}$ is ample on $X$. \end{lemma} 
\begin{lemma} \label{lemma-thickening-quasi-affine} Let $i : Z \to X$ be a closed immersion of schemes inducing a homeomorphism of underlying topological spaces. Then $X$ is quasi-affine if and only if $Z$ is quasi-affine. \end{lemma} 
\begin{lemma} \label{lemma-ample-profinite-set-in-principal-affine} Let $X$ be a scheme. Let $\mathcal{L}$ be an ample invertible sheaf on $X$. Assume we have morphisms of schemes $$ \Spec(k) \leftarrow \Spec(A) \to W \subset X $$ where $k$ is a field, $A$ is an integral $k$-algebra, $W$ is open in $X$. Then there exists an $n > 0$ and a section $s \in \Gamma(X, \mathcal{L}^{\otimes n})$ such that $X_s$ is affine, $X_s \subset W$, and $\Spec(A) \to W$ factors through $X_s$ \end{lemma} 
\begin{lemma} \label{lemma-chow-finite-type} Let $S$ be a quasi-compact and quasi-separated scheme. Let $f : X \to S$ be a separated morphism of finite type. Then there exists an $n \geq 0$ and a diagram $$ \xymatrix{ X \ar[rd] & X' \ar[d] \ar[l]^\pi \ar[r] & \mathbf{P}^n_S \ar[dl] \\ & S & } $$ where $X' \to \mathbf{P}^n_S$ is an immersion, and $\pi : X' \to X$ is proper and surjective. \end{lemma} 
\begin{lemma} \label{lemma-chow-EGA} Let $S$ be a quasi-compact and quasi-separated scheme. Let $f : X \to S$ be a separated morphism of finite type. Assume that $X$ has finitely many irreducible components. Then there exists an $n \geq 0$ and a diagram $$ \xymatrix{ X \ar[rd] & X' \ar[d] \ar[l]^\pi \ar[r] & \mathbf{P}^n_S \ar[dl] \\ & S & } $$ where $X' \to \mathbf{P}^n_S$ is an immersion, and $\pi : X' \to X$ is proper and surjective. Moreover, there exists an open dense subscheme $U \subset X$ such that $\pi^{-1}(U) \to U$ is an isomorphism of schemes. \end{lemma} 
\begin{lemma} \label{lemma-eventually-proper} \begin{slogan} If the base change of a scheme to a limit is proper, then already the base change is proper at a finite level. \end{slogan} Assumptions and notation as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is proper, and \item $f_0$ is locally of finite type, \end{enumerate} then there exists an $i$ such that $f_i$ is proper. \end{lemma} 
\begin{lemma} \label{lemma-proper-limit-of-proper-finite-presentation} Let $f : X \to S$ be a proper morphism with $S$ quasi-compact and quasi-separated. Then $X = \lim X_i$ is a directed limit of schemes $X_i$ proper and of finite presentation over $S$ such that all transition morphisms and the morphisms $X \to X_i$ are closed immersions. \end{lemma} 
\begin{lemma} \label{lemma-proper-limit-of-proper-finite-presentation-noetherian} Let $f : X \to S$ be a proper morphism with $S$ quasi-compact and quasi-separated. Then there exists a directed set $I$, an inverse system $(f_i : X_i \to S_i)$ of morphisms of schemes over $I$, such that the transition morphisms $X_i \to X_{i'}$ and $S_i \to S_{i'}$ are affine, such that $f_i$ is proper, such that $S_i$ is of finite type over $\mathbf{Z}$, and such that $(X \to S) = \lim (X_i \to S_i)$. \end{lemma} 
\begin{lemma} \label{lemma-finite-type-eventually-proper} Let $S$ be a scheme. Let $X = \lim X_i$ be a directed limit of schemes over $S$ with affine transition morphisms. Let $Y \to X$ be a morphism of schemes over $S$. If $Y \to X$ is proper, $X_i$ quasi-compact and quasi-separated, and $Y$ locally of finite type over $S$, then $Y \to X_i$ is proper for $i$ large enough. \end{lemma} 
\begin{lemma} \label{lemma-eventually-proper-support} Assumptions and notation as in Situation \ref{situation-descent-property}. Let $\mathcal{F}_0$ be a quasi-coherent $\mathcal{O}_{X_0}$-module. Denote $\mathcal{F}$ and $\mathcal{F}_i$ the pullbacks of $\mathcal{F}_0$ to $X$ and $X_i$. Assume \begin{enumerate} \item $f_0$ is locally of finite type, \item $\mathcal{F}_0$ is of finite type, \item the scheme theoretic support of $\mathcal{F}$ is proper over $Y$. \end{enumerate} Then the scheme theoretic support of $\mathcal{F}_i$ is proper over $Y_i$ for some $i$. \end{lemma} 
\begin{lemma} \label{lemma-separate} Let $f : X \to S$ be a quasi-compact morphism of schemes. Let $g : T \to S$ be a morphism of schemes. Let $t \in T$ be a point and $Z \subset X_T$ be a closed subscheme such that $Z \cap X_t = \emptyset$. Then there exists an open neighbourhood $V \subset T$ of $t$, a commutative diagram $$ \xymatrix{ V \ar[d] \ar[r]_a & T' \ar[d]^b \\ T \ar[r]^g & S, } $$ and a closed subscheme $Z' \subset X_{T'}$ such that \begin{enumerate} \item the morphism $b : T' \to S$ is locally of finite presentation, \item with $t' = a(t)$ we have $Z' \cap X_{t'} = \emptyset$, and \item $Z \cap X_V$ maps into $Z'$ via the morphism $X_V \to X_{T'}$. \end{enumerate} Moreover, we may assume $V$ and $T'$ are affine. \end{lemma} 
\begin{lemma} \label{lemma-test-universally-closed} Let $f : X \to S$ be a quasi-compact morphism of schemes. The following are equivalent \begin{enumerate} \item $f$ is universally closed, \item for every morphism $S' \to S$ which is locally of finite presentation the base change $X_{S'} \to S'$ is closed, and \item for every $n$ the morphism $\mathbf{A}^n \times X \to \mathbf{A}^n \times S$ is closed. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-limited-base-change} Let $S$ be a scheme. Let $f : X \to S$ be a separated morphism of finite type. The following are equivalent: \begin{enumerate} \item The morphism $f$ is proper. \item For any morphism $S' \to S$ which is locally of finite type the base change $X_{S'} \to S'$ is closed. \item For every $n \geq 0$ the morphism $\mathbf{A}^n \times X \to \mathbf{A}^n \times S$ is closed. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-reach-point-closure-Noetherian} Let $f : X \to Y$ be a morphism of schemes. Assume $f$ finite type and $Y$ locally Noetherian. Let $y \in Y$ be a point in the closure of the image of $f$. Then there exists a commutative diagram $$ \xymatrix{ \Spec(K) \ar[r] \ar[d] & X \ar[d]^f \\ \Spec(A) \ar[r] & Y } $$ where $A$ is a discrete valuation ring and $K$ is its field of fractions mapping the closed point of $\Spec(A)$ to $y$. Moreover, we can assume that the image point of $\Spec(K) \to X$ is a generic point $\eta$ of an irreducible component of $X$ and that $K = \kappa(\eta)$. \end{lemma} 
\begin{lemma} \label{lemma-Noetherian-dvr-valuative-separation} Let $S$ be a locally Noetherian scheme. Let $f : X \to S$ be a morphism of schemes. Assume $f$ is locally of finite type. The following are equivalent: \begin{enumerate} \item The morphism $f$ is separated. \item For any diagram (\ref{equation-valuative}) there is at most one dotted arrow. \item For all diagrams (\ref{equation-valuative}) with $A$ a discrete valuation ring there is at most one dotted arrow. \item For any irreducible component $X_0$ of $X$ with generic point $\eta \in X_0$, for any discrete valuation ring $A \subset K = \kappa(\eta)$ with fraction field $K$ and any diagram (\ref{equation-valuative}) such that the morphism $\Spec(K) \to X$ is the canonical one (see Schemes, Section \ref{schemes-section-points}) there is at most one dotted arrow. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-Noetherian-dvr-valuative-proper} Let $S$ be a locally Noetherian scheme. Let $f : X \to S$ be a morphism of finite type. The following are equivalent: \begin{enumerate} \item The morphism $f$ is proper. \item For any diagram (\ref{equation-valuative}) there exists exactly one dotted arrow. \item For all diagrams (\ref{equation-valuative}) with $A$ a discrete valuation ring there exists exactly one dotted arrow. \item For any irreducible component $X_0$ of $X$ with generic point $\eta \in X_0$, for any discrete valuation ring $A \subset K = \kappa(\eta)$ with fraction field $K$ and any diagram (\ref{equation-valuative}) such that the morphism $\Spec(K) \to X$ is the canonical one (see Schemes, Section \ref{schemes-section-points}) there exists exactly one dotted arrow. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-check-universally-closed-Noetherian} Let $f : X \to S$ be a finite type morphism of schemes. Assume $S$ is locally Noetherian. Then the following are equivalent \begin{enumerate} \item $f$ is universally closed, \item for every $n$ the morphism $\mathbf{A}^n \times X \to \mathbf{A}^n \times S$ is closed, \item for any diagram (\ref{equation-valuative}) there exists some dotted arrow, \item for all diagrams (\ref{equation-valuative}) with $A$ a discrete valuation ring there exists some dotted arrow. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-refined-valuative-criterion-proper} Let $f : X \to S$ and $h : U \to X$ be morphisms of schemes. Assume that $S$ is locally Noetherian, that $f$ and $h$ are of finite type, that $f$ is separated, and that $h(U)$ is dense in $X$. If given any commutative solid diagram $$ \xymatrix{ \Spec(K) \ar[r] \ar[d] & U \ar[r]^h & X \ar[d]^f \\ \Spec(A) \ar[rr] \ar@{-->}[rru] & & S } $$ where $A$ is a discrete valuation ring with field of fractions $K$, there exists a dotted arrow making the diagram commute, then $f$ is proper. \end{lemma} 
\begin{lemma} \label{lemma-refined-valuative-criterion-separated} Let $f : X \to S$ and $h : U \to X$ be morphisms of schemes. Assume that $S$ is locally Noetherian, that $f$ is locally of finite type, that $h$ is of finite type, and that $h(U)$ is dense in $X$. If given any commutative solid diagram $$ \xymatrix{ \Spec(K) \ar[r] \ar[d] & U \ar[r]^h & X \ar[d]^f \\ \Spec(A) \ar[rr] \ar@{-->}[rru] & & S } $$ where $A$ is a discrete valuation ring with field of fractions $K$, there exists at most one dotted arrow making the diagram commute, then $f$ is separated. \end{lemma} 
\begin{lemma} \label{lemma-refined-valuative-criterion-universally-closed} Let $f : X \to S$ and $h : U \to X$ be morphisms of schemes. Assume that $S$ is locally Noetherian, that $f$ and $h$ are of finite type, and that $h(U)$ is dense in $X$. If given any commutative solid diagram $$ \xymatrix{ \Spec(K) \ar[r] \ar[d] & U \ar[r]^h & X \ar[d]^f \\ \Spec(A) \ar[rr] \ar@{-->}[rru] & & S } $$ where $A$ is a discrete valuation ring with field of fractions $K$, there exists a unique dotted arrow making the diagram commute, then $f$ is proper. \end{lemma} 
\begin{lemma} \label{lemma-essentially-finite-type-criterion-universally-closed} Let $S$ be a Nagata scheme (and in particular locally Noetherian). Let $f : X \to Y$ be a quasi-compact morphism of schemes locally of finite type over $S$. The following are equivalent \begin{enumerate} \item $f$ is universally closed, \item for every $n$ the morphism $\mathbf{A}^n \times X \to \mathbf{A}^n \times Y$ is closed, \item for any commutative diagram $$ \xymatrix{ U \ar[r] \ar[d] & X \ar[d]^f \\ C \ar[r] \ar@{..>}[ru] & Y } $$ of schemes over $S$ such that \begin{enumerate} \item $C$ is a normal integral scheme of finite type over $S$, \item $U = C \setminus \{c\}$ for some closed point $c \in C$, \item $A = \mathcal{O}_{C, c}$ has dimension $1$\footnote{It follows that $A$ is a discrete valuation ring, see Algebra, Lemma \ref{algebra-lemma-characterize-dvr}. Moreover, $c$ maps to a finite type point $s \in S$ and $A$ is essentially of finite type over $\mathcal{O}_{S, s}$.} \end{enumerate} then in the commutative diagram $$ \xymatrix{ \Spec(K) \ar[r] \ar[d] & X \ar[d]^f \\ \Spec(A) \ar[r] \ar@{-->}[ru] & Y } $$ where $K = \text{Frac}(A)$ some dotted arrow exists\footnote{By Lemma \ref{lemma-morphism-glueing-near-closed-point} this is equivalent to asking for the existence of dotted arrow making the first commutative diagram commute.} making the diagram commute. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-essentially-finite-type-criterion-separation} Let $S$ be a Nagata scheme (and in particular locally Noetherian). Let $f : X \to Y$ be a morphism of schemes locally of finite type over $S$. The following are equivalent \begin{enumerate} \item $f$ separated, \item for any commutative diagram $$ \xymatrix{ U \ar[r] \ar[d] & X \ar[d]^f \\ C \ar[r] \ar@{..>}[ru] & Y } $$ of schemes over $S$ such that \begin{enumerate} \item $C$ is a normal integral scheme of finite type over $S$, \item $U = C \setminus \{c\}$ for some closed point $c \in C$, \item $A = \mathcal{O}_{C, c}$ has dimension $1$\footnote{It follows that $A$ is a discrete valuation ring, see Algebra, Lemma \ref{algebra-lemma-characterize-dvr}. Moreover, $c$ maps to a finite type point $s \in S$ and $A$ is essentially of finite type over $\mathcal{O}_{S, s}$.} \end{enumerate} then in the commutative diagram $$ \xymatrix{ \Spec(K) \ar[r] \ar[d] & X \ar[d]^f \\ \Spec(A) \ar[r] \ar@{-->}[ru] & Y } $$ where $K = \text{Frac}(A)$ there exists at most one dotted arrow\footnote{By Lemma \ref{lemma-morphism-glueing-near-closed-point} this is equivalent to asking there to be at most one dotted arrow making the first commutative diagram commute.} making the diagram commute. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-essentially-finite-type-criterion-proper} Let $S$ be a Nagata scheme (and in particular locally Noetherian). Let $f : X \to Y$ be a quasi-compact morphism of schemes locally of finite type over $S$. The following are equivalent \begin{enumerate} \item $f$ proper, \item for any commutative diagram $$ \xymatrix{ U \ar[r] \ar[d] & X \ar[d]^f \\ C \ar[r] \ar@{..>}[ru] & Y } $$ of schemes over $S$ such that \begin{enumerate} \item $C$ is a normal integral scheme of finite type over $S$, \item $U = C \setminus \{c\}$ for some closed point $c \in C$, \item $A = \mathcal{O}_{C, c}$ has dimension $1$\footnote{It follows that $A$ is a discrete valuation ring, see Algebra, Lemma \ref{algebra-lemma-characterize-dvr}. Moreover, $c$ maps to a finite type point $s \in S$ and $A$ is essentially of finite type over $\mathcal{O}_{S, s}$.} \end{enumerate} then in the commutative diagram $$ \xymatrix{ \Spec(K) \ar[r] \ar[d] & X \ar[d]^f \\ \Spec(A) \ar[r] \ar@{-->}[ru] & Y } $$ where $K = \text{Frac}(A)$ there exists exactly one dotted arrow\footnote{By Lemma \ref{lemma-morphism-glueing-near-closed-point} this is equivalent to asking for the existence and uniqueness of the dotted arrow making the first commutative diagram commute.} making the diagram commute. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-limit-dimension} Let $I$ be a directed set. Let $(f_i : X_i \to S_i)$ be an inverse system of morphisms of schemes over $I$. Assume \begin{enumerate} \item all the morphisms $S_{i'} \to S_i$ are affine, \item all the schemes $S_i$ are quasi-compact and quasi-separated, \item the morphisms $f_i$ are of finite type, and \item the morphisms $X_{i'} \to X_i \times_{S_i} S_{i'}$ are closed immersions. \end{enumerate} Let $f : X = \lim_i X_i \to S = \lim_i S_i$ be the limit. Let $d \geq 0$. If every fibre of $f$ has dimension $\leq d$, then for some $i$ every fibre of $f_i$ has dimension $\leq d$. \end{lemma} 
\begin{lemma} \label{lemma-descend-quasi-finite} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ is a quasi-finite morphism, and \item $f_0$ is locally of finite type, \end{enumerate} then there exists an $i \geq 0$ such that $f_i$ is quasi-finite. \end{lemma} 
\begin{lemma} \label{lemma-eventually-relative-dimension} Assumptions and notation as in Situation \ref{situation-descent-property}. Let $d \geq 0$. If \begin{enumerate} \item $f$ has relative dimension $\leq d$ (Morphisms, Definition \ref{morphisms-definition-relative-dimension-d}), and \item $f_0$ is locally of finite type, \end{enumerate} then there exists an $i$ such that $f_i$ has relative dimension $\leq d$. \end{lemma} 
\begin{lemma} \label{lemma-descend-dimension-d} Notation and assumptions as in Situation \ref{situation-descent-property}. If \begin{enumerate} \item $f$ has relative dimension $d$, and \item $f_0$ is locally of finite presentation, \end{enumerate} then there exists an $i \geq 0$ such that $f_i$ has relative dimension $d$. \end{lemma} 
\begin{lemma} \label{lemma-approximate-given-relative-dimension} Let $S$ be a quasi-compact and quasi-separated scheme. Let $f : X \to S$ be a morphism of finite presentation. Let $d \geq 0$ be an integer. If $Z \subset X$ be a closed subscheme such that $\dim(Z_s) \leq d$ for all $s \in S$, then there exists a closed subscheme $Z' \subset X$ such that \begin{enumerate} \item $Z \subset Z'$, \item $Z' \to X$ is of finite presentation, and \item $\dim(Z'_s) \leq d$ for all $s \in S$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-top-cohomology-functor} Let $f : X \to Y$ be a morphism of schemes. Let $d \geq 0$. Assume \begin{enumerate} \item $X$ and $Y$ are quasi-compact and quasi-separated, and \item $R^if_*\mathcal{F} = 0$ for $i > d$ and every quasi-coherent $\mathcal{O}_X$-module $\mathcal{F}$. \end{enumerate} Then we have \begin{enumerate} \item[(a)] for any base change diagram $$ \xymatrix{ X' \ar[d]_{f'} \ar[r]_{g'} & X \ar[d]^f \\ Y' \ar[r]^g & Y } $$ we have $R^if'_*\mathcal{F}' = 0$ for $i > d$ and any quasi-coherent $\mathcal{O}_{X'}$-module $\mathcal{F}'$, \item[(b)] $R^df'_*(\mathcal{F}' \otimes_{\mathcal{O}_{X'}} (f')^*\mathcal{G}') = R^df'_*\mathcal{F}' \otimes_{\mathcal{O}_{Y'}} \mathcal{G}'$ for any quasi-coherent $\mathcal{O}_{Y'}$-module $\mathcal{G}'$, \item[(c)] formation of $R^df'_*\mathcal{F}'$ commutes with arbitrary further base change (see proof for explanation). \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-higher-direct-images-zero-above-dimension-fibre} Let $f : X \to Y$ be a morphism of schemes. Let $y \in Y$. Assume $f$ is proper and $\dim(X_y) = d$. Then \begin{enumerate} \item for $\mathcal{F} \in \QCoh(\mathcal{O}_X)$ we have $(R^if_*\mathcal{F})_y = 0$ for all $i > d$, \item there is an affine open neighbourhood $V \subset Y$ of $y$ such that $f^{-1}(V) \to V$ and $d$ satisfy the assumptions and conclusions of Lemma \ref{lemma-top-cohomology-functor}. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-proper-top-cohomology-finite-type} Let $f : X \to Y$ be a morphism of schemes. Let $d \geq 0$. Let $\mathcal{F}$ be an $\mathcal{O}_X$-module. Assume \begin{enumerate} \item $f$ is a proper morphism all of whose fibres have dimension $\leq d$, \item $\mathcal{F}$ is a quasi-coherent $\mathcal{O}_X$-module of finite type. \end{enumerate} Then $R^df_*\mathcal{F}$ is a quasi-coherent $\mathcal{O}_X$-module of finite type. \end{lemma} 
\begin{lemma} \label{lemma-proper-top-cohomology-finite-presentation} Let $f : X \to Y$ be a morphism of schemes. Let $d \geq 0$. Let $\mathcal{F}$ be an $\mathcal{O}_X$-module. Assume \begin{enumerate} \item $f$ is a proper morphism of finite presentation all of whose fibres have dimension $\leq d$, \item $\mathcal{F}$ is an $\mathcal{O}_X$-module of finite presentation. \end{enumerate} Then $R^df_*\mathcal{F}$ is an $\mathcal{O}_X$-module of finite presentation. \end{lemma} 
\begin{lemma} \label{lemma-glueing-near-closed-point} Let $S$ be a scheme. Let $s \in S$ be a closed point such that $U = S \setminus \{s\} \to S$ is quasi-compact. With $V = \Spec(\mathcal{O}_{S, s}) \setminus \{s\}$ there is an equivalence of categories $$ \left\{ \begin{matrix} X \to S\text{ of finite presentation} \end{matrix} \right\} \longrightarrow \left\{ \vcenter{ \xymatrix{ X' \ar[d] & Y' \ar[d] \ar[l] \ar[r] & Y \ar[d] \\ U & V \ar[l] \ar[r] & \Spec(\mathcal{O}_{S, s}) } } \right\} $$ where on the right hand side we consider commutative diagrams whose squares are cartesian and whose vertical arrows are of finite presentation. \end{lemma} 
\begin{lemma} \label{lemma-glueing-near-closed-point-modules} Let $S$ be a scheme. Let $s \in S$ be a closed point such that $U = S \setminus \{s\} \to S$ is quasi-compact. With $V = \Spec(\mathcal{O}_{S, s}) \setminus \{s\}$ there is an equivalence of categories $$ \left\{ \mathcal{O}_S\text{-modules }\mathcal{F}\text{ of finite presentation} \right\} \longrightarrow \left\{ (\mathcal{G}, \mathcal{H}, \alpha) \right\} $$ where on the right hand side we consider triples consisting of a $\mathcal{O}_U$-module $\mathcal{G}$ of finite presentation, a $\mathcal{O}_{\Spec(\mathcal{O}_{S, s})}$-module $\mathcal{H}$ of finite presentation, and an isomorphism $\alpha : \mathcal{G}|_V \to \mathcal{H}|_V$ of $\mathcal{O}_V$-modules. \end{lemma} 
\begin{lemma} \label{lemma-glueing-near-point} Let $S$ be a scheme. Let $U \subset S$ be a retrocompact open. Let $s \in S$ be a point in the complement of $U$. With $V = \Spec(\mathcal{O}_{S, s}) \cap U$ there is an equivalence of categories $$ \colim_{s \in U' \supset U\text{ open}} \left\{ \vcenter{ \xymatrix{ X \ar[d] \\ U' } } \right\} \longrightarrow \left\{ \vcenter{ \xymatrix{ X' \ar[d] & Y' \ar[d] \ar[l] \ar[r] & Y \ar[d] \\ U & V \ar[l] \ar[r] & \Spec(\mathcal{O}_{S, s}) } } \right\} $$ where on the left hand side the vertical arrow is of finite presentation and on the right hand side we consider commutative diagrams whose squares are cartesian and whose vertical arrows are of finite presentation. \end{lemma} 
\begin{lemma} \label{lemma-glueing-near-point-properties} Notation and assumptions as in Lemma \ref{lemma-glueing-near-point}. Let $U \subset U' \subset X$ be an open containing $s$. \begin{enumerate} \item  Let $f' : X \to U'$ correspond to $f : X' \to U$ and $g : Y \to \Spec(\mathcal{O}_{S, s})$ via the equivalence. If $f$ and $g$ are separated, proper, finite, \'etale, then after possibly shrinking $U'$ the morphism $f'$ has the same property. \item Let $a : X_1 \to X_2$ be a morphism of schemes of finite presentation over $U'$ with base change $a' : X'_1 \to X'_2$ over $U$ and $b : Y_1 \to Y_2$ over $\Spec(\mathcal{O}_{S, s})$. If $a'$ and $b$ are separated, proper, finite, \'etale, then after possibly shrinking $U'$ the morphism $a$ has the same property. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-glueing-near-multiple-closed-points} Let $S$ be a scheme. Let $s_1, \ldots, s_n \in S$ be pairwise distinct closed points such that $U = S \setminus \{s_1, \ldots, s_n\} \to S$ is quasi-compact. With $S_i = \Spec(\mathcal{O}_{S, s_i})$ and $U_i = S_i \setminus \{s_i\}$ there is an equivalence of categories $$ FP_S \longrightarrow FP_U \times_{(FP_{U_1} \times \ldots \times FP_{U_n})} (FP_{S_1} \times \ldots \times FP_{S_n}) $$ where $FP_T$ is the category of schemes of finite presentation over the scheme $T$. \end{lemma} 
\begin{lemma} \label{lemma-modifications} Let $S$ be a scheme. Let $s \in S$ be a closed point such that $U = S \setminus \{s\} \to S$ is quasi-compact. With $V = \Spec(\mathcal{O}_{S, s}) \setminus \{s\}$ the base change functor $$ \left\{ \begin{matrix} f : X \to S\text{ of finite presentation} \\ f^{-1}(U) \to U\text{ is an isomorphism} \end{matrix} \right\} \longrightarrow \left\{ \begin{matrix} g : Y \to \Spec(\mathcal{O}_{S, s})\text{ of finite presentation} \\ g^{-1}(V) \to V\text{ is an isomorphism} \end{matrix} \right\} $$ is an equivalence of categories. \end{lemma} 
\begin{lemma} \label{lemma-modifications-properties} Notation and assumptions as in Lemma \ref{lemma-modifications}. Let $f : X \to S$ correspond to $g : Y \to \Spec(\mathcal{O}_{S, s})$ via the equivalence. Then $f$ is separated, proper, finite, \'etale and add more here if and only if $g$ is so. \end{lemma} 
\begin{lemma} \label{lemma-good-diagram} In Situation \ref{situation-limit-noetherian}. Let $X \to S$ be quasi-separated and of finite type. Then there exists an $i \in I$ and a diagram \begin{equation} \label{equation-good-diagram} \vcenter{ \xymatrix{ X \ar[r] \ar[d] & W \ar[d] \\ S \ar[r] & S_i } } \end{equation} such that $W \to S_i$ is of finite type and such that the induced morphism $X \to S \times_{S_i} W$ is a closed immersion. \end{lemma} 
\begin{lemma} \label{lemma-limit-from-good-diagram} In Situation \ref{situation-limit-noetherian}. Let $X \to S$ be quasi-separated and of finite type. Given $i \in I$ and a diagram $$ \vcenter{ \xymatrix{ X \ar[r] \ar[d] & W \ar[d] \\ S \ar[r] & S_i } } $$ as in (\ref{equation-good-diagram}) for $i' \geq i$ let $X_{i'}$ be the scheme theoretic image of $X \to S_{i'} \times_{S_i} W$. Then $X = \lim_{i' \geq i} X_{i'}$. \end{lemma} 
\begin{lemma} \label{lemma-morphism-good-diagram} In Situation \ref{situation-limit-noetherian}. Let $f : X \to Y$ be a morphism of schemes quasi-separated and of finite type over $S$. Let $$ \vcenter{ \xymatrix{ X \ar[r] \ar[d] & W \ar[d] \\ S \ar[r] & S_{i_1} } } \quad\text{and}\quad \vcenter{ \xymatrix{ Y \ar[r] \ar[d] & V \ar[d] \\ S \ar[r] & S_{i_2} } } $$ be diagrams as in (\ref{equation-good-diagram}). Let $X = \lim_{i \geq i_1} X_i$ and $Y = \lim_{i \geq i_2} Y_i$ be the corresponding limit descriptions as in Lemma \ref{lemma-limit-from-good-diagram}. Then there exists an $i_0 \geq \max(i_1, i_2)$ and a morphism $$ (f_i)_{i \geq i_0} : (X_i)_{i \geq i_0} \to (Y_i)_{i \geq i_0} $$ of inverse systems over $(S_i)_{i \geq i_0}$ such that such that $f = \lim_{i \geq i_0} f_i$. If $(g_i)_{i \geq i_0} : (X_i)_{i \geq i_0} \to (Y_i)_{i \geq i_0}$ is a second morphism of inverse systems over $(S_i)_{i \geq i_0}$ such that such that $f = \lim_{i \geq i_0} g_i$ then $f_i = g_i$ for all $i \gg i_0$. \end{lemma} 
\begin{lemma} \label{lemma-morphism-good-diagram-flat} Notation and assumptions as in Lemma \ref{lemma-morphism-good-diagram}. If $f$ is flat and of finite presentation, then there exists an $i_3 \geq i_0$ such that for $i \geq i_3$ we have $f_i$ is flat, $X_i = Y_i \times_{Y_{i_3}} X_{i_3}$, and $X = Y \times_{Y_{i_3}} X_{i_3}$. \end{lemma} 
\begin{lemma} \label{lemma-morphism-good-diagram-smooth} Notation and assumptions as in Lemma \ref{lemma-morphism-good-diagram}. If $f$ is smooth, then there exists an $i_3 \geq i_0$ such that for $i \geq i_3$ we have $f_i$ is smooth. \end{lemma} 
\begin{lemma} \label{lemma-morphism-good-diagram-proper} Notation and assumptions as in Lemma \ref{lemma-morphism-good-diagram}. If $f$ is proper, then there exists an $i_3 \geq i_0$ such that for $i \geq i_3$ we have $f_i$ is proper. \end{lemma} 
\begin{lemma} \label{lemma-good-diagram-fibre-product} In Situation \ref{situation-limit-noetherian} suppose that we have a cartesian diagram $$ \xymatrix{ X^1 \ar[r]_p \ar[d]_q & X^3 \ar[d]^a \\ X^2 \ar[r]^b & X^4 } $$ of schemes quasi-separated and of finite type over $S$. For each $j = 1, 2, 3, 4$ choose $i_j \in I$ and a diagram $$ \xymatrix{ X^j \ar[r] \ar[d] & W^j \ar[d] \\ S \ar[r] & S_{i_j} } $$ as in (\ref{equation-good-diagram}). Let $X^j = \lim_{i \geq i_j} X^j_i$ be the corresponding limit descriptions as in Lemma \ref{lemma-morphism-good-diagram}. Let $(a_i)_{i \geq i_5}$, $(b_i)_{i \geq i_6}$, $(p_i)_{i \geq i_7}$, and $(q_i)_{i \geq i_8}$ be the corresponding morphisms of systems constructed in Lemma \ref{lemma-morphism-good-diagram}. Then there exists an $i_9 \geq \max(i_5, i_6, i_7, i_8)$ such that for $i \geq i_9$ we have $a_i \circ p_i = b_i \circ q_i$ and such that $$ (q_i, p_i) : X^1_i \longrightarrow X^2_i \times_{b_i, X^4_i, a_i} X^3_i $$ is a closed immersion. If $a$ and $b$ are flat and of finite presentation, then there exists an $i_{10} \geq \max(i_5, i_6, i_7, i_8, i_9)$ such that for $i \geq i_{10}$ the last displayed morphism is an isomorphism. \end{lemma} 
