\begin{definition} \label{definition-morphism-representable-by-spaces} Let $S$ be a scheme contained in $\Sch_{fppf}$. Let $F$, $G$ be presheaves on $\Sch_{fppf}/S$. We say a morphism $a : F \to G$ is {\it representable by algebraic spaces} if for every $U \in \Ob((\Sch/S)_{fppf})$ and any $\xi : U \to G$ the fiber product $U \times_{\xi, G} F$ is an algebraic space. \end{definition} 
\begin{lemma} \label{lemma-morphism-spaces-is-representable-by-spaces} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$. Then $f$ is representable by algebraic spaces. \end{lemma} 
\begin{lemma} \label{lemma-base-change-transformation} \begin{slogan} A base change of a representable by algebraic spaces morphism of presheaves is representable by algebraic spaces. \end{slogan} Let $S$ be a scheme. Let $$ \xymatrix{ G' \times_G F \ar[r] \ar[d]^{a'} & F \ar[d]^a \\ G' \ar[r] & G } $$ be a fibre square of presheaves on $(\Sch/S)_{fppf}$. If $a$ is representable by algebraic spaces so is $a'$. \end{lemma} 
\begin{lemma} \label{lemma-representable-by-spaces-transformation-to-sheaf} Let $S$ be a scheme contained in $\Sch_{fppf}$. Let $F, G : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$. Let $a : F \to G$ be representable by algebraic spaces. If $G$ is a sheaf, then so is $F$. \end{lemma} 
\begin{lemma} \label{lemma-representable-by-spaces-transformation-diagonal} Let $S$ be a scheme contained in $\Sch_{fppf}$. Let $F, G : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$. Let $a : F \to G$ be representable by algebraic spaces. Then $\Delta_{F/G} : F \to F \times_G F$ is representable by algebraic spaces. \end{lemma} 
\begin{lemma} \label{lemma-representable-by-spaces-over-space} Let $S$ be a scheme contained in $\Sch_{fppf}$. Let $F, G : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$. Let $a : F \to G$ be representable by algebraic spaces. If $G$ is an algebraic space, then so is $F$. \end{lemma} 
\begin{lemma} \label{lemma-representable-by-spaces} Let $S$ be a scheme. Let $a : F \to G$ be a map of presheaves on $(\Sch/S)_{fppf}$. Suppose $a : F \to G$ is representable by algebraic spaces. If $X$ is an algebraic space over $S$, and $X \to G$ is a map of presheaves then $X \times_G F$ is an algebraic space. \end{lemma} 
\begin{lemma} \label{lemma-composition-transformation} Let $S$ be a scheme. Let $$ \xymatrix{ F \ar[r]^a & G \ar[r]^b & H } $$ be maps of presheaves on $(\Sch/S)_{fppf}$. If $a$ and $b$ are representable by algebraic spaces, so is $b \circ a$. \end{lemma} 
\begin{lemma} \label{lemma-product-transformations} Let $S$ be a scheme. Let $F_i, G_i : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$, $i = 1, 2$. Let $a_i : F_i \to G_i$, $i = 1, 2$ be representable by algebraic spaces. Then $$ a_1 \times a_2 : F_1 \times F_2 \longrightarrow G_1 \times G_2 $$ is a representable by algebraic spaces. \end{lemma} 
\begin{lemma} \label{lemma-representable-by-spaces-permanence} Let $S$ be a scheme. Let $a : F \to G$ and $b : G \to H$ be transformations of functors $(\Sch/S)_{fppf}^{opp} \to \textit{Sets}$. Assume \begin{enumerate} \item $\Delta : G \to G \times_H G$ is representable by algebraic spaces, and \item $b \circ a : F \to H$ is representable by algebraic spaces. \end{enumerate} Then $a$ is representable by algebraic spaces. \end{lemma} 
\begin{lemma} \label{lemma-glueing-sheaves} Let $S \in \Ob(\Sch_{fppf})$. Let $F$ be a presheaf of sets on $(\Sch/S)_{fppf}$. Assume \begin{enumerate} \item $F$ is a sheaf for the Zariski topology on $(\Sch/S)_{fppf}$, \item there exists an index set $I$ and subfunctors $F_i \subset F$ such that \begin{enumerate} \item each $F_i$ is an fppf sheaf, \item each $F_i \to F$ is representable by algebraic spaces, \item $\coprod F_i \to F$ becomes surjective after fppf sheafification. \end{enumerate} \end{enumerate} Then $F$ is an fppf sheaf. \end{lemma} 
\begin{definition} \label{definition-property-transformation} Let $S$ be a scheme. Let $a : F \to G$ be a map of presheaves on $(\Sch/S)_{fppf}$ which is representable by algebraic spaces. Let $\mathcal{P}$ be a property of morphisms of algebraic spaces which \begin{enumerate} \item is preserved under any base change, and \item is fppf local on the base, see Descent on Spaces, Definition \ref{spaces-descent-definition-property-morphisms-local}. \end{enumerate} In this case we say that $a$ has {\it property $\mathcal{P}$} if for every scheme $U$ and $\xi : U \to G$ the resulting morphism of algebraic spaces $U \times_G F \to U$ has property $\mathcal{P}$. \end{definition} 
\begin{lemma} \label{lemma-base-change-transformation-property} Let $S$ be a scheme. Let $\mathcal{P}$ be a property as in Definition \ref{definition-property-transformation}. Let $$ \xymatrix{ G' \times_G F \ar[r] \ar[d]^{a'} & F \ar[d]^a \\ G' \ar[r] & G } $$ be a fibre square of presheaves on $(\Sch/S)_{fppf}$. If $a$ is representable by algebraic spaces and has $\mathcal{P}$ so does $a'$. \end{lemma} 
\begin{lemma} \label{lemma-composition-transformation-property} Let $S$ be a scheme. Let $\mathcal{P}$ be a property as in Definition \ref{definition-property-transformation}, and assume $\mathcal{P}$ is stable under composition. Let $$ \xymatrix{ F \ar[r]^a & G \ar[r]^b & H } $$ be maps of presheaves on $(\Sch/S)_{fppf}$. If $a$, $b$ are representable by algebraic spaces and has $\mathcal{P}$ so does $b \circ a$. \end{lemma} 
\begin{lemma} \label{lemma-product-transformations-property} Let $S$ be a scheme. Let $F_i, G_i : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$, $i = 1, 2$. Let $a_i : F_i \to G_i$, $i = 1, 2$ be representable by algebraic spaces. Let $\mathcal{P}$ be a property as in Definition \ref{definition-property-transformation} which is stable under composition. If $a_1$ and $a_2$ have property $\mathcal{P}$ so does $a_1 \times a_2 : F_1 \times F_2 \longrightarrow G_1 \times G_2$. \end{lemma} 
\begin{lemma} \label{lemma-transformations-property-implication} Let $S$ be a scheme. Let $F, G : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$. Let $a : F \to G$ be a transformation of functors representable by algebraic spaces. Let $\mathcal{P}$, $\mathcal{P}'$ be properties as in Definition \ref{definition-property-transformation}. Suppose that for any morphism $f : X \to Y$ of algebraic spaces over $S$ we have $\mathcal{P}(f) \Rightarrow \mathcal{P}'(f)$. If $a$ has property $\mathcal{P}$, then $a$ has property $\mathcal{P}'$. \end{lemma} 
\begin{lemma} \label{lemma-surjective-flat-locally-finite-presentation} Let $S$ be a scheme. Let $F, G : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$ be sheaves. Let $a : F \to G$ be representable by algebraic spaces, flat, locally of finite presentation, and surjective. Then $a : F \to G$ is surjective as a map of sheaves. \end{lemma} 
\begin{lemma} \label{lemma-representable-diagonal} \begin{slogan} The diagonal of a presheaf is representable by algebraic spaces if and only if every map from a scheme to the presheaf is representable by algebraic spaces. \end{slogan} Let $S$ be a scheme. If $F$ is a presheaf on $(\Sch/S)_{fppf}$. The following are equivalent: \begin{enumerate} \item $\Delta_F : F \to F \times F$ is representable by algebraic spaces, \item for every scheme $T$ any map $T \to F$ is representable by algebraic spaces, and \item for every algebraic space $X$ any map $X \to F$ is representable by algebraic spaces. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-after-fppf-sep-lqf} Let $S$ be a scheme. Let $$ \xymatrix{ E \ar[r]_a \ar[d]_f & F \ar[d]^g \\ H \ar[r]^b & G } $$ be a cartesian diagram of sheaves on $(\Sch/S)_{fppf}$, so $E = H \times_G F$. If \begin{enumerate} \item $g$ is representable by algebraic spaces, surjective, flat, and locally of finite presentation, and \item $a$ is representable by algebraic spaces, separated, and locally quasi-finite \end{enumerate} then $b$ is representable (by schemes) as well as separated and locally quasi-finite. \end{lemma} 
\begin{lemma} \label{lemma-bootstrap-diagonal} Let $S$ be a scheme. Let $F : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$ be a functor. Assume that \begin{enumerate} \item the presheaf $F$ is a sheaf, \item there exists an algebraic space $X$ and a map $X \to F$ which is representable by algebraic spaces, surjective, flat and locally of finite presentation. \end{enumerate} Then $\Delta_F$ is representable (by schemes). \end{lemma} 
\begin{lemma} \label{lemma-bootstrap-locally-quasi-finite} Let $S$ be a scheme. Let $F : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$ be a functor. Let $X$ be a scheme and let $X \to F$ be representable by algebraic spaces and locally quasi-finite. Then $X \to F$ is representable (by schemes). \end{lemma} 
\begin{theorem} \label{theorem-bootstrap} Let $S$ be a scheme. Let $F : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$ be a functor. Assume that \begin{enumerate} \item the presheaf $F$ is a sheaf, \item the diagonal morphism $F  \to F \times F$ is representable by algebraic spaces, and \item there exists an algebraic space $X$ and a map $X \to F$ which is surjective, and \'etale. \end{enumerate} or assume that \begin{enumerate} \item[(a)] the presheaf $F$ is a sheaf, and \item[(b)] there exists an algebraic space $X$ and a map $X \to F$ which is representable by algebraic spaces, surjective, and \'etale. \end{enumerate} Then $F$ is an algebraic space. \end{theorem} 
\begin{lemma} \label{lemma-better-finding-opens} Let $S$ be a scheme. Let $(U, R, s, t, c)$ be a groupoid scheme over $S$. Let $g : U' \to U$ be a morphism. Assume \begin{enumerate} \item the composition $$ \xymatrix{ U' \times_{g, U, t} R \ar[r]_-{\text{pr}_1} \ar@/^3ex/[rr]^h & R \ar[r]_s & U } $$ has an open image $W \subset U$, and \item the resulting map $h : U' \times_{g, U, t} R \to W$ defines a surjection of sheaves in the fppf topology. \end{enumerate} Let $R' = R|_{U'}$ be the restriction of $R$ to $U'$. Then the map of quotient sheaves $$ U'/R' \to U/R $$ in the fppf topology is representable, and is an open immersion. \end{lemma} 
\begin{lemma} \label{lemma-slice-equivalence-relation} Let $S$ be a scheme. Let $j : R \to U \times_S U$ be an equivalence relation on schemes over $S$. Assume $s, t : R \to U$ are flat and locally of finite presentation. Then there exists an equivalence relation $j' : R' \to U'\times_S U'$ on schemes over $S$, and an isomorphism $$ U'/R' \longrightarrow U/R $$ induced by a morphism $U' \to U$ which maps $R'$ into $R$ such that $s', t' : R \to U$ are flat, locally of finite presentation and locally quasi-finite. \end{lemma} 
\begin{lemma} \label{lemma-divide-subgroupoid} Let $S$ be a scheme. Let $(U, R, s, t, c)$ be a groupoid scheme over $S$. Let $P \to R$ be monomorphism of schemes. Assume that \begin{enumerate} \item $(U, P, s|_P, t|_P, c|_{P \times_{s, U, t}P})$ is a groupoid scheme, \item $s|_P, t|_P : P \to U$ are finite locally free, \item $j|_P : P \to U \times_S U$ is a monomorphism. \item $U$ is affine, and \item $j : R \to U \times_S U$ is separated and locally quasi-finite, \end{enumerate} Then $U/P$ is representable by an affine scheme $\overline{U}$, the quotient morphism $U \to \overline{U}$ is finite locally free, and $P = U \times_{\overline{U}} U$. Moreover, $R$ is the restriction of a groupoid scheme $(\overline{U}, \overline{R}, \overline{s}, \overline{t}, \overline{c})$ on $\overline{U}$ via the quotient morphism $U \to \overline{U}$. \end{lemma} 
\begin{theorem} \label{theorem-final-bootstrap} Let $S$ be a scheme. Let $F : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$ be a functor. Any one of the following conditions implies that $F$ is an algebraic space: \begin{enumerate} \item $F = U/R$ where $(U, R, s, t, c)$ is a groupoid in algebraic spaces over $S$ such that $s, t$ are flat and locally of finite presentation, and $j = (t, s) : R \to U \times_S U$ is an equivalence relation, \item $F = U/R$ where $(U, R, s, t, c)$ is a groupoid scheme over $S$ such that $s, t$ are flat and locally of finite presentation, and $j = (t, s) : R \to U \times_S U$ is an equivalence relation, \item $F$ is a sheaf and there exists an algebraic space $U$ and a morphism $U \to F$ which is representable by algebraic spaces, surjective, flat and locally of finite presentation, \item $F$ is a sheaf and there exists a scheme $U$ and a morphism $U \to F$ which is representable by algebraic spaces or schemes, surjective, flat and locally of finite presentation, \item $F$ is a sheaf, $\Delta_F$ is representable by algebraic spaces, and there exists an algebraic space $U$ and a morphism $U \to F$ which is surjective, flat, and locally of finite presentation, or \item $F$ is a sheaf, $\Delta_F$ is representable, and there exists a scheme $U$ and a morphism $U \to F$ which is surjective, flat, and locally of finite presentation. \end{enumerate} \end{theorem} 
\begin{lemma} \label{lemma-locally-algebraic-space} \begin{slogan} The definition of an algebraic space is fppf local. \end{slogan} Let $S$ be a scheme. Let $F : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$ be a functor. Let $\{S_i \to S\}_{i \in I}$ be a covering of $(\Sch/S)_{fppf}$. Assume that \begin{enumerate} \item $F$ is a sheaf, \item each $F_i = h_{S_i} \times F$ is an algebraic space, and \item $\coprod_{i \in I} F_i$ is an algebraic space (see Spaces, Lemma \ref{spaces-lemma-coproduct-algebraic-spaces}). \end{enumerate} Then $F$ is an algebraic space. \end{lemma} 
\begin{lemma} \label{lemma-locally-algebraic-space-finite-type} Let $S$ be a scheme. Let $F : (\Sch/S)_{fppf}^{opp} \to \textit{Sets}$ be a functor. Let $\{S_i \to S\}_{i \in I}$ be a covering of $(\Sch/S)_{fppf}$. Assume that \begin{enumerate} \item $F$ is a sheaf, \item each $F_i = h_{S_i} \times F$ is an algebraic space, and \item the morphisms $F_i \to S_i$ are of finite type. \end{enumerate} Then $F$ is an algebraic space. \end{lemma} 
\begin{lemma} \label{lemma-descend-algebraic-space} \begin{slogan} Fppf descent data for algebraic spaces are effective. \end{slogan} Let $S$ be a scheme. Let $\{X_i \to X\}_{i \in I}$ be an fppf covering of algebraic spaces over $S$. \begin{enumerate} \item If $I$ is countable\footnote{The restriction on countablility can be ignored by those who do not care about set theoretical issues. We can allow larger index sets here if we can bound the size of the algebraic spaces which we are descending. See for example Lemma \ref{lemma-locally-algebraic-space-finite-type}.}, then any descent datum for algebraic spaces relative to $\{X_i \to X\}$ is effective. \item Any descent datum $(Y_i, \varphi_{ij})$ relative to $\{X_i \to X\}_{i \in I}$ (Descent on Spaces, Definition \ref{spaces-descent-definition-descent-datum-for-family-of-morphisms}) with $Y_i \to X_i$ of finite type is effective. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-representable-by-spaces-cover} Let $S$ be a scheme. Let $a : F \to G$ and $b : G \to H$ be transformations of functors $(\Sch/S)_{fppf}^{opp} \to \textit{Sets}$. Assume \begin{enumerate} \item $F, G, H$ are sheaves, \item $a : F \to G$ is representable by algebraic spaces, flat, locally of finite presentation, and surjective, and \item $b \circ a : F \to H$ is representable by algebraic spaces. \end{enumerate} Then $b$ is representable by algebraic spaces. \end{lemma} 
\begin{lemma} \label{lemma-quotient-stack-isom} Assume $B \to S$ and $(U, R, s, t, c)$ are as in Groupoids in Spaces, Definition \ref{spaces-groupoids-definition-quotient-stack} (1). For any scheme $T$ over $S$ and objects $x, y$ of $[U/R]$ over $T$ the sheaf $\mathit{Isom}(x, y)$ on $(\Sch/T)_{fppf}$ is an algebraic space. \end{lemma} 
\begin{lemma} \label{lemma-covering-quotient} Let $S$ be a scheme. Consider an algebraic space $F$ of the form $F = U/R$ where $(U, R, s, t, c)$ is a groupoid in algebraic spaces over $S$ such that $s, t$ are flat and locally of finite presentation, and $j = (t, s) : R \to U \times_S U$ is an equivalence relation. Then $U \to F$ is surjective, flat, and locally of finite presentation. \end{lemma} 
\begin{lemma} \label{lemma-quotient-free-action} Let $S$ be a scheme. Let $X \to B$ be a morphism of algebraic spaces over $S$. Let $G$ be a group algebraic space over $B$ and let $a : G \times_B X \to X$ be an action of $G$ on $X$ over $B$. If \begin{enumerate} \item $a$ is a free action, and \item $G \to B$ is flat and locally of finite presentation, \end{enumerate} then $X/G$ (see Groupoids in Spaces, Definition \ref{spaces-groupoids-definition-quotient-sheaf}) is an algebraic space, the morphism $X \to X/G$ is surjective, flat, and locally of finite presentation, and $X$ is an fppf $G$-torsor over $X/G$. \end{lemma} 
\begin{lemma} \label{lemma-descent-torsor} Let $\{S_i \to S\}_{i \in I}$ be a covering of $(\Sch/S)_{fppf}$. Let $G$ be a group algebraic space over $S$, and denote $G_i = G_{S_i}$ the base changes. Suppose given \begin{enumerate} \item for each $i \in I$ an fppf $G_i$-torsor $X_i$ over $S_i$, and \item for each $i, j \in I$ a $G_{S_i \times_S S_j}$-equivariant isomorphism $\varphi_{ij} : X_i \times_S S_j \to S_i \times_S X_j$ satisfying the cocycle condition over every $S_i \times_S S_j \times_S S_j$. \end{enumerate} Then there exists an fppf $G$-torsor $X$ over $S$ whose base change to $S_i$ is isomorphic to $X_i$ such that we recover the descent datum $\varphi_{ij}$. \end{lemma} 
\begin{lemma} \label{lemma-spaces-etale} Denote the common underlying category of $\Sch_{fppf}$ and $\Sch_\etale$ by $\Sch_\alpha$ (see Topologies, Remark \ref{topologies-remark-choice-sites}). Let $S$ be an object of $\Sch_\alpha$. Let $$ F : (\Sch_\alpha/S)^{opp} \longrightarrow \textit{Sets} $$ be a presheaf with the following properties: \begin{enumerate} \item $F$ is a sheaf for the \'etale topology, \item the diagonal $\Delta : F \to F \times F$ is representable, and \item there exists $U \in \Ob(\Sch_\alpha/S)$ and $U \to F$ which is surjective and \'etale. \end{enumerate} Then $F$ is an algebraic space in the sense of Algebraic Spaces, Definition \ref{spaces-definition-algebraic-space}. \end{lemma} 
\begin{lemma} \label{lemma-spaces-etale-locally-representable} Denote the common underlying category of $\Sch_{fppf}$ and $\Sch_\etale$ by $\Sch_\alpha$ (see Topologies, Remark \ref{topologies-remark-choice-sites}). Let $S$ be an object of $\Sch_\alpha$. Let $$ F : (\Sch_\alpha/S)^{opp} \longrightarrow \textit{Sets} $$ be a presheaf with the following properties: \begin{enumerate} \item $F$ is a sheaf for the \'etale topology, \item there exists an algebraic space $U$ over $S$ and a map $U \to F$ which is representable by algebraic spaces, surjective, and \'etale. \end{enumerate} Then $F$ is an algebraic space in the sense of Algebraic Spaces, Definition \ref{spaces-definition-algebraic-space}. \end{lemma} 
\begin{lemma} \label{lemma-spaces-etale-smooth-cover} Denote the common underlying category of $\Sch_{fppf}$ and $\Sch_\etale$ by $\Sch_\alpha$ (see Topologies, Remark \ref{topologies-remark-choice-sites}). Let $S$ be an object of $\Sch_\alpha$.  $$ F : (\Sch_\alpha/S)^{opp} \longrightarrow \textit{Sets} $$ be a presheaf with the following properties: \begin{enumerate} \item $F$ is a sheaf for the \'etale topology, \item the diagonal $\Delta : F \to F \times F$ is representable by algebraic spaces, and \item there exists $U \in \Ob(\Sch_\alpha/S)$ and $U \to F$ which is surjective and smooth. \end{enumerate} Then $F$ is an algebraic space in the sense of Algebraic Spaces, Definition \ref{spaces-definition-algebraic-space}. \end{lemma} 
\begin{lemma} \label{lemma-spaces-smooth-locally-representable} Denote the common underlying category of $\Sch_{fppf}$ and $\Sch_\etale$ by $\Sch_\alpha$ (see Topologies, Remark \ref{topologies-remark-choice-sites}). Let $S$ be an object of $\Sch_\alpha$. Let $$ F : (\Sch_\alpha/S)^{opp} \longrightarrow \textit{Sets} $$ be a presheaf with the following properties: \begin{enumerate} \item $F$ is a sheaf for the \'etale topology, \item there exists an algebraic space $U$ over $S$ and a map $U \to F$ which is representable by algebraic spaces, surjective, and smooth. \end{enumerate} Then $F$ is an algebraic space in the sense of Algebraic Spaces, Definition \ref{spaces-definition-algebraic-space}. \end{lemma} 
