\begin{definition} \label{definition-impurity} In Situation \ref{situation-pre-pure} we say a diagram (\ref{equation-impurity}) defines an {\it impurity of $\mathcal{F}$ above $y$} if $\xi \in \text{Ass}_{X_T/T}(\mathcal{F}_T)$ and $t \not \in f_T(\overline{\{\xi\}})$. We will indicate this by saying ``let $(g : T \to Y, t' \leadsto t, \xi)$ be an impurity of $\mathcal{F}$ above $y$''. \end{definition} 
\begin{lemma} \label{lemma-impure-limit} In Situation \ref{situation-pre-pure}. Let $(g : T \to S, t' \leadsto t, \xi)$ be an impurity of $\mathcal{F}$ above $y$. Assume $T = \lim_{i \in I} T_i$ is a directed limit of affine schemes over $Y$. Then for some $i$ the triple $(T_i \to Y, t'_i \leadsto t_i, \xi_i)$ is an impurity of $\mathcal{F}$ above $y$. \end{lemma} 
\begin{lemma} \label{lemma-flat-ascent-impurity} In Situation \ref{situation-pre-pure}. Let $(Y_1, y_1) \to (Y, y)$ be a morphism of pointed algebraic spaces over $S$. Assume $Y_1 \to Y$ is flat at $y_1$. If $(T \to Y, t' \leadsto t, \xi)$ is an impurity of $\mathcal{F}$ above $y$, then there exists an impurity $(T_1 \to Y_1, t_1' \leadsto t_1, \xi_1)$ of the pullback $\mathcal{F}_1$ of $\mathcal{F}$ to $X_1 = Y_1 \times_Y X$ over $y_1$ such that $T_1$ is \'etale over $Y_1 \times_Y T$. \end{lemma} 
\begin{lemma} \label{lemma-pure-along-X-y} In Situation \ref{situation-pre-pure}. Let $\overline{y}$ be a geometric point lying over $y$. Let $\mathcal{O} = \mathcal{O}_{Y, \overline{y}}$ be the \'etale local ring of $Y$ at $\overline{y}$. Denote $Y^{sh} = \Spec(\mathcal{O})$, $X^{sh} = X \times_Y Y^{sh}$, and $\mathcal{F}^{sh}$ the pullback of $\mathcal{F}$ to $X^{sh}$. The following are equivalent \begin{enumerate} \item there exists an impurity $(Y^{sh} \to Y, y' \leadsto \overline{y}, \xi)$ of $\mathcal{F}$ above $y$, \item every point of $\text{Ass}_{X^{sh}/Y^{sh}}(\mathcal{F}^{sh})$ specializes to a point of the closed fibre $X_{\overline{y}}$, \item there exists an impurity $(T \to Y, t' \leadsto t, \xi)$ of $\mathcal{F}$ above $y$ such that $(T, t) \to (Y, y)$ is an \'etale neighbourhood, and \item there exists an impurity $(T \to Y, t' \leadsto t, \xi)$ of $\mathcal{F}$ above $y$ such that $T \to Y$ is quasi-finite at $t$. \end{enumerate} \end{lemma} 
\begin{definition} \label{definition-pure} In Situation \ref{situation-pre-pure}. \begin{enumerate} \item We say $\mathcal{F}$ is {\it pure above $y$} if {\bf none} of the equivalent conditions of Lemma \ref{lemma-pure-along-X-y} hold. \item We say $\mathcal{F}$ is {\it universally pure above $y$} if there does not exist any impurity of $\mathcal{F}$ above $y$. \item We say that $X$ is {\it pure above $y$} if $\mathcal{O}_X$ is pure above $y$. \item We say $\mathcal{F}$ is {\it universally $Y$-pure}, or {\it universally pure relative to $Y$} if $\mathcal{F}$ is universally pure above $y$ for every $y \in |Y|$. \item We say $\mathcal{F}$ is {\it $Y$-pure}, or {\it pure relative to $Y$} if $\mathcal{F}$ is pure above $y$ for every $y \in |Y|$. \item We say that $X$ is {\it $Y$-pure} or {\it pure relative to $Y$} if $\mathcal{O}_X$ is pure relative to $Y$. \end{enumerate} \end{definition} 
\begin{lemma} \label{lemma-base-change-universally} In Situation \ref{situation-pre-pure}. \begin{enumerate} \item $\mathcal{F}$ is universally pure above $y$, and \item for every morphism $(Y', y') \to (Y, y)$ of pointed algebraic spaces the pullback $\mathcal{F}_{Y'}$ is pure above $y'$. \end{enumerate} In particular, $\mathcal{F}$ is universally pure relative to $Y$ if and only if every base change $\mathcal{F}_{Y'}$ of $\mathcal{F}$ is pure relative to $Y'$. \end{lemma} 
\begin{lemma} \label{lemma-quasi-finite-base-change} In Situation \ref{situation-pre-pure}. Let $(Y', y') \to (Y, y)$ be a morphism of pointed algebraic spaces. If $Y' \to Y$ is quasi-finite at $y'$ and $\mathcal{F}$ is pure above $y$, then $\mathcal{F}_{Y'}$ is pure above $y'$. \end{lemma} 
\begin{lemma} \label{lemma-flat-descend-pure} In Situation \ref{situation-pre-pure}. Let $(Y_1, y_1) \to (Y, y)$ be a morphism of pointed algebraic spaces. Assume $Y_1 \to Y$ is flat at $y_1$. \begin{enumerate} \item If $\mathcal{F}_{Y_1}$ is pure above $y_1$, then $\mathcal{F}$ is pure above $y$. \item If $\mathcal{F}_{Y_1}$ is universally pure above $y_1$, then $\mathcal{F}$ is universally pure above $y$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-supported-on-closed} In Situation \ref{situation-pre-pure}. Let $i : Z \to X$ be a closed immersion and assume that $\mathcal{F} = i_*\mathcal{G}$ for some finite type, quasi-coherent sheaf $\mathcal{G}$ on $Z$. Then $\mathcal{G}$ is (universally) pure above $y$ if and only if $\mathcal{F}$ is (universally) pure above $y$. \end{lemma} 
\begin{lemma} \label{lemma-proper-pure} In Situation \ref{situation-pre-pure}. \begin{enumerate} \item If the support of $\mathcal{F}$ is proper over $Y$, then $\mathcal{F}$ is universally pure relative to $Y$. \item If $f$ is proper, then $\mathcal{F}$ is universally pure relative to $Y$. \item If $f$ is proper, then $X$ is universally pure relative to $Y$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-existence-complete} Let $S$ be a scheme. Let $X \to Y$ be a finite type morphism of algebraic spaces over $S$. Let $\mathcal{F}$ be a finite type quasi-coherent $\mathcal{O}_X$-module. Let $y \in |Y|$ be a point. There exists an \'etale morphism $(Y', y') \to (Y, y)$ with $Y'$ an affine scheme and \'etale morphisms $h_i : W_i \to X_{Y'}$, $i = 1, \ldots, n$ such that for each $i$ there exists a complete d\'evissage of $\mathcal{F}_i/W_i/Y'$ over $y'$, where $\mathcal{F}_i$ is the pullback of $\mathcal{F}$ to $W_i$ and such that $|(X_{Y'})_{y'}| \subset \bigcup h_i(W_i)$. \end{lemma} 
\begin{lemma} \label{lemma-open-in-fibre-where-flat} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$ which is locally of finite type. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module of finite type. Let $y \in |Y|$ and $F = f^{-1}(\{y\}) \subset |X|$. Then the set $$ \{x \in F \mid \mathcal{F} \text{ flat over }Y\text{ at }x\} $$ is open in $F$. \end{lemma} 
\begin{lemma} \label{lemma-bourbaki-finite-type-general-base-at-point} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$ which is locally of finite type. Let $x \in |X|$ with image $y \in |Y|$. Let $\mathcal{F}$ be a finite type quasi-coherent sheaf on $X$. Let $\mathcal{G}$ be a quasi-coherent sheaf on $Y$. If $\mathcal{F}$ is flat at $x$ over $Y$, then $$ x \in \text{WeakAss}_X(\mathcal{F} \otimes_{\mathcal{O}_X} f^*\mathcal{G}) \Leftrightarrow y \in \text{WeakAss}_Y(\mathcal{G}) \text{ and } x \in \text{Ass}_{X/Y}(\mathcal{F}). $$ \end{lemma} 
\begin{lemma} \label{lemma-bourbaki-finite-type-general-base} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$ which is locally of finite type. Let $\mathcal{F}$ be a finite type quasi-coherent sheaf on $X$ which is flat over $Y$. Let $\mathcal{G}$ be a quasi-coherent sheaf on $Y$. Then we have $$ \text{WeakAss}_X(\mathcal{F} \otimes_{\mathcal{O}_X} f^*\mathcal{G}) = \text{Ass}_{X/Y}(\mathcal{F}) \cap |f|^{-1}(\text{WeakAss}_Y(\mathcal{G})) $$ \end{lemma} 
\begin{theorem} \label{theorem-finite-type-flat} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Assume \begin{enumerate} \item $X \to Y$ is locally of finite presentation, \item $\mathcal{F}$ is an $\mathcal{O}_X$-module of finite type, and \item the set of weakly associated points of $Y$ is locally finite in $Y$. \end{enumerate} Then $U = \{x \in |X| : \mathcal{F}\text{ flat at }x\text{ over }Y\}$ is open in $X$ and $\mathcal{F}|_U$ is an $\mathcal{O}_U$-module of finite presentation and flat over $Y$. \end{theorem} 
\begin{lemma} \label{lemma-finite-type-flat-along-fibre-free-variant} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$. Let $\mathcal{F}$ be a quasi-coherent sheaf on $X$. Let $y \in |Y|$. Set $F = f^{-1}(\{y\}) \subset |X|$. Assume that \begin{enumerate} \item $f$ is of finite type, \item $\mathcal{F}$ is of finite type, and \item $\mathcal{F}$ is flat over $Y$ at all $x \in F$. \end{enumerate} Then there exists an \'etale morphism $(Y', y') \to (Y, y)$ where $Y'$ is a scheme and a commutative diagram of algebraic spaces $$ \xymatrix{ X \ar[d] & X' \ar[l]^g \ar[d] \\ Y & \Spec(\mathcal{O}_{Y', y'}) \ar[l] } $$ such that $X' \to X \times_Y \Spec(\mathcal{O}_{Y', y'})$ is \'etale, $|X'_{y'}| \to F$ is surjective, $X'$ is affine, and $\Gamma(X', g^*\mathcal{F})$ is a free $\mathcal{O}_{Y', y'}$-module. \end{lemma} 
\begin{theorem} \label{theorem-check-flatness-at-associated-points} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$ which is locally of finite type. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module of finite type. Let $x \in |X|$ with image $y \in |Y|$. Set $F = f^{-1}(\{y\}) \subset |X|$. Consider the conditions \begin{enumerate} \item $\mathcal{F}$ is flat at $x$ over $Y$, and \item for every $x' \in F \cap \text{Ass}_{X/Y}(\mathcal{F})$ which specializes to $x$ we have that $\mathcal{F}$ is flat at $x'$ over $Y$. \end{enumerate} Then we always have (2) $\Rightarrow$ (1). If $X$ and $Y$ are decent, then (1) $\Rightarrow$ (2). \end{theorem} 
\begin{lemma} \label{lemma-check-along-closed-fibre} Let $S$ be a local scheme with closed point $s$. Let $f : X \to S$ be a morphism from an algebraic space $X$ to $S$ which is locally of finite type. Let $\mathcal{F}$ be a finite type quasi-coherent $\mathcal{O}_X$-module. Assume that \begin{enumerate} \item every point of $\text{Ass}_{X/S}(\mathcal{F})$ specializes to a point of the closed fibre $X_s$\footnote{For example this holds if $f$ is finite type and $\mathcal{F}$ is pure along $X_s$, or if $f$ is proper.}, \item $\mathcal{F}$ is flat over $S$ at every point of $X_s$. \end{enumerate} Then $\mathcal{F}$ is flat over $S$. \end{lemma} 
\begin{proposition} \label{proposition-finite-presentation-flat-at-point} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$. Let $\mathcal{F}$ be a quasi-coherent sheaf on $X$. Let $x \in |X|$ with image $y \in |Y|$. Assume that \begin{enumerate} \item $f$ is locally of finite presentation, \item $\mathcal{F}$ is of finite presentation, and \item $\mathcal{F}$ is flat at $x$ over $Y$. \end{enumerate} Then there exists a commutative diagram of pointed schemes $$ \xymatrix{ (X, x) \ar[d] & (X', x') \ar[l]^g \ar[d] \\ (Y, y) & (Y', y') \ar[l] } $$ whose horizontal arrows are \'etale such that $X'$, $Y'$ are affine and such that $\Gamma(X', g^*\mathcal{F})$ is a projective $\Gamma(Y', \mathcal{O}_{Y'})$-module. \end{proposition} 
\begin{lemma} \label{lemma-finite-presentation-flat-along-fibre} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$. Let $\mathcal{F}$ be a quasi-coherent sheaf on $X$. Let $y \in |Y|$. Set $F = f^{-1}(\{y\}) \subset |X|$. Assume that \begin{enumerate} \item $f$ is of finite presentation, \item $\mathcal{F}$ is of finite presentation, and \item $\mathcal{F}$ is flat over $Y$ at all $x \in F$. \end{enumerate} Then there exists a commutative diagram of algebraic spaces $$ \xymatrix{ X \ar[d] & X' \ar[l]^g \ar[d] \\ Y & Y' \ar[l]_h } $$ such that $h$ and $g$ are \'etale, there is a point $y' \in |Y'|$ mapping to $y$, we have $F \subset g(|X'|)$, the algebraic spaces $X'$, $Y'$ are affine, and $\Gamma(X', g^*\mathcal{F})$ is a projective $\Gamma(Y', \mathcal{O}_{Y'})$-module. \end{lemma} 
\begin{lemma} \label{lemma-associated-point-specializes} Let $S$ be a scheme. Let $X$ be a decent algebraic space locally of finite type over $S$. Let $\mathcal{F}$ be a finite type, quasi-coherent $\mathcal{O}_X$-module. Let $s \in S$ such that $\mathcal{F}$ is flat over $S$ at all points of $X_s$. Let $x' \in \text{Ass}_{X/S}(\mathcal{F})$. If the closure of $\{x'\}$ in $|X|$ meets $|X_s|$, then the closure meets $\text{Ass}_{X/S}(\mathcal{F}) \cap |X_s|$. \end{lemma} 
\begin{lemma} \label{lemma-contains-relative-ass-after-base-change} Let $Y$ be an algebraic space over a scheme $S$. Let $g : X' \to X$ be a morphism of algebraic spaces over $Y$ with $X$ locally of finite type over $Y$. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. If $\text{Ass}_{X/Y}(\mathcal{F}) \subset g(|X'|)$, then for any morphism $Z \to Y$ we have $\text{Ass}_{X_Z/Z}(\mathcal{F}_Z) \subset g_Z(|X'_Z|)$. \end{lemma} 
\begin{lemma} \label{lemma-pure-on-top} Let $Y$ be an algebraic space over a scheme $S$. Let $g : X' \to X$ be an \'etale morphism of algebraic spaces over $Y$. Assume the structure morphisms $X' \to Y$ and $X \to Y$ are decent and of finite type. Let $\mathcal{F}$ be a finite type, quasi-coherent $\mathcal{O}_X$-module. Let $y \in |Y|$. Set $F = f^{-1}(\{y\}) \subset |X|$. \begin{enumerate} \item If $\text{Ass}_{X/Y}(\mathcal{F}) \subset g(|X'|)$ and $g^*\mathcal{F}$ is (universally) pure above $y$, then $\mathcal{F}$ is (universally) pure above $y$. \item If $\mathcal{F}$ is pure above $y$, $g(|X'|)$ contains $F$, and $Y$ is affine local with closed point $y$, then $\text{Ass}_{X/Y}(\mathcal{F}) \subset g(|X'|)$. \item If $\mathcal{F}$ is pure above $y$, $\mathcal{F}$ is flat at all points of $F$, $g(|X'|)$ contains $\text{Ass}_{X/Y}(\mathcal{F}) \cap F$, and $Y$ is affine local with closed point $y$, then $\text{Ass}_{X/Y}(\mathcal{F}) \subset g(|X'|)$. \item Add more here. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-finite-type-flat-pure-along-fibre-is-universal} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. Let $y \in |Y|$. Assume \begin{enumerate} \item $f$ is decent and of finite type, \item $\mathcal{F}$ is of finite type, \item $\mathcal{F}$ is flat over $Y$ at all points lying over $y$, and \item $\mathcal{F}$ is pure above $y$. \end{enumerate} Then $\mathcal{F}$ is universally pure above $y$. \end{lemma} 
\begin{lemma} \label{lemma-finite-type-flat-pure-is-universal} Let $S$ be a scheme. Let $f : X \to Y$ be a decent, finite type morphism of algebraic spaces over $S$. Let $\mathcal{F}$ be a finite type quasi-coherent $\mathcal{O}_X$-module. Assume $\mathcal{F}$ is flat over $Y$. In this case $\mathcal{F}$ is pure relative to $Y$ if and only if $\mathcal{F}$ is universally pure relative to $Y$. \end{lemma} 
\begin{lemma} \label{lemma-universally-separating} Let $Y$ be an algebraic space over a scheme $S$. Let $g : X' \to X$ be a flat morphism of algebraic spaces over $Y$ with $X$ locally of finite type over $Y$. Let $\mathcal{F}$ be a finite type quasi-coherent $\mathcal{O}_X$-module which is flat over $Y$. If $\text{Ass}_{X/Y}(\mathcal{F}) \subset g(|X'|)$ then the canonical map $$ \mathcal{F} \longrightarrow g_*g^*\mathcal{F} $$ is injective, and remains injective after any base change. \end{lemma} 
\begin{lemma} \label{lemma-iso-sheaf} In Situation \ref{situation-iso}. Each of the functors $F_{iso}$, $F_{inj}$, $F_{surj}$, $F_{zero}$ satisfies the sheaf property for the fpqc topology. \end{lemma} 
\begin{lemma} \label{lemma-iso-go-up} In Situation \ref{situation-iso} let $X' \to X$ be a flat morphism of algebraic spaces. Denote $u' : \mathcal{F}' \to \mathcal{G}'$ the pullback of $u$ to $X'$. Denote $F'_{iso}$, $F'_{inj}$, $F'_{surj}$, $F'_{zero}$ the functors on $\Sch/B$ associated to $u'$. \begin{enumerate} \item If $\mathcal{G}$ is of finite type and the image of $|X'| \to |X|$ contains the support of $\mathcal{G}$, then $F_{surj} = F'_{surj}$ and $F_{zero} = F'_{zero}$. \item If $\mathcal{F}$ is of finite type and the image of $|X'| \to |X|$ contains the support of $\mathcal{F}$, then $F_{inj} = F'_{inj}$ and $F_{zero} = F'_{zero}$. \item If $\mathcal{F}$ and $\mathcal{G}$ are of finite type and the image of $|X'| \to |X|$ contains the supports of $\mathcal{F}$ and $\mathcal{G}$, then $F_{iso} = F'_{iso}$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-iso-limits} In Situation \ref{situation-iso}. \begin{enumerate} \item If $\mathcal{G}$ is of finite type and the scheme theoretic support of $\mathcal{G}$ is quasi-compact over $B$, then $F_{surj}$ is limit preserving. \item If $\mathcal{F}$ of finite type and the scheme theoretic support of $\mathcal{F}$ is quasi-compact over $B$, then $F_{zero}$ is limit preserving. \item If $\mathcal{F}$ is of finite type, $\mathcal{G}$ is of finite presentation, and the scheme theoretic supports of $\mathcal{F}$ and $\mathcal{G}$ are quasi-compact over $B$, then $F_{iso}$ is limit preserving. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-relate-zero-iso} In Situation \ref{situation-iso} suppose given an exact sequence $$ \mathcal{F} \xrightarrow{u} \mathcal{G} \xrightarrow{v} \mathcal{H} \to 0 $$ Then we have $F_{v, iso} = F_{u, zero}$ with obvious notation. \end{lemma} 
\begin{lemma} \label{lemma-relate-zero-affine} In Situation \ref{situation-iso} suppose given an affine morphism $i : Z \to X$ and a quasi-coherent $\mathcal{O}_Z$-module $\mathcal{H}$ such that $\mathcal{G} = i_*\mathcal{H}$. Let $v : i^*\mathcal{F} \to \mathcal{H}$ be the map adjoint to $u$. Then \begin{enumerate} \item $F_{v, zero} = F_{u, zero}$, and \item if $i$ is a closed immersion, then $F_{v, surj} = F_{u, surj}$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-relate-zero-affine-push} In Situation \ref{situation-iso} suppose given an affine morphism $g : X \to X'$. Set $u' = f_*u : f_*\mathcal{F} \to f_*\mathcal{G}$. Then $F_{u, iso} = F_{u', iso}$, $F_{u, inj} = F_{u', inj}$, $F_{u, surj} = F_{u', surj}$, and $F_{u, zero} = F_{u', zero}$. \end{lemma} 
\begin{lemma} \label{lemma-flat} In Situation \ref{situation-flat}. \begin{enumerate} \item The functor $F_{flat}$ satisfies the sheaf property for the fpqc topology. \item If $f$ is quasi-compact and locally of finite presentation and $\mathcal{F}$ is of finite presentation, then the functor $F_{flat}$ is limit preserving. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-F-zero-somewhat-closed} In Situation \ref{situation-somewhat-closed}. Let $T \to S$ be a quasi-compact morphism of schemes such that the base change $u_T$ is zero. Then exists a closed subscheme $Z \subset S$ such that (a) $T \to S$ factors through $Z$ and (b) the base change $u_Z$ is zero. If $\mathcal{F}$ is a finite type $\mathcal{O}_X$-module and the scheme theoretic support of $\mathcal{F}$ is quasi-compact, then we can take $Z \to S$ of finite presentation. \end{lemma} 
\begin{lemma} \label{lemma-F-zero-module-map} Let $A$ be a ring. Let $u : M \to N$ be a map of $A$-modules. If $N$ is projective as an $A$-module, then there exists an ideal $I \subset A$ such that for any ring map $\varphi : A \to B$ the following are equivalent \begin{enumerate} \item $u \otimes 1 : M \otimes_A B \to N \otimes_A B$ is zero, and \item $\varphi(I) = 0$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-F-zero-somewhat-closed-points} In Situation \ref{situation-somewhat-closed}. Let $T \subset S$ be a subset. Let $s \in S$ be in the closure of $T$. For $t \in T$, let $u_t$ be the pullback of $u$ to $X_t$ and let $u_s$ be the pullback of $u$ to $X_s$. If $X$ is locally of finite presentation over $S$, $\mathcal{G}$ is of finite presentation\footnote{It would suffice if $X$ is locally of finite type over $S$ and $\mathcal{G}$ is finitely presented relative to $S$, but this notion hasn't yet been defined in the setting of algebraic spaces. The definition for schemes is given in More on Morphisms, Section \ref{more-morphisms-section-finite-type-finite-presentation}.}, and $u_t = 0$ for all $t \in T$, then $u_s = 0$. \end{lemma} 
\begin{lemma} \label{lemma-F-zero-closed-pure} In Situation \ref{situation-iso}. Assume \begin{enumerate} \item $f$ is of finite presentation, and \item $\mathcal{G}$ is of finite presentation, flat over $B$, and pure relative to $B$. \end{enumerate} Then $F_{zero}$ is an algebraic space and $F_{zero} \to B$ is a closed immersion. If $\mathcal{F}$ is of finite type, then $F_{zero} \to B$ is of finite presentation. \end{lemma} 
\begin{lemma} \label{lemma-F-zero-closed-proper} In Situation \ref{situation-iso}. Assume \begin{enumerate} \item $f$ is locally of finite presentation, \item $\mathcal{G}$ is an $\mathcal{O}_X$-module of finite presentation flat over $B$, \item the support of $\mathcal{G}$ is proper over $B$. \end{enumerate} Then the functor $F_{zero}$ is an algebraic space and $F_{zero} \to B$ is a closed immersion. If $\mathcal{F}$ is of finite type, then $F_{zero} \to B$ is of finite presentation. \end{lemma} 
\begin{theorem} \label{theorem-flattening-map} In Situation \ref{situation-iso} assume \begin{enumerate} \item $f$ is of finite presentation, \item $\mathcal{F}$ is of finite presentation, flat over $B$, and pure relative to $B$, and \item $u$ is surjective. \end{enumerate} Then $F_{iso}$ is representable by a closed immersion $Z \to B$. Moreover $Z \to S$ is of finite presentation if $\mathcal{G}$ is of finite presentation. \end{theorem} 
\begin{lemma} \label{lemma-F-iso-closed} In Situation \ref{situation-iso}. Assume \begin{enumerate} \item $f$ is locally of finite presentation, \item $\mathcal{F}$ is locally of finite presentation and flat over $B$, \item the support of $\mathcal{F}$ is proper over $B$, and \item $u$ is surjective. \end{enumerate} Then the functor $F_{iso}$ is an algebraic space and $F_{iso} \to B$ is a closed immersion. If $\mathcal{G}$ is of finite presentation, then $F_{iso} \to B$ is of finite presentation. \end{lemma} 
\begin{lemma} \label{lemma-F-surj-open} In Situation \ref{situation-iso}. Assume \begin{enumerate} \item $f$ is locally of finite presentation, \item $\mathcal{G}$ is of finite type, \item the support of $\mathcal{G}$ is proper over $B$. \end{enumerate} Then $F_{surj}$ is an algebraic space and $F_{surj} \to B$ is an open immersion. \end{lemma} 
\begin{lemma} \label{lemma-freebie} Let $S$ be the spectrum of a henselian local ring with closed point $s$. Let $X \to S$ be a morphism of algebraic spaces which is locally of finite type. Let $\mathcal{F}$ be a finite type quasi-coherent $\mathcal{O}_X$-module. Let $E \subset |X_s|$ be a subset. There exists a closed subscheme $Z \subset S$ with the following property: for any morphism of pointed schemes $(T, t) \to (S, s)$ the following are equivalent \begin{enumerate} \item $\mathcal{F}_T$ is flat over $T$ at all points of $|X_t|$ which map to a point of $E \subset |X_s|$, and \item $\Spec(\mathcal{O}_{T, t}) \to S$ factors through $Z$. \end{enumerate} Moreover, if $X \to S$ is locally of finite presentation, $\mathcal{F}$ is of finite presentation, and $E \subset |X_s|$ is closed and quasi-compact, then $Z \to S$ is of finite presentation. \end{lemma} 
\begin{definition} \label{definition-flattening} Let $S$ be a scheme. Let $X \to Y$ be a morphism of algebraic spaces over $S$. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. We say that the {\it universal flattening of $\mathcal{F}$ exists} if the functor $F_{flat}$ defined in Situation \ref{situation-flat} is an algebraic space. We say that the {\it universal flattening of $X$ exists} if the universal flattening of $\mathcal{O}_X$ exists. \end{definition} 
\begin{lemma} \label{lemma-pre-flat-dimension-n} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces which is locally of finite type. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module of finite type. Let $n \geq 0$. The following are equivalent \begin{enumerate} \item for some commutative diagram $$ \xymatrix{ U \ar[d]_\varphi \ar[r] & V \ar[d] \\ X \ar[r] & Y } $$ with surjective, \'etale vertical arrows where $U$ and $V$ are schemes, the sheaf $\varphi^*\mathcal{F}$ is flat over $V$ in dimensions $\geq n$ (More on Flatness, Definition \ref{flat-definition-flat-dimension-n}), \item for every commutative diagram $$ \xymatrix{ U \ar[d]_\varphi \ar[r] & V \ar[d] \\ X \ar[r] & Y } $$ with \'etale vertical arrows where $U$ and $V$ are schemes, the sheaf $\varphi^*\mathcal{F}$ is flat over $V$ in dimensions $\geq n$, and \item for $x \in |X|$ such that $\mathcal{F}$ is not flat at $x$ over $Y$ the transcendence degree of $x/f(x)$ is $< n$ (Morphisms of Spaces, Definition \ref{spaces-morphisms-definition-dimension-fibre}). \end{enumerate} If this is true, then it remains true after any base change $Y' \to Y$. \end{lemma} 
\begin{definition} \label{definition-flat-dimension-n} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$ which is locally of finite type. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module of finite type. Let $n \geq 0$. We say {\it $\mathcal{F}$ is flat over $Y$ in dimensions $\geq n$} if the equivalent conditions of Lemma \ref{lemma-pre-flat-dimension-n} are satisfied. \end{definition} 
\begin{lemma} \label{lemma-flat-dimension-n} In Situation \ref{situation-flat-dimension-n}. \begin{enumerate} \item The functor $F_n$ satisfies the sheaf property for the fpqc topology. \item If $f$ is quasi-compact and locally of finite presentation and $\mathcal{F}$ is of finite presentation, then the functor $F_n$ is limit preserving. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-localize-flat-dimension-n} In Situation \ref{situation-flat-dimension-n}. Let $h : X' \to X$ be an \'etale morphism. Set $\mathcal{F}' = h^*\mathcal{F}$ and $f' = f \circ h$. Let $F_n'$ be (\ref{equation-flat-dimension-n}) associated to $(f' : X' \to Y, \mathcal{F}')$. Then $F_n$ is a subfunctor of $F_n'$ and if $h(X') \supset \text{Ass}_{X/Y}(\mathcal{F})$, then $F_n = F'_n$. \end{lemma} 
\begin{theorem} \label{theorem-flat-dimension-n-representable} In Situation \ref{situation-flat-dimension-n}. Assume moreover that $f$ is of finite presentation, that $\mathcal{F}$ is an $\mathcal{O}_X$-module of finite presentation, and that $\mathcal{F}$ is pure relative to $Y$. Then $F_n$ is an algebraic space and $F_n \to Y$ is a monomorphism of finite presentation. \end{theorem} 
\begin{lemma} \label{lemma-when-universal-flattening} Let $S$ be a scheme. Let $f : X \to Y$ be a morphism of algebraic spaces over $S$. Let $\mathcal{F}$ be a quasi-coherent $\mathcal{O}_X$-module. \begin{enumerate} \item If $f$ is of finite presentation, $\mathcal{F}$ is an $\mathcal{O}_X$-module of finite presentation, and $\mathcal{F}$ is pure relative to $Y$, then there exists a universal flattening $Y' \to Y$ of $\mathcal{F}$. Moreover $Y' \to Y$ is a monomorphism of finite presentation. \item If $f$ is of finite presentation and $X$ is pure relative to $Y$, then there exists a universal flattening $Y' \to Y$ of $X$. Moreover $Y' \to Y$ is a monomorphism of finite presentation. \item If $f$ is proper and of finite presentation and $\mathcal{F}$ is an $\mathcal{O}_X$-module of finite presentation, then there exists a universal flattening $Y' \to Y$ of $\mathcal{F}$. Moreover $Y' \to Y$ is a monomorphism of finite presentation. \item If $f$ is proper and of finite presentation then there exists a universal flattening $Y' \to Y$ of $X$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-compute-what-it-should-be} In Situation \ref{situation-existence} consider $$ K = R\lim_{D_\QCoh(\mathcal{O}_X)}(\mathcal{F}_n) = DQ_X(R\lim_{D(\mathcal{O}_X)}\mathcal{F}_n) $$ Then $K$ is in $D^b_{\QCoh}(\mathcal{O}_X)$ and in fact $K$ has nonzero cohomology sheaves only in degrees $\geq 0$. \end{lemma} 
\begin{lemma} \label{lemma-compute-against-perfect} In Situation \ref{situation-existence} let $K$ be as in Lemma \ref{lemma-compute-what-it-should-be}. For any perfect object $E$ of $D(\mathcal{O}_X)$ we have \begin{enumerate} \item $M = R\Gamma(X, K \otimes^\mathbf{L} E)$ is a perfect object of $D(A)$ and there is a canonical isomorphism $R\Gamma(X_n, \mathcal{F}_n \otimes^\mathbf{L} E|_{X_n}) = M \otimes_A^\mathbf{L} A_n$ in $D(A_n)$, \item $N = R\Hom_X(E, K)$ is a perfect object of $D(A)$ and there is a canonical isomorphism $R\Hom_{X_n}(E|_{X_n}, \mathcal{F}_n) = N \otimes_A^\mathbf{L} A_n$ in $D(A_n)$. \end{enumerate} In both statements $E|_{X_n}$ denotes the derived pullback of $E$ to $X_n$. \end{lemma} 
\begin{lemma} \label{lemma-relative-pseudo-coherence} In Situation \ref{situation-existence} let $K$ be as in Lemma \ref{lemma-compute-what-it-should-be}. Then $K$ is pseudo-coherent relative to $A$. \end{lemma} 
\begin{lemma} \label{lemma-compute-over-affine} In Situation \ref{situation-existence} let $K$ be as in Lemma \ref{lemma-compute-what-it-should-be}. For any \'etale morphism $U \to X$ with $U$ quasi-compact and quasi-separated we have $$ R\Gamma(U, K) \otimes_A^\mathbf{L} A_n = R\Gamma(U_n, \mathcal{F}_n) $$ in $D(A_n)$ where $U_n = U \times_X X_n$. \end{lemma} 
\begin{lemma} \label{lemma-finitely-presented} In Situation \ref{situation-existence} let $K$ be as in Lemma \ref{lemma-compute-what-it-should-be}. Denote $X_0 \subset |X|$ the closed subset consisting of points lying over the closed subset $\Spec(A_1) = \Spec(A_2) = \ldots$ of $\Spec(A)$. There exists an open subspace $W \subset X$ containing $X_0$ such that \begin{enumerate} \item $H^i(K)|_W$ is zero unless $i = 0$, \item $\mathcal{F} = H^0(K)|_W$ is of finite presentation, and \item $\mathcal{F}_n = \mathcal{F} \otimes_{\mathcal{O}_X} \mathcal{O}_{X_n}$. \end{enumerate} \end{lemma} 
\begin{lemma} \label{lemma-proper-support} In Situation \ref{situation-existence} let $K$ be as in Lemma \ref{lemma-compute-what-it-should-be}. Let $W \subset X$ be as in Lemma \ref{lemma-finitely-presented}. Set $\mathcal{F} = H^0(K)|_W$. Then, after possibly shrinking the open $W$, the support of $\mathcal{F}$ is proper over $A$. \end{lemma} 
\begin{theorem}[Grothendieck Existence Theorem] \label{theorem-existence} In Situation \ref{situation-existence} there exists a finitely presented $\mathcal{O}_X$-module $\mathcal{F}$, flat over $A$, with support proper over $A$, such that $\mathcal{F}_n = \mathcal{F} \otimes_{\mathcal{O}_X} \mathcal{O}_{X_n}$ for all $n$ compatibly with the maps $\varphi_n$. \end{theorem} 
\begin{lemma} \label{lemma-compute-what-it-should-be-derived} In Situation \ref{situation-existence-derived} consider $$ K = R\lim_{D_\QCoh(\mathcal{O}_X)}(K_n) = DQ_X(R\lim_{D(\mathcal{O}_X)} K_n) $$ Then $K$ is in $D^-_{\QCoh}(\mathcal{O}_X)$. \end{lemma} 
\begin{lemma} \label{lemma-compute-against-perfect-derived} In Situation \ref{situation-existence-derived} let $K$ be as in Lemma \ref{lemma-compute-what-it-should-be-derived}. For any perfect object $E$ of $D(\mathcal{O}_X)$ the cohomology $$ M = R\Gamma(X, K \otimes^\mathbf{L} E) $$ is a pseudo-coherent object of $D(A)$ and there is a canonical isomorphism $$ R\Gamma(X_n, K_n \otimes^\mathbf{L} E|_{X_n}) = M \otimes_A^\mathbf{L} A_n $$ in $D(A_n)$. Here $E|_{X_n}$ denotes the derived pullback of $E$ to $X_n$. \end{lemma} 
\begin{lemma} \label{lemma-relative-pseudo-coherence-derived} In Situation \ref{situation-existence-derived} let $K$ be as in Lemma \ref{lemma-compute-what-it-should-be-derived}. Then $K$ is pseudo-coherent on $X$. \end{lemma} 
\begin{lemma} \label{lemma-compute-over-affine-derived} In Situation \ref{situation-existence-derived} let $K$ be as in Lemma \ref{lemma-compute-what-it-should-be-derived}. For any \'etale morphism $U \to X$ with $U$ quasi-compact and quasi-separated we have $$ R\Gamma(U, K) \otimes_A^\mathbf{L} A_n = R\Gamma(U_n, K_n) $$ in $D(A_n)$ where $U_n = U \times_X X_n$. \end{lemma} 
\begin{theorem}[Derived Grothendieck Existence Theorem] \label{theorem-existence-derived} In Situation \ref{situation-existence-derived} there exists a pseudo-coherent $K$ in $D(\mathcal{O}_X)$ such that $K_n = K \otimes_{\mathcal{O}_X}^\mathbf{L} \mathcal{O}_{X_n}$ for all $n$ compatibly with the maps $\varphi_n$. \end{theorem} 
